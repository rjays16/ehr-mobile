(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["encounter-history-encounter-history-module"],{

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/encounter-history/encounter-history.page.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/encounter-history/encounter-history.page.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<app-headerbar title=\"Encounter History\"></app-headerbar>\r\n\r\n<ion-content>\r\n  <ion-refresher slot=\"fixed\" pullFactor=\"0.5\" pullMin=\"100\" pullMax=\"200\" (ionRefresh)=\"doRefreshEncounterHistory($event)\">\r\n    <ion-refresher-content></ion-refresher-content>\r\n  </ion-refresher>\r\n  <div class=\"wrapper\">\r\n    <div class=\"testServer\" *ngIf=\"loginService.inTestServer\">\r\n      TEST SERVER CONECTED\r\n    </div>\r\n    <ion-list>\r\n      <div class=\"noresult\" *ngIf=\"(encounterList && encounterList.length < 1) || !(encounterList)\">\r\n        No History\r\n      </div>\r\n      <ion-item-sliding *ngFor=\"let encounter of encounterList; let i = index\">\r\n        <ion-item>\r\n          <ion-grid>\r\n            <ion-row class=\"smallestText\">\r\n              <ion-col size=\"4\">Encounter No.</ion-col>\r\n              <ion-col size=\"3\">Patient Type</ion-col>\r\n              <ion-col size=\"5\">Clinic/Department</ion-col>\r\n            </ion-row>\r\n            <ion-row class=\"smallTextBlack\">\r\n              <ion-col size=\"4\">{{encounter.encounter_no}}</ion-col>\r\n              <ion-col size=\"3\">\r\n                <div class=\"blueBackground\" *ngIf=\"encounter.deptenc_code == 'ope'\">{{defaultOptions.ope}}</div>\r\n                <div class=\"blueBackground\" *ngIf=\"encounter.deptenc_code == 'ipe'\">{{defaultOptions.ipe}}</div>\r\n                <div class=\"blueBackground\" *ngIf=\"encounter.deptenc_code == 'ere'\">{{defaultOptions.ere}}</div>\r\n              </ion-col>\r\n              <ion-col size=\"5\">{{encounter.area_desc}}</ion-col>\r\n            </ion-row>\r\n            <ion-row class=\"smallestText\">\r\n              <ion-col size=\"6\">Admission Date</ion-col>\r\n              <ion-col size=\"6\">Discharge Date</ion-col>\r\n            </ion-row>\r\n            <ion-row class=\"smallTextBlack\">\r\n              <ion-col size=\"6\">{{encounter.encounter_date}}</ion-col>\r\n              <ion-col size=\"6\">{{encounter.discharge_dt}}</ion-col>\r\n            </ion-row>\r\n          </ion-grid>\r\n        </ion-item>\r\n        <ion-item-options side=\"end\">\r\n          <ion-item-option (click)=\"showDetails(i)\"><ion-icon ios=\"ios-eye\" md=\"md-eye\"></ion-icon></ion-item-option>\r\n        </ion-item-options>\r\n      </ion-item-sliding>\r\n    </ion-list>\r\n  </div>\r\n</ion-content>\r\n");

/***/ }),

/***/ "./src/app/app/services/alert-service.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/app/services/alert-service.service.ts ***!
  \*******************************************************/
/*! exports provided: AlertServiceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertServiceService", function() { return AlertServiceService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/pages/prompt-modal/prompt-modal.page */ "./src/app/pages/prompt-modal/prompt-modal.page.ts");




let AlertServiceService = class AlertServiceService {
    constructor(toastCtrl, modalController, alertController) {
        this.toastCtrl = toastCtrl;
        this.modalController = modalController;
        this.alertController = alertController;
    }
    alertToast(message) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            console.log('AlertToast Message:', message);
            const toast = yield this.toastCtrl.create({
                message: message,
                duration: 8000
            });
            toast.present();
        });
    }
    openAlertModalValidation(alert, title, message, messageArray, ok = 'Done', okCallBack = (result) => { }) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            const modal = yield this.modalController.create({
                component: src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_3__["PromptModalPage"],
                cssClass: 'my-custom-modal-array-css',
                componentProps: {
                    alert,
                    title,
                    message,
                    messageArray,
                    ok
                }
            });
            modal.onDidDismiss().then((result) => {
                okCallBack(result);
            });
            return yield modal.present();
        });
    }
    openPromptModal(title, message, ok = 'Save', okCallBack = (result) => { }, cancel = 'Cancel', cancelCallBack = (result) => { }) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            const modal = yield this.modalController.create({
                component: src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_3__["PromptModalPage"],
                cssClass: 'my-custom-modal-css',
                componentProps: {
                    prompt,
                    title,
                    message,
                    cancel,
                    ok
                }
            });
            modal.onDidDismiss().then((result) => {
                okCallBack(result);
                cancelCallBack(result);
            });
            return yield modal.present();
        });
    }
    openAlertModal(alert, title, message, ok = 'Done', okCallBack = (result) => { }) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            const modal = yield this.modalController.create({
                component: src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_3__["PromptModalPage"],
                // cssClass: 'auto-height',
                cssClass: 'my-custom-modal-css',
                componentProps: {
                    alert,
                    title,
                    message,
                    ok
                }
            });
            modal.onDidDismiss().then((result) => {
                okCallBack(result);
            });
            return yield modal.present();
        });
    }
    prompNAlert(header = '', subHeader = '', message = '', inputs = [], buttons = [], backdropDismiss = true, keyboardClose = true) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            this.nativeAlert = this.alertController.create({
                header,
                subHeader,
                message,
                backdropDismiss,
                keyboardClose,
                inputs,
                buttons
            }).then(alert => {
                this.nativeAlert.present();
            });
        });
    }
    prompInputNAlert(header = '', subHeader = '', message = '', backdropDismiss = true, keyboardClose = true, inputs = [], buttons = [], callBackOk = () => { }, callBackNo = () => { }) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            if (buttons.length == 0)
                buttons = [
                    {
                        text: 'OK',
                        handler: data => {
                            callBackOk();
                        }
                    },
                    {
                        text: 'Cancel',
                        handler: data => {
                            callBackNo();
                        }
                    }
                ];
            this.nativeAlert = this.alertController.create({
                header: '',
                subHeader: '',
                backdropDismiss,
                keyboardClose,
                message: '',
                inputs,
                buttons
            }).then(alert => {
                this.nativeAlert.present();
            });
        });
    }
};
AlertServiceService.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] }
];
AlertServiceService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"]])
], AlertServiceService);



/***/ }),

/***/ "./src/app/pages/encounter-history/encounter-history.module.ts":
/*!*********************************************************************!*\
  !*** ./src/app/pages/encounter-history/encounter-history.module.ts ***!
  \*********************************************************************/
/*! exports provided: EncounterHistoryPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterHistoryPageModule", function() { return EncounterHistoryPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _encounter_history_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./encounter-history.page */ "./src/app/pages/encounter-history/encounter-history.page.ts");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../../components/components.module */ "./src/app/components/components.module.ts");








const routes = [
    {
        path: '',
        component: _encounter_history_page__WEBPACK_IMPORTED_MODULE_6__["EncounterHistoryPage"]
    },
    {
        path: '',
        children: [
            {
                path: 'encounter-details',
                loadChildren: '../encounter-details/encounter-details.module#EncounterDetailsPageModule'
            }
        ]
    }
];
let EncounterHistoryPageModule = class EncounterHistoryPageModule {
};
EncounterHistoryPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes),
            _components_components_module__WEBPACK_IMPORTED_MODULE_7__["ComponentsModule"]
        ],
        declarations: [_encounter_history_page__WEBPACK_IMPORTED_MODULE_6__["EncounterHistoryPage"]]
    })
], EncounterHistoryPageModule);



/***/ }),

/***/ "./src/app/pages/encounter-history/encounter-history.page.scss":
/*!*********************************************************************!*\
  !*** ./src/app/pages/encounter-history/encounter-history.page.scss ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("ion-refresher {\n  z-index: 1;\n}\n\nion-refresher-content {\n  background-color: transparent;\n}\n\nion-content {\n  background: #f9f9f9;\n  --ion-background-color: #f9f9f9;\n}\n\nion-content .wrapper {\n  width: 100%;\n}\n\nion-content .wrapper ion-list ion-item-sliding {\n  background: white;\n  --background: white;\n  --ion-background-color: #ffffff;\n  margin-bottom: 1vh;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item {\n  border-left: solid 1vw #0096c6;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid {\n  padding: 2vh 0 2vh 0;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row {\n  width: 100%;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row ion-col {\n  padding: unset;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallestText {\n  color: #999;\n  font-size: small;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack {\n  color: #444;\n}\n\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .blueBackground {\n  background: #0096c6;\n  border-radius: 10px;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  padding: 0.5vh 2vw 0.5vh 2vw;\n  color: #ffffff;\n  font-size: x-small;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZW5jb3VudGVyLWhpc3RvcnkvRDpcXHByb2plY3RzXFxpb25pY3NcXGVoci1tb2JpbGUvc3JjXFxhcHBcXHBhZ2VzXFxlbmNvdW50ZXItaGlzdG9yeVxcZW5jb3VudGVyLWhpc3RvcnkucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9lbmNvdW50ZXItaGlzdG9yeS9lbmNvdW50ZXItaGlzdG9yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSwrQkFBQTtBQ0NGOztBRENFO0VBQ0UsV0FBQTtBQ0NKOztBREdNO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7QUNEUjs7QURHUTtFQUNFLDhCQUFBO0FDRFY7O0FER1U7RUFDRSxvQkFBQTtBQ0RaOztBREVZO0VBQ0UsV0FBQTtBQ0FkOztBREVjO0VBQ0UsY0FBQTtBQ0FoQjs7QURJWTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ0ZkOztBREtZO0VBQ0UsV0FBQTtBQ0hkOztBREtjO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FDSGhCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZW5jb3VudGVyLWhpc3RvcnkvZW5jb3VudGVyLWhpc3RvcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXJlZnJlc2hlciB7XHJcbiAgei1pbmRleDogMTtcclxufVxyXG5cclxuaW9uLXJlZnJlc2hlci1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuaW9uLWNvbnRlbnQge1xyXG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XHJcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuXHJcbiAgLndyYXBwZXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgaW9uLWxpc3Qge1xyXG5cclxuICAgICAgaW9uLWl0ZW0tc2xpZGluZyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDF2aDtcclxuXHJcbiAgICAgICAgaW9uLWl0ZW0ge1xyXG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xyXG5cclxuICAgICAgICAgIGlvbi1ncmlkIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMnZoIDAgMnZoIDA7XHJcbiAgICAgICAgICAgIGlvbi1yb3cge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAgICAgICBpb24tY29sIHtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IHVuc2V0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsZXN0VGV4dCB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM5OTk7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiBzbWFsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsVGV4dEJsYWNrIHtcclxuICAgICAgICAgICAgICBjb2xvcjogIzQ0NDtcclxuXHJcbiAgICAgICAgICAgICAgLmJsdWVCYWNrZ3JvdW5kIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDk2YzY7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41dmggMnZ3IDAuNXZoIDJ2dztcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuIiwiaW9uLXJlZnJlc2hlciB7XG4gIHotaW5kZXg6IDE7XG59XG5cbmlvbi1yZWZyZXNoZXItY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5pb24tY29udGVudCB7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG59XG5pb24tY29udGVudCAud3JhcHBlciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICBtYXJnaW4tYm90dG9tOiAxdmg7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIHtcbiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCB7XG4gIHBhZGRpbmc6IDJ2aCAwIDJ2aCAwO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCBpb24tcm93IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIGlvbi1yb3cgaW9uLWNvbCB7XG4gIHBhZGRpbmc6IHVuc2V0O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxlc3RUZXh0IHtcbiAgY29sb3I6ICM5OTk7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5zbWFsbFRleHRCbGFjayB7XG4gIGNvbG9yOiAjNDQ0O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxUZXh0QmxhY2sgLmJsdWVCYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZDogIzAwOTZjNjtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBwYWRkaW5nOiAwLjV2aCAydncgMC41dmggMnZ3O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgZm9udC1zaXplOiB4LXNtYWxsO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/encounter-history/encounter-history.page.ts":
/*!*******************************************************************!*\
  !*** ./src/app/pages/encounter-history/encounter-history.page.ts ***!
  \*******************************************************************/
/*! exports provided: EncounterHistoryPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterHistoryPage", function() { return EncounterHistoryPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_encounter_history_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../services/encounter-history-api.service */ "./src/app/services/encounter-history-api.service.ts");
/* harmony import */ var _services_patient_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../services/patient.service */ "./src/app/services/patient.service.ts");
/* harmony import */ var _services_permission_validator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../services/permission-validator.service */ "./src/app/services/permission-validator.service.ts");
/* harmony import */ var _services_patient_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../services/patient-api.service */ "./src/app/services/patient-api.service.ts");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../../services/api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _services_login_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./../../services/login.service */ "./src/app/services/login.service.ts");
/* harmony import */ var _services_loading_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./../../services/loading.service */ "./src/app/services/loading.service.ts");
/* harmony import */ var _services_string_utils_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../../services/string-utils.service */ "./src/app/services/string-utils.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var src_app_app_services_alert_service_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/app/services/alert-service.service */ "./src/app/app/services/alert-service.service.ts");













let EncounterHistoryPage = class EncounterHistoryPage {
    constructor(router, encounterApi, patientService, patientApiService, apiService, loginService, loadingService, stringUtilsService, alertServ, menuController, permissionValidatorService, events) {
        this.router = router;
        this.encounterApi = encounterApi;
        this.patientService = patientService;
        this.patientApiService = patientApiService;
        this.apiService = apiService;
        this.loginService = loginService;
        this.loadingService = loadingService;
        this.stringUtilsService = stringUtilsService;
        this.alertServ = alertServ;
        this.menuController = menuController;
        this.permissionValidatorService = permissionValidatorService;
        this.events = events;
        this.encounterList = [];
        this.isNurse = false;
        this.isDoctor = true;
        const configAndDefaults = this.loginService.getConfigAndDefaults();
        this.defaultOptions = configAndDefaults.patientlist['m-patient-list']['default-options']['encounter-types'];
        console.log(this.defaultOptions);
        this.selectedEncounterNo = this.patientService.getSelectedEncounterNo();
        this.encounterApi.setUrl(this.apiService.getUrl());
        this.encounterApi.setToken(this.loginService.getAuthentication().token);
        const authentication = this.loginService.getAuthentication();
        const role = authentication.user.role.role_name;
        this.isNurse = role.toLocaleLowerCase().indexOf('nurse') !== -1;
        this.isDoctor = !this.isNurse;
    }
    initEncounterHistory() {
        return new Promise((resolve, reject) => {
            this.loadingService.present();
            const selectedPatient = this.patientService.getSelectedPatientBriefInformation();
            console.log(selectedPatient.spin0.pid);
            this.encounterApi.getEncounterList(selectedPatient.spin0.pid).subscribe((response) => {
                this.encounterList = response;
                this.loadingService.dismiss().then(_ => {
                    resolve(response);
                });
            }, err => {
                console.log(err);
                this.loadingService.dismiss().then(_ => {
                    const message = this.stringUtilsService.parseErrorMessage(err);
                    this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');
                    reject(err);
                });
            });
        });
    }
    ionViewWillEnter() {
        console.log('ionViewWillEnter');
        const tempSelectedEncounterNo = this.patientService.getSelectedEncounterNo();
        if (this.selectedEncounterNo !== tempSelectedEncounterNo) {
            console.log('selected patient changed');
            this.selectedEncounterNo = tempSelectedEncounterNo;
            this.initEncounterHistory();
        }
    }
    ngOnInit() {
        this.menuController.swipeGesture(true, 'mainMenu');
        this.menuController.swipeGesture(true, 'accountMenu');
        this.initEncounterHistory();
    }
    showDetails(index) {
        const encounter = this.encounterList[index];
        console.log(encounter);
        this.patientService.setSelectedEncounterNo(encounter.encounter_no);
        this.patientService.setTempEncounterNo(encounter.encounter_no);
        // this.router.navigate(['/menu/encounter-history/encounter-details', {encounter_no: encounter.encounter_no}]);
        if (this.isDoctor) {
            this.loadingService.present();
            this.patientApiService.getPatientProfileById(encounter.encounter_no).subscribe((result) => {
                console.log(result);
                this.loadingService.dismiss().then(_ => {
                    this.patientService.setSelectedPatientBriefInformation(result);
                    this.patientService.setSelectedEncounterNo(result.encounter_no);
                    this.permissionValidatorService.setSelectedPatient(result);
                    this.events.publish('patient:selected', result, Date.now());
                    // skipLocationChange replaceUrl
                    this.router.navigate(['/menu/patient-profile'], { skipLocationChange: true, replaceUrl: true });
                });
            }, (err) => {
                console.log('err ', err);
                this.loadingService.dismiss().then(_ => {
                    const message = this.stringUtilsService.parseErrorMessage(err);
                    this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');
                });
            });
        }
        else if (this.isNurse) {
            this.loadingService.present();
            this.patientApiService.getPatientProfileByIdForNurse(encounter.encounter_no).subscribe((result) => {
                console.log(result);
                this.loadingService.dismiss().then(_ => {
                    this.patientService.setSelectedPatientBriefInformation(result);
                    this.patientService.setSelectedEncounterNo(result.encounter_no);
                    this.permissionValidatorService.setSelectedPatient(result);
                    this.events.publish('patient:selected', result, Date.now());
                    this.router.navigate(['/menu/patient-profile-nurse'], { skipLocationChange: true, replaceUrl: true });
                });
            }, (err) => {
                console.log('err ', err);
                this.loadingService.dismiss().then(_ => {
                    const message = this.stringUtilsService.parseErrorMessage(err);
                    this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');
                });
            });
        }
    }
    doRefreshEncounterHistory(event) {
        this.initEncounterHistory().then(_ => {
            event.target.complete();
        }).catch(_ => {
            event.target.complete();
        });
    }
};
EncounterHistoryPage.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _services_encounter_history_api_service__WEBPACK_IMPORTED_MODULE_3__["EncounterHistoryApiService"] },
    { type: _services_patient_service__WEBPACK_IMPORTED_MODULE_4__["PatientService"] },
    { type: _services_patient_api_service__WEBPACK_IMPORTED_MODULE_6__["PatientApiService"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_7__["ApiService"] },
    { type: _services_login_service__WEBPACK_IMPORTED_MODULE_8__["LoginService"] },
    { type: _services_loading_service__WEBPACK_IMPORTED_MODULE_9__["LoadingService"] },
    { type: _services_string_utils_service__WEBPACK_IMPORTED_MODULE_10__["StringUtilsService"] },
    { type: src_app_app_services_alert_service_service__WEBPACK_IMPORTED_MODULE_12__["AlertServiceService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["MenuController"] },
    { type: _services_permission_validator_service__WEBPACK_IMPORTED_MODULE_5__["PermissionValidatorService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["Events"] }
];
EncounterHistoryPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-encounter-history',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./encounter-history.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/encounter-history/encounter-history.page.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./encounter-history.page.scss */ "./src/app/pages/encounter-history/encounter-history.page.scss")).default]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
        _services_encounter_history_api_service__WEBPACK_IMPORTED_MODULE_3__["EncounterHistoryApiService"],
        _services_patient_service__WEBPACK_IMPORTED_MODULE_4__["PatientService"],
        _services_patient_api_service__WEBPACK_IMPORTED_MODULE_6__["PatientApiService"],
        _services_api_service__WEBPACK_IMPORTED_MODULE_7__["ApiService"],
        _services_login_service__WEBPACK_IMPORTED_MODULE_8__["LoginService"],
        _services_loading_service__WEBPACK_IMPORTED_MODULE_9__["LoadingService"],
        _services_string_utils_service__WEBPACK_IMPORTED_MODULE_10__["StringUtilsService"],
        src_app_app_services_alert_service_service__WEBPACK_IMPORTED_MODULE_12__["AlertServiceService"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["MenuController"],
        _services_permission_validator_service__WEBPACK_IMPORTED_MODULE_5__["PermissionValidatorService"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["Events"]])
], EncounterHistoryPage);



/***/ }),

/***/ "./src/app/services/encounter-history-api.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/encounter-history-api.service.ts ***!
  \***********************************************************/
/*! exports provided: EncounterHistoryApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncounterHistoryApiService", function() { return EncounterHistoryApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");







let EncounterHistoryApiService = class EncounterHistoryApiService {
    constructor(httpClient, http, platform) {
        this.httpClient = httpClient;
        this.http = http;
        this.platform = platform;
        this.url = 'http://localhost:3000';
        this.getEncounterListPath = '/api/doctor/patient/encounters';
    }
    setUrl(url) {
        this.url = url;
    }
    setToken(token) {
        this.token = token;
    }
    getEncounterList(pid) {
        if (this.platform.is('ios') || this.platform.is('android')) {
            console.log('native');
            const params = {
                pid
            };
            const headers = {
                Accept: 'application/json',
                'Content-Type': 'application/json',
                Authorization: 'Bearer ' + this.token
            };
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(this.http.get(this.url + this.getEncounterListPath, params, headers)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((response) => {
                const encounter = JSON.parse(response.data);
                console.log('Encounter history: ', encounter);
                return encounter;
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])((err, caught) => {
                if (typeof err.error === 'string') {
                    try {
                        err.error = JSON.parse(err.error);
                    }
                    catch (e) {
                        // do nothing
                    }
                }
                console.log('Encounter history error: ', err, caught);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])(err);
            }));
        }
        else {
            const httpOptions = {
                params: new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpParams"]()
                    .set('pid', pid),
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpHeaders"]({
                    Accept: 'application/json',
                    Authorization: 'Bearer ' + this.token,
                    'Access-Control-Allow-Origin': '*',
                })
            };
            return this.httpClient.get(this.url + this.getEncounterListPath, httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((response) => {
                console.log('Entered getEncounterList API:', response);
                return response;
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])((err, caught) => {
                console.log(err, caught);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])(err);
            }));
        }
    }
};
EncounterHistoryApiService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_5__["HTTP"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["Platform"] }
];
EncounterHistoryApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"],
        _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_5__["HTTP"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["Platform"]])
], EncounterHistoryApiService);



/***/ })

}]);
//# sourceMappingURL=encounter-history-encounter-history-module-es2015.js.map