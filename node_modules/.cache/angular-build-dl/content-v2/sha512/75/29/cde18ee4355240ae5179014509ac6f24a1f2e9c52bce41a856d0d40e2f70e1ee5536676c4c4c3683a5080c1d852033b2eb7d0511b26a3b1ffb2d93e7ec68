function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,l){return e&&_defineProperties(n.prototype,e),l&&_defineProperties(n,l),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{GD6N:function(n,e,l){"use strict";l.r(e);var t=l("8Y7J"),a=l("ZZ/e"),i=l("EFyh"),o=l("7ch9"),u=l("7wfR"),r=l("j+ZQ"),s=l("kERx"),c=l("H+bZ"),d=l("Pasx"),b=l("wd/R"),g=l("VM0z"),p=function(){function n(e,l,t,a,i,o,u,r,s,c){_classCallCheck(this,n),this.navCtrl=e,this.loadingService=l,this.apiService=t,this.loginService=a,this.alertServ=i,this.patientService=o,this.stringUtilsService=u,this.planManagementApiService=r,this.planManagementDataService=s,this.route=c,this.id="",this.dateChecked=!1,this.dateToggle=!1,this.disableDate=!1,this.disableTime=!1,this.disableToggleDate=!1,this.disableSaveButton=!1,this.SAVE_REFERRAL_ORDER=1,this.authentication=a.getAuthentication(),this.planManagementApiService.setUrl(this.apiService.getUrl()),this.planManagementApiService.setToken(this.authentication.token),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo();var d=this.loginService.getConfigAndDefaults();this.defaultOptions=d.referral["m-patient-referral"]["default-options"];var b=this.patientService.getSelectedPatientBriefInformation();console.log(this.defaultOptions);var g=this.defaultOptions["refer-types"],p=[];Object.keys(g).forEach((function(n){p.push({id:n,desc:g[n]})})),this.types=p,console.log("this.patient",b),this.departments=this.defaultOptions["refer-department"].filter((function(n){switch(b.current_dept_encounter.deptenc_code){case"ope":case"phs":return 1==n.admit_outpatient;default:return 1==n.admit_inpatient}})),console.log("this.departments",this.departments),this.reasons=this.defaultOptions["refer-reason"]}return _createClass(n,[{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter"),window.addEventListener("native.keyboardshow",this.keyboardShowHandler),window.addEventListener("native.keyboardhide",this.keyboardHideHandler)}},{key:"ionViewWillLeave",value:function(){console.log("ionViewWillLeave"),window.removeEventListener("native.keyboardshow",this.keyboardShowHandler),window.removeEventListener("native.keyboardhide",this.keyboardHideHandler),this.removeIonAppStyles()}},{key:"ngOnInit",value:function(){var n=this.route.snapshot.paramMap.get("action");if(n)if("edit"===n){var e=this.route.snapshot.paramMap.get("order");if(console.log(e),e){var l=JSON.parse(e);console.log(l),this.id=l.id;var t=this.types.find((function(n){return l.referral_type===n.id}));this.type=t.id;var a=this.departments.find((function(n){return"string"==typeof l.department?l.department===n.id.toString():l.department===n.id}));this.department=a,console.log("dept: ",a);var i=this.reasons.find((function(n){return"string"==typeof l.reason?l.reason===n.id.toString():l.reason===n.id}));this.reason=i,console.log("rea: ",i);var o=l.referral_check;this.dateToggle="boolean"==typeof o?o:"number"==typeof o?1===o:"string"==typeof o&&"1"===o,this.id=l.id,this.dateChecked=this.dateToggle,this.disableDate=this.dateToggle,this.disableTime=this.dateToggle,this.date=b.unix(l.order_date).format(),this.time=l.referral_time}}else"view"===n&&this.disableElement()}},{key:"onDepartmentChange",value:function(n){console.log("onDepartmentChange:",n)}},{key:"onReasonChange",value:function(n){console.log("onReasonChange:",n)}},{key:"disableElement",value:function(){}},{key:"backToPlanManagement",value:function(){console.log("back"),this.navCtrl.pop()}},{key:"currentDateToggleClick",value:function(){this.dateChecked=!this.dateChecked,this.dateChecked&&(this.dateTime=b().format(),this.date=this.dateTime,this.time=this.dateTime),this.disableDate=this.dateChecked,this.disableTime=this.dateChecked}},{key:"saveReferralOrder",value:function(n){console.log(n),this.openPromptModal(this.SAVE_REFERRAL_ORDER,{},"Referral","Would you like to save your changes?")}},{key:"saveReferralOrderFunction",value:function(){var n,e=this;if(this.dateChecked)this.dateTime||(this.dateTime=b().format()),n=new Date(this.dateTime);else{var l=new Date(this.date),t=b(l).format("YYYY-MM-DD");console.log("dateObject: ",l),console.log("tempDate: ",t);var a=this.time;try{var i=Date.parse(a);if(!1===isNaN(i)){var o=new Date(i);a=b(o).format("HH:mm")}}catch(c){}console.log("tempTime: ",a),n=new Date(t+" "+a)}console.log("dateTimeObject: ",n);var u=b(n).unix(),r=b(n).format("HH:mm");console.log("order_date formatted: ",b.unix(u).format()),console.log("order_time formatted: ",r);var s={encounter_no:this.selectedEncounterNo,id:this.id,referral_type:this.type,department:this.department.id,reason:this.reason.id,referral_date:u,referral_time:r,referral_check:this.dateChecked?1:0};this.loadingService.present(),this.planManagementApiService.saveReferral(s).subscribe((function(n){console.log(n),e.loadingService.dismiss().then((function(l){if(n&&200===n.code){var t=n.data.batch;e.planManagementDataService.setUnfinalizedBatch(t),console.log("batch: ",t),e.openAlertModal("success","Success",n.message)}else e.openAlertModal("fail","Failed",n.message,"Ok")}))}),(function(n){console.log("err ",n),e.loadingService.dismiss().then((function(l){var t=e.stringUtilsService.parseErrorMessage(n);e.openAlertModal("fail","Failed",t,"Ok")}))}))}},{key:"openPromptModal",value:function(n,e,l,t){var a=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Save";arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.alertServ.openPromptModal(l,t,i,(function(e){null!==e&&(console.log("result.data: ",e.data),e.data&&"Save"===e.data.button&&n===a.SAVE_REFERRAL_ORDER&&a.saveReferralOrderFunction())}))}},{key:"openAlertModal",value:function(n,e,l){var t=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done";this.alertServ.openAlertModal(n,e,l,a,(function(e){null!==e&&(console.log("result.data: ",e.data),"success"===n&&"Done"===e.data.button&&t.backToPlanManagement())}))}},{key:"tapCoordinates",value:function(n){this.y=n.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log("offset: ",this.offsetY)}},{key:"keyboardShowHandler",value:function(n){var e=n.keyboardHeight;console.log("show: ",n.keyboardHeight);var l=document.querySelector("ion-app").style;l.bottom=e+"px",console.log(l.bottom)}},{key:"keyboardHideHandler",value:function(){console.log("gone"),document.querySelector("ion-app").removeAttribute("style")}},{key:"removeIonAppStyles",value:function(){document.querySelector("ion-app").removeAttribute("style")}}]),n}(),h=function n(){_classCallCheck(this,n)},m=l("pMnS"),C=l("ekNO"),f=l("oBZk"),v=l("SVse"),P=l("s7LF"),_=l("qyy+"),M=l("iInd"),y=t.Bb({encapsulation:0,styles:[["ion-title[_ngcontent-%COMP%]{text-align:center;color:#0096c6;font-size:1em;margin-right:10vw}.back[_ngcontent-%COMP%]{margin-left:2vw}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::placeholder{color:#c8c8c8;font-style:italic}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-top:20px;padding:10px;margin-left:10px;margin-right:10px;text-align:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]{margin-bottom:2vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{margin-top:1vh;margin-bottom:3.5vh;display:block;position:relative}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{zoom:.8}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border-radius:10px;background:#fff;--padding-end:2vw}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]{--inner-padding-end:0}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]   ionic-selectable[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding-left:10px;padding-right:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .smallTextarea[_ngcontent-%COMP%]{height:5vh;width:100%;padding-left:3vw;padding-right:3vw;margin-top:1vh;border-radius:5px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{color:#949494}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .redLabel[_ngcontent-%COMP%]{color:#ff5757}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}"]],data:{}});function D(n){return t.Yb(0,[(n()(),t.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(n()(),t.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function k(n){return t.Yb(0,[(n()(),t.Db(0,0,null,null,2,"ion-select-option",[],null,null,null,f.Sb,f.R)),t.Cb(1,49152,null,0,a.pb,[t.j,t.p,t.G],{value:[0,"value"]},null),(n()(),t.Wb(2,0,["",""]))],(function(n,e){n(e,1,0,e.context.$implicit.id)}),(function(n,e){n(e,2,0,e.context.$implicit.desc)}))}function T(n){return t.Yb(0,[(n()(),t.Db(0,0,null,null,11,"ion-header",[],null,null,null,f.tb,f.r)),t.Cb(1,49152,null,0,a.C,[t.j,t.p,t.G],null,null),(n()(),t.Db(2,0,null,0,9,"ion-toolbar",[],null,null,null,f.cc,f.ab)),t.Cb(3,49152,null,0,a.Db,[t.j,t.p,t.G],null,null),(n()(),t.Db(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,f.gb,f.e)),t.Cb(5,49152,null,0,a.m,[t.j,t.p,t.G],null,null),(n()(),t.Db(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==t.Pb(n,8).onClick(l)&&a),a}),f.eb,f.c)),t.Cb(7,49152,null,0,a.h,[t.j,t.p,t.G],null,null),t.Cb(8,16384,null,0,a.i,[[2,a.jb],a.Kb],null,null),(n()(),t.Db(9,0,null,0,2,"ion-title",[],null,null,null,f.ac,f.Y)),t.Cb(10,49152,null,0,a.Bb,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Referral Order"])),(n()(),t.Db(12,0,null,null,129,"ion-content",[],null,null,null,f.mb,f.k)),t.Cb(13,49152,null,0,a.v,[t.j,t.p,t.G],null,null),(n()(),t.sb(16777216,null,0,1,null,D)),t.Cb(15,16384,null,0,v.l,[t.Y,t.U],{ngIf:[0,"ngIf"]},null),(n()(),t.Db(16,0,null,0,125,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),t.Db(17,0,null,null,124,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,l){var a=!0,i=n.component;return"submit"===e&&(a=!1!==t.Pb(n,19).onSubmit(l)&&a),"reset"===e&&(a=!1!==t.Pb(n,19).onReset()&&a),"ngSubmit"===e&&(a=!1!==i.saveReferralOrder(t.Pb(n,19))&&a),a}),null,null)),t.Cb(18,16384,null,0,P.y,[],null,null),t.Cb(19,4210688,[["referral",4]],0,P.p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Tb(2048,null,P.b,null,[P.p]),t.Cb(21,16384,null,0,P.o,[[4,P.b]],null,null),(n()(),t.Db(22,0,null,null,12,"div",[["class","inputSection"]],null,null,null,null,null)),(n()(),t.Db(23,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,f.Eb,f.C)),t.Cb(24,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Referral Type"])),(n()(),t.Db(26,0,null,null,8,"ion-select",[["interface","popover"],["name","referral_type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,e,l){var a=!0,i=n.component;return"ionBlur"===e&&(a=!1!==t.Pb(n,27)._handleBlurEvent(l.target)&&a),"ionChange"===e&&(a=!1!==t.Pb(n,27)._handleChangeEvent(l.target)&&a),"ngModelChange"===e&&(a=!1!==(i.type=l)&&a),a}),f.Tb,f.Q)),t.Cb(27,16384,null,0,a.Rb,[t.p],null,null),t.Tb(1024,null,P.l,(function(n){return[n]}),[a.Rb]),t.Cb(29,671744,null,0,P.q,[[2,P.b],[8,null],[8,null],[6,P.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,P.m,null,[P.q]),t.Cb(31,16384,null,0,P.n,[[4,P.m]],null,null),t.Cb(32,49152,null,0,a.ob,[t.j,t.p,t.G],{interface:[0,"interface"],name:[1,"name"]},null),(n()(),t.sb(16777216,null,0,1,null,k)),t.Cb(34,278528,null,0,v.k,[t.Y,t.U,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Db(35,0,null,null,25,"div",[["class","inputSection"]],null,null,null,null,null)),(n()(),t.Db(36,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,f.Eb,f.C)),t.Cb(37,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Refer this patient to"])),(n()(),t.Db(39,0,null,null,21,"ion-item",[["class","ion-no-padding selectable"],["lines","none"]],null,null,null,f.Db,f.w)),t.Cb(40,49152,null,0,a.I,[t.j,t.p,t.G],{lines:[0,"lines"]},null),(n()(),t.Db(41,0,null,0,19,"ionic-selectable",[["itemTextField","area_desc"],["itemValueField","id"],["name","referral_department"],["placeholder","Search Department"]],[[2,"ionic-selectable",null],[2,"ionic-selectable-ios",null],[2,"ionic-selectable-md",null],[2,"ionic-selectable-is-multiple",null],[2,"ionic-selectable-has-value",null],[2,"ionic-selectable-has-placeholder",null],[2,"ionic-selectable-has-label",null],[2,"ionic-selectable-label-default",null],[2,"ionic-selectable-label-fixed",null],[2,"ionic-selectable-label-stacked",null],[2,"ionic-selectable-label-floating",null],[2,"ionic-selectable-is-enabled",null],[2,"ionic-selectable-can-clear",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(n,e,l){var t=!0,a=n.component;return"ngModelChange"===e&&(t=!1!==(a.department=l)&&t),"onChange"===e&&(t=!1!==a.onDepartmentChange(l)&&t),t}),C.d,C.c)),t.Cb(42,376832,null,14,_.a,[a.Jb,a.Nb,[2,a.I],t.y,t.p,t.M],{items:[0,"items"],itemValueField:[1,"itemValueField"],itemTextField:[2,"itemTextField"],canSearch:[3,"canSearch"],placeholder:[4,"placeholder"],searchDebounce:[5,"searchDebounce"]},{onChange:"onChange"}),t.Ub(603979776,1,{valueTemplate:0}),t.Ub(603979776,2,{itemTemplate:0}),t.Ub(603979776,3,{itemEndTemplate:0}),t.Ub(603979776,4,{titleTemplate:0}),t.Ub(603979776,5,{placeholderTemplate:0}),t.Ub(603979776,6,{messageTemplate:0}),t.Ub(603979776,7,{groupTemplate:0}),t.Ub(603979776,8,{groupEndTemplate:0}),t.Ub(603979776,9,{closeButtonTemplate:0}),t.Ub(603979776,10,{searchFailTemplate:0}),t.Ub(603979776,11,{addItemTemplate:0}),t.Ub(603979776,12,{footerTemplate:0}),t.Ub(603979776,13,{headerTemplate:0}),t.Ub(603979776,14,{itemIconTemplate:0}),t.Tb(1024,null,P.l,(function(n){return[n]}),[_.a]),t.Cb(58,671744,null,0,P.q,[[2,P.b],[8,null],[8,null],[6,P.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,P.m,null,[P.q]),t.Cb(60,16384,null,0,P.n,[[4,P.m]],null,null),(n()(),t.Db(61,0,null,null,25,"div",[["class","inputSection"]],null,null,null,null,null)),(n()(),t.Db(62,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,f.Eb,f.C)),t.Cb(63,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Reason for Referral"])),(n()(),t.Db(65,0,null,null,21,"ion-item",[["class","ion-no-padding selectable"],["lines","none"]],null,null,null,f.Db,f.w)),t.Cb(66,49152,null,0,a.I,[t.j,t.p,t.G],{lines:[0,"lines"]},null),(n()(),t.Db(67,0,null,0,19,"ionic-selectable",[["itemTextField","purpose_desc"],["itemValueField","id"],["name","referral_reason"],["placeholder","Search Reason"]],[[2,"ionic-selectable",null],[2,"ionic-selectable-ios",null],[2,"ionic-selectable-md",null],[2,"ionic-selectable-is-multiple",null],[2,"ionic-selectable-has-value",null],[2,"ionic-selectable-has-placeholder",null],[2,"ionic-selectable-has-label",null],[2,"ionic-selectable-label-default",null],[2,"ionic-selectable-label-fixed",null],[2,"ionic-selectable-label-stacked",null],[2,"ionic-selectable-label-floating",null],[2,"ionic-selectable-is-enabled",null],[2,"ionic-selectable-can-clear",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(n,e,l){var t=!0,a=n.component;return"ngModelChange"===e&&(t=!1!==(a.reason=l)&&t),"onChange"===e&&(t=!1!==a.onReasonChange(l)&&t),t}),C.d,C.c)),t.Cb(68,376832,null,14,_.a,[a.Jb,a.Nb,[2,a.I],t.y,t.p,t.M],{items:[0,"items"],itemValueField:[1,"itemValueField"],itemTextField:[2,"itemTextField"],canSearch:[3,"canSearch"],placeholder:[4,"placeholder"],searchDebounce:[5,"searchDebounce"]},{onChange:"onChange"}),t.Ub(603979776,15,{valueTemplate:0}),t.Ub(603979776,16,{itemTemplate:0}),t.Ub(603979776,17,{itemEndTemplate:0}),t.Ub(603979776,18,{titleTemplate:0}),t.Ub(603979776,19,{placeholderTemplate:0}),t.Ub(603979776,20,{messageTemplate:0}),t.Ub(603979776,21,{groupTemplate:0}),t.Ub(603979776,22,{groupEndTemplate:0}),t.Ub(603979776,23,{closeButtonTemplate:0}),t.Ub(603979776,24,{searchFailTemplate:0}),t.Ub(603979776,25,{addItemTemplate:0}),t.Ub(603979776,26,{footerTemplate:0}),t.Ub(603979776,27,{headerTemplate:0}),t.Ub(603979776,28,{itemIconTemplate:0}),t.Tb(1024,null,P.l,(function(n){return[n]}),[_.a]),t.Cb(84,671744,null,0,P.q,[[2,P.b],[8,null],[8,null],[6,P.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,P.m,null,[P.q]),t.Cb(86,16384,null,0,P.n,[[4,P.m]],null,null),(n()(),t.Db(87,0,null,null,11,"div",[["class","inputSection"]],null,null,null,null,null)),(n()(),t.Db(88,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,f.Eb,f.C)),t.Cb(89,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Current Date(Now)"])),(n()(),t.Db(91,0,null,null,7,"div",[["class","toggle"]],null,null,null,null,null)),(n()(),t.Db(92,0,null,null,6,"ion-toggle",[["class","toggle-long"],["mode","ios"],["name","date_toggle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"ionBlur"],[null,"ionChange"]],(function(n,e,l){var a=!0,i=n.component;return"ionBlur"===e&&(a=!1!==t.Pb(n,93)._handleBlurEvent(l.target)&&a),"ionChange"===e&&(a=!1!==t.Pb(n,93)._handleIonChange(l.target)&&a),"ngModelChange"===e&&(a=!1!==(i.dateToggle=l)&&a),"click"===e&&(a=!1!==i.currentDateToggleClick()&&a),a}),f.bc,f.Z)),t.Cb(93,16384,null,0,a.c,[t.p],null,null),t.Tb(1024,null,P.l,(function(n){return[n]}),[a.c]),t.Cb(95,671744,null,0,P.q,[[2,P.b],[8,null],[8,null],[6,P.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,P.m,null,[P.q]),t.Cb(97,16384,null,0,P.n,[[4,P.m]],null,null),t.Cb(98,49152,null,0,a.Cb,[t.j,t.p,t.G],{disabled:[0,"disabled"],mode:[1,"mode"],name:[2,"name"]},null),(n()(),t.Db(99,0,null,null,38,"div",[["class","inputSection"]],null,null,null,null,null)),(n()(),t.Db(100,0,null,null,37,"ion-grid",[],null,null,null,f.sb,f.q)),t.Cb(101,49152,null,0,a.B,[t.j,t.p,t.G],null,null),(n()(),t.Db(102,0,null,0,11,"ion-row",[],null,null,null,f.Ob,f.M)),t.Cb(103,49152,null,0,a.kb,[t.j,t.p,t.G],null,null),(n()(),t.Db(104,0,null,0,4,"ion-col",[["size","6"]],null,null,null,f.lb,f.j)),t.Cb(105,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(n()(),t.Db(106,0,null,0,2,"ion-label",[["class","redLabel"]],null,null,null,f.Eb,f.C)),t.Cb(107,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Select Date*"])),(n()(),t.Db(109,0,null,0,4,"ion-col",[["size","6"]],null,null,null,f.lb,f.j)),t.Cb(110,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(n()(),t.Db(111,0,null,0,2,"ion-label",[["class","redLabel"]],null,null,null,f.Eb,f.C)),t.Cb(112,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(n()(),t.Wb(-1,0,["Time*"])),(n()(),t.Db(114,0,null,0,23,"ion-row",[],null,null,null,f.Ob,f.M)),t.Cb(115,49152,null,0,a.kb,[t.j,t.p,t.G],null,null),(n()(),t.Db(116,0,null,0,10,"ion-col",[["size","6"]],null,null,null,f.lb,f.j)),t.Cb(117,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(n()(),t.Db(118,0,null,0,8,"ion-datetime",[["displayFormat","DD-MMMM-YYYY"],["name","referral_order_date"],["required",""],["value","13-June-2019"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,e,l){var a=!0,i=n.component;return"ionBlur"===e&&(a=!1!==t.Pb(n,121)._handleBlurEvent(l.target)&&a),"ionChange"===e&&(a=!1!==t.Pb(n,121)._handleChangeEvent(l.target)&&a),"ngModelChange"===e&&(a=!1!==(i.date=l)&&a),a}),f.nb,f.l)),t.Cb(119,16384,null,0,P.t,[],{required:[0,"required"]},null),t.Tb(1024,null,P.k,(function(n){return[n]}),[P.t]),t.Cb(121,16384,null,0,a.Rb,[t.p],null,null),t.Tb(1024,null,P.l,(function(n){return[n]}),[a.Rb]),t.Cb(123,671744,null,0,P.q,[[2,P.b],[6,P.k],[8,null],[6,P.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,P.m,null,[P.q]),t.Cb(125,16384,null,0,P.n,[[4,P.m]],null,null),t.Cb(126,49152,null,0,a.w,[t.j,t.p,t.G],{disabled:[0,"disabled"],displayFormat:[1,"displayFormat"],name:[2,"name"],value:[3,"value"]},null),(n()(),t.Db(127,0,null,0,10,"ion-col",[["size","6"]],null,null,null,f.lb,f.j)),t.Cb(128,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(n()(),t.Db(129,0,null,0,8,"ion-datetime",[["displayFormat","hh:mm A"],["name","referral_order_time"],["required",""],["value","02:47 PM"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,e,l){var a=!0,i=n.component;return"ionBlur"===e&&(a=!1!==t.Pb(n,132)._handleBlurEvent(l.target)&&a),"ionChange"===e&&(a=!1!==t.Pb(n,132)._handleChangeEvent(l.target)&&a),"ngModelChange"===e&&(a=!1!==(i.time=l)&&a),a}),f.nb,f.l)),t.Cb(130,16384,null,0,P.t,[],{required:[0,"required"]},null),t.Tb(1024,null,P.k,(function(n){return[n]}),[P.t]),t.Cb(132,16384,null,0,a.Rb,[t.p],null,null),t.Tb(1024,null,P.l,(function(n){return[n]}),[a.Rb]),t.Cb(134,671744,null,0,P.q,[[2,P.b],[6,P.k],[8,null],[6,P.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,P.m,null,[P.q]),t.Cb(136,16384,null,0,P.n,[[4,P.m]],null,null),t.Cb(137,49152,null,0,a.w,[t.j,t.p,t.G],{disabled:[0,"disabled"],displayFormat:[1,"displayFormat"],name:[2,"name"],value:[3,"value"]},null),(n()(),t.Db(138,0,null,null,3,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.Db(139,0,null,null,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,f.fb,f.d)),t.Cb(140,49152,null,0,a.l,[t.j,t.p,t.G],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),t.Wb(-1,0,["Save"]))],(function(n,e){var l=e.component;n(e,15,0,l.loginService.inTestServer),n(e,29,0,"referral_type",l.type),n(e,32,0,"popover","referral_type"),n(e,34,0,l.types),n(e,40,0,"none"),n(e,42,0,l.departments,"id","area_desc",!0,"Search Department",500),n(e,58,0,"referral_department",l.department),n(e,66,0,"none"),n(e,68,0,l.reasons,"id","purpose_desc",!0,"Search Reason",500),n(e,84,0,"referral_reason",l.reason),n(e,95,0,"date_toggle",l.disableToggleDate,l.dateToggle),n(e,98,0,l.disableToggleDate,"ios","date_toggle"),n(e,105,0,"6"),n(e,110,0,"6"),n(e,117,0,"6"),n(e,119,0,""),n(e,123,0,"referral_order_date",l.disableDate,l.date),n(e,126,0,l.disableDate,"DD-MMMM-YYYY","referral_order_date","13-June-2019"),n(e,128,0,"6"),n(e,130,0,""),n(e,134,0,"referral_order_time",l.disableTime,l.time),n(e,137,0,l.disableTime,"hh:mm A","referral_order_time","02:47 PM"),n(e,140,0,t.Pb(e,19).invalid||l.disableSaveButton,"block","submit")}),(function(n,e){n(e,17,0,t.Pb(e,21).ngClassUntouched,t.Pb(e,21).ngClassTouched,t.Pb(e,21).ngClassPristine,t.Pb(e,21).ngClassDirty,t.Pb(e,21).ngClassValid,t.Pb(e,21).ngClassInvalid,t.Pb(e,21).ngClassPending),n(e,26,0,t.Pb(e,31).ngClassUntouched,t.Pb(e,31).ngClassTouched,t.Pb(e,31).ngClassPristine,t.Pb(e,31).ngClassDirty,t.Pb(e,31).ngClassValid,t.Pb(e,31).ngClassInvalid,t.Pb(e,31).ngClassPending),n(e,41,1,[t.Pb(e,42)._cssClass,t.Pb(e,42)._isIos,t.Pb(e,42)._isMD,t.Pb(e,42)._isMultipleCssClass,t.Pb(e,42)._hasValueCssClass,t.Pb(e,42)._hasPlaceholderCssClass,t.Pb(e,42)._hasIonLabelCssClass,t.Pb(e,42)._hasDefaultIonLabelCssClass,t.Pb(e,42)._hasFixedIonLabelCssClass,t.Pb(e,42)._hasStackedIonLabelCssClass,t.Pb(e,42)._hasFloatingIonLabelCssClass,t.Pb(e,42).isEnabled,t.Pb(e,42).canClear,t.Pb(e,60).ngClassUntouched,t.Pb(e,60).ngClassTouched,t.Pb(e,60).ngClassPristine,t.Pb(e,60).ngClassDirty,t.Pb(e,60).ngClassValid,t.Pb(e,60).ngClassInvalid,t.Pb(e,60).ngClassPending]),n(e,67,1,[t.Pb(e,68)._cssClass,t.Pb(e,68)._isIos,t.Pb(e,68)._isMD,t.Pb(e,68)._isMultipleCssClass,t.Pb(e,68)._hasValueCssClass,t.Pb(e,68)._hasPlaceholderCssClass,t.Pb(e,68)._hasIonLabelCssClass,t.Pb(e,68)._hasDefaultIonLabelCssClass,t.Pb(e,68)._hasFixedIonLabelCssClass,t.Pb(e,68)._hasStackedIonLabelCssClass,t.Pb(e,68)._hasFloatingIonLabelCssClass,t.Pb(e,68).isEnabled,t.Pb(e,68).canClear,t.Pb(e,86).ngClassUntouched,t.Pb(e,86).ngClassTouched,t.Pb(e,86).ngClassPristine,t.Pb(e,86).ngClassDirty,t.Pb(e,86).ngClassValid,t.Pb(e,86).ngClassInvalid,t.Pb(e,86).ngClassPending]),n(e,92,0,t.Pb(e,97).ngClassUntouched,t.Pb(e,97).ngClassTouched,t.Pb(e,97).ngClassPristine,t.Pb(e,97).ngClassDirty,t.Pb(e,97).ngClassValid,t.Pb(e,97).ngClassInvalid,t.Pb(e,97).ngClassPending),n(e,118,0,t.Pb(e,119).required?"":null,t.Pb(e,125).ngClassUntouched,t.Pb(e,125).ngClassTouched,t.Pb(e,125).ngClassPristine,t.Pb(e,125).ngClassDirty,t.Pb(e,125).ngClassValid,t.Pb(e,125).ngClassInvalid,t.Pb(e,125).ngClassPending),n(e,129,0,t.Pb(e,130).required?"":null,t.Pb(e,136).ngClassUntouched,t.Pb(e,136).ngClassTouched,t.Pb(e,136).ngClassPristine,t.Pb(e,136).ngClassDirty,t.Pb(e,136).ngClassValid,t.Pb(e,136).ngClassInvalid,t.Pb(e,136).ngClassPending)}))}var O=t.zb("app-referral-order",p,(function(n){return t.Yb(0,[(n()(),t.Db(0,0,null,null,1,"app-referral-order",[],null,null,null,T,y)),t.Cb(1,114688,null,0,p,[a.Kb,o.a,c.a,i.a,g.a,u.a,d.a,s.a,r.a,M.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),S=l("A2Kn");l.d(e,"ReferralOrderPageModuleNgFactory",(function(){return w}));var w=t.Ab(h,[],(function(n){return t.Mb([t.Nb(512,t.m,t.lb,[[8,[m.a,C.a,C.b,O]],[3,t.m],t.E]),t.Nb(4608,v.n,v.m,[t.A,[2,v.C]]),t.Nb(4608,P.w,P.w,[]),t.Nb(4608,a.b,a.b,[t.G,t.g]),t.Nb(4608,a.Jb,a.Jb,[a.b,t.m,t.w]),t.Nb(4608,a.Ob,a.Ob,[a.b,t.m,t.w]),t.Nb(1073742336,v.c,v.c,[]),t.Nb(1073742336,P.v,P.v,[]),t.Nb(1073742336,P.i,P.i,[]),t.Nb(1073742336,a.Fb,a.Fb,[]),t.Nb(1073742336,M.q,M.q,[[2,M.v],[2,M.m]]),t.Nb(1073742336,S.a,S.a,[]),t.Nb(1073742336,h,h,[]),t.Nb(1024,M.k,(function(){return[[{path:"",component:p}]]}),[])])}))},VM0z:function(n,e,l){"use strict";l.d(e,"a",(function(){return u}));var t=l("mrSG"),a=l("ZZ/e"),i=l("Hfim"),o=l("8Y7J"),u=function(){var n=function(){function n(e,l,t){_classCallCheck(this,n),this.toastCtrl=e,this.modalController=l,this.alertController=t}return _createClass(n,[{key:"alertToast",value:function(n){return t.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AlertToast Message:",n),e.next=3,this.toastCtrl.create({message:n,duration:8e3});case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"openAlertModalValidation",value:function(n,e,l,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Done",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(n){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:n,title:e,message:l,messageArray:a,ok:o}});case 2:return(r=t.sent).onDidDismiss().then((function(n){u(n)})),t.next=6,r.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openPromptModal",value:function(n,e){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(n){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Cancel",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(n){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{prompt:prompt,title:n,message:e,cancel:o,ok:l}});case 2:return(r=t.sent).onDidDismiss().then((function(n){a(n),u(n)})),t.next=6,r.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openAlertModal",value:function(n,e,l){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(n){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{alert:n,title:e,message:l,ok:a}});case 2:return(u=t.sent).onDidDismiss().then((function(n){o(n)})),t.next=6,u.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"prompNAlert",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.nativeAlert=this.alertController.create({header:n,subHeader:e,message:l,backdropDismiss:o,keyboardClose:u,inputs:a,buttons:i}).then((function(n){r.nativeAlert.present()}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"prompInputNAlert",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],e=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0==a.length&&(a=[{text:"OK",handler:function(n){i()}},{text:"Cancel",handler:function(n){o()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:n,keyboardClose:e,message:"",inputs:l,buttons:a}).then((function(n){u.nativeAlert.present()}));case 1:case"end":return t.stop()}}),t,this)})))}}]),n}();return n.ngInjectableDef=o.bc({factory:function(){return new n(o.cc(a.Tb),o.cc(a.Jb),o.cc(a.a))},token:n,providedIn:"root"}),n}()}}]);