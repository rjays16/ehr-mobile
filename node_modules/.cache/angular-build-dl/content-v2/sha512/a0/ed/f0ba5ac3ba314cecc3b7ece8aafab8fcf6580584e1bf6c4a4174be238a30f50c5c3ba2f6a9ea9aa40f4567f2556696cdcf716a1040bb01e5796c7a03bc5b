{"version":3,"sources":["src/app/pages/encounter-history/encounter-history.page.html","src/app/app/services/alert-service.service.ts","src/app/pages/encounter-history/encounter-history.module.ts","src/app/pages/encounter-history/encounter-history.page.scss","src/app/pages/encounter-history/encounter-history.page.ts","src/app/services/encounter-history-api.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-headerbar title=\\\"Encounter History\\\"></app-headerbar>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"doRefreshEncounterHistory($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"wrapper\\\">\\r\\n    <div class=\\\"testServer\\\" *ngIf=\\\"loginService.inTestServer\\\">\\r\\n      TEST SERVER CONECTED\\r\\n    </div>\\r\\n    <ion-list>\\r\\n      <div class=\\\"noresult\\\" *ngIf=\\\"(encounterList && encounterList.length < 1) || !(encounterList)\\\">\\r\\n        No History\\r\\n      </div>\\r\\n      <ion-item-sliding *ngFor=\\\"let encounter of encounterList; let i = index\\\">\\r\\n        <ion-item>\\r\\n          <ion-grid>\\r\\n            <ion-row class=\\\"smallestText\\\">\\r\\n              <ion-col size=\\\"4\\\">Encounter No.</ion-col>\\r\\n              <ion-col size=\\\"3\\\">Patient Type</ion-col>\\r\\n              <ion-col size=\\\"5\\\">Clinic/Department</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextBlack\\\">\\r\\n              <ion-col size=\\\"4\\\">{{encounter.encounter_no}}</ion-col>\\r\\n              <ion-col size=\\\"3\\\">\\r\\n                <div class=\\\"blueBackground\\\" *ngIf=\\\"encounter.deptenc_code == 'ope'\\\">{{defaultOptions.ope}}</div>\\r\\n                <div class=\\\"blueBackground\\\" *ngIf=\\\"encounter.deptenc_code == 'ipe'\\\">{{defaultOptions.ipe}}</div>\\r\\n                <div class=\\\"blueBackground\\\" *ngIf=\\\"encounter.deptenc_code == 'ere'\\\">{{defaultOptions.ere}}</div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"5\\\">{{encounter.area_desc}}</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallestText\\\">\\r\\n              <ion-col size=\\\"6\\\">Admission Date</ion-col>\\r\\n              <ion-col size=\\\"6\\\">Discharge Date</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextBlack\\\">\\r\\n              <ion-col size=\\\"6\\\">{{encounter.encounter_date}}</ion-col>\\r\\n              <ion-col size=\\\"6\\\">{{encounter.discharge_dt}}</ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </ion-item>\\r\\n        <ion-item-options side=\\\"end\\\">\\r\\n          <ion-item-option (click)=\\\"showDetails(i)\\\"><ion-icon ios=\\\"ios-eye\\\" md=\\\"md-eye\\\"></ion-icon></ion-item-option>\\r\\n        </ion-item-options>\\r\\n      </ion-item-sliding>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { Injectable } from '@angular/core';\r\nimport { ToastController, ModalController, AlertController } from '@ionic/angular';\r\nimport { PromptModalPage } from 'src/app/pages/prompt-modal/prompt-modal.page';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlertServiceService {\r\n  private nativeAlert;\r\n  \r\n  constructor(\r\n    private toastCtrl: ToastController,\r\n    private modalController: ModalController,\r\n    private alertController: AlertController,\r\n  ) { }\r\n    \r\n\r\n  async alertToast(message){\r\n    console.log('AlertToast Message:', message);\r\n    const toast = await this.toastCtrl.create({\r\n      message: message,\r\n      duration: 8000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async openAlertModalValidation(alert: string, title: string, message: string, messageArray, ok: string = 'Done', okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      cssClass: 'my-custom-modal-array-css',\r\n      componentProps: {\r\n        alert,\r\n        title,\r\n        message,\r\n        messageArray,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openPromptModal(title: string, message: string,  ok: string = 'Save', okCallBack = (result)=>{}, cancel: string = 'Cancel', cancelCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        prompt,\r\n        title,\r\n        message,\r\n        cancel,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n      cancelCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n  \r\n\r\n  async openAlertModal(alert: string, title: string, message: string, ok: string = 'Done', okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      // cssClass: 'auto-height',\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        alert,\r\n        title,\r\n        message,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  async prompNAlert(\r\n    header='',\r\n    subHeader='',\r\n    message='',\r\n    inputs=[], \r\n    buttons=[],\r\n    backdropDismiss=true,\r\n    keyboardClose=true\r\n  ){\r\n  \r\n  this.nativeAlert = this.alertController.create({\r\n      header,\r\n      subHeader,\r\n      message,\r\n      backdropDismiss,\r\n      keyboardClose,\r\n      inputs,\r\n      buttons\r\n    }).then(alert => {\r\n      this.nativeAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n  async prompInputNAlert(\r\n    header='',\r\n    subHeader='',\r\n    message='',\r\n    backdropDismiss=true,\r\n    keyboardClose=true,\r\n    inputs=[], \r\n    buttons:any = [],\r\n    callBackOk = ()=>{}, \r\n    callBackNo = ()=>{}\r\n  ){\r\n    \r\n    if(buttons.length == 0)\r\n      buttons = [\r\n        {\r\n          text: 'OK',\r\n          handler: data => {\r\n            callBackOk();\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            callBackNo();\r\n          }\r\n        }\r\n      ];\r\n\r\n\r\n    this.nativeAlert = this.alertController.create({\r\n      header:'',\r\n      subHeader:'',\r\n      backdropDismiss,\r\n      keyboardClose,\r\n      message:'',\r\n      inputs,\r\n      buttons\r\n    }).then(alert => {\r\n      this.nativeAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EncounterHistoryPage } from './encounter-history.page';\r\nimport { ComponentsModule } from './../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EncounterHistoryPage\r\n  },\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: 'encounter-details',\r\n        loadChildren: '../encounter-details/encounter-details.module#EncounterDetailsPageModule'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [EncounterHistoryPage]\r\n})\r\nexport class EncounterHistoryPageModule {}\r\n","export default \"ion-refresher {\\n  z-index: 1;\\n}\\n\\nion-refresher-content {\\n  background-color: transparent;\\n}\\n\\nion-content {\\n  background: #f9f9f9;\\n  --ion-background-color: #f9f9f9;\\n}\\n\\nion-content .wrapper {\\n  width: 100%;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding {\\n  background: white;\\n  --background: white;\\n  --ion-background-color: #ffffff;\\n  margin-bottom: 1vh;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item {\\n  border-left: solid 1vw #0096c6;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid {\\n  padding: 2vh 0 2vh 0;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row {\\n  width: 100%;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row ion-col {\\n  padding: unset;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallestText {\\n  color: #999;\\n  font-size: small;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack {\\n  color: #444;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .blueBackground {\\n  background: #0096c6;\\n  border-radius: 10px;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  padding: 0.5vh 2vw 0.5vh 2vw;\\n  color: #ffffff;\\n  font-size: x-small;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZW5jb3VudGVyLWhpc3RvcnkvRDpcXHByb2plY3RzXFxpb25pY3NcXGVoci1tb2JpbGUvc3JjXFxhcHBcXHBhZ2VzXFxlbmNvdW50ZXItaGlzdG9yeVxcZW5jb3VudGVyLWhpc3RvcnkucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9lbmNvdW50ZXItaGlzdG9yeS9lbmNvdW50ZXItaGlzdG9yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSwrQkFBQTtBQ0NGOztBRENFO0VBQ0UsV0FBQTtBQ0NKOztBREdNO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7QUNEUjs7QURHUTtFQUNFLDhCQUFBO0FDRFY7O0FER1U7RUFDRSxvQkFBQTtBQ0RaOztBREVZO0VBQ0UsV0FBQTtBQ0FkOztBREVjO0VBQ0UsY0FBQTtBQ0FoQjs7QURJWTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ0ZkOztBREtZO0VBQ0UsV0FBQTtBQ0hkOztBREtjO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FDSGhCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZW5jb3VudGVyLWhpc3RvcnkvZW5jb3VudGVyLWhpc3RvcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXJlZnJlc2hlciB7XHJcbiAgei1pbmRleDogMTtcclxufVxyXG5cclxuaW9uLXJlZnJlc2hlci1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuaW9uLWNvbnRlbnQge1xyXG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XHJcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuXHJcbiAgLndyYXBwZXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgaW9uLWxpc3Qge1xyXG5cclxuICAgICAgaW9uLWl0ZW0tc2xpZGluZyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDF2aDtcclxuXHJcbiAgICAgICAgaW9uLWl0ZW0ge1xyXG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xyXG5cclxuICAgICAgICAgIGlvbi1ncmlkIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMnZoIDAgMnZoIDA7XHJcbiAgICAgICAgICAgIGlvbi1yb3cge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAgICAgICBpb24tY29sIHtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IHVuc2V0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsZXN0VGV4dCB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM5OTk7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiBzbWFsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsVGV4dEJsYWNrIHtcclxuICAgICAgICAgICAgICBjb2xvcjogIzQ0NDtcclxuXHJcbiAgICAgICAgICAgICAgLmJsdWVCYWNrZ3JvdW5kIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDk2YzY7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41dmggMnZ3IDAuNXZoIDJ2dztcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuIiwiaW9uLXJlZnJlc2hlciB7XG4gIHotaW5kZXg6IDE7XG59XG5cbmlvbi1yZWZyZXNoZXItY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5pb24tY29udGVudCB7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG59XG5pb24tY29udGVudCAud3JhcHBlciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICBtYXJnaW4tYm90dG9tOiAxdmg7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIHtcbiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCB7XG4gIHBhZGRpbmc6IDJ2aCAwIDJ2aCAwO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCBpb24tcm93IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIGlvbi1yb3cgaW9uLWNvbCB7XG4gIHBhZGRpbmc6IHVuc2V0O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxlc3RUZXh0IHtcbiAgY29sb3I6ICM5OTk7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5zbWFsbFRleHRCbGFjayB7XG4gIGNvbG9yOiAjNDQ0O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxUZXh0QmxhY2sgLmJsdWVCYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZDogIzAwOTZjNjtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBwYWRkaW5nOiAwLjV2aCAydncgMC41dmggMnZ3O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgZm9udC1zaXplOiB4LXNtYWxsO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { EncounterHistoryApiService } from './../../services/encounter-history-api.service';\r\nimport { PatientBriefInformation } from './../../models/patient-brief-information';\r\nimport { PatientService } from './../../services/patient.service';\r\nimport { PermissionValidatorService } from './../../services/permission-validator.service';\r\nimport { PatientApiService } from './../../services/patient-api.service';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { LoginService } from './../../services/login.service';\r\nimport { LoadingService } from './../../services/loading.service';\r\nimport { StringUtilsService } from './../../services/string-utils.service';\r\nimport { ModalController, Events, MenuController } from '@ionic/angular';\r\nimport { PromptModalPage } from './../../pages/prompt-modal/prompt-modal.page';\r\nimport { AlertServiceService } from 'src/app/app/services/alert-service.service';\r\n\r\n@Component({\r\n  selector: 'app-encounter-history',\r\n  templateUrl: './encounter-history.page.html',\r\n  styleUrls: ['./encounter-history.page.scss'],\r\n})\r\nexport class EncounterHistoryPage implements OnInit {\r\n  selectedEncounterNo: string;\r\n  encounterList = [];\r\n  defaultOptions: any;\r\n\r\n  isNurse = false;\r\n  isDoctor = true;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private encounterApi: EncounterHistoryApiService,\r\n    private patientService: PatientService,\r\n    private patientApiService: PatientApiService,\r\n    private apiService: ApiService,\r\n    public loginService: LoginService,\r\n    private loadingService: LoadingService,\r\n    private stringUtilsService: StringUtilsService,\r\n    private alertServ: AlertServiceService,    \r\n    private menuController: MenuController,\r\n    private permissionValidatorService: PermissionValidatorService,\r\n    private events: Events\r\n  ) {\r\n    const configAndDefaults = this.loginService.getConfigAndDefaults();\r\n    this.defaultOptions = configAndDefaults.patientlist['m-patient-list']['default-options']['encounter-types'];\r\n    console.log(this.defaultOptions);\r\n    this.selectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    this.encounterApi.setUrl(this.apiService.getUrl());\r\n    this.encounterApi.setToken(this.loginService.getAuthentication().token);\r\n    const authentication = this.loginService.getAuthentication();\r\n    const role = authentication.user.role.role_name;\r\n    this.isNurse = role.toLocaleLowerCase().indexOf('nurse') !== -1;\r\n    this.isDoctor = !this.isNurse;\r\n  }\r\n\r\n  initEncounterHistory(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.loadingService.present();\r\n      const selectedPatient = this.patientService.getSelectedPatientBriefInformation();\r\n      console.log(selectedPatient.spin0.pid);\r\n      this.encounterApi.getEncounterList(selectedPatient.spin0.pid).subscribe((response) => {\r\n        this.encounterList = response;\r\n        this.loadingService.dismiss().then(_ => {\r\n          resolve(response);\r\n        });\r\n      }, err => {\r\n        console.log(err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n          reject(err);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    console.log('ionViewWillEnter');\r\n    const tempSelectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    if (this.selectedEncounterNo !== tempSelectedEncounterNo) {\r\n      console.log('selected patient changed');\r\n      this.selectedEncounterNo = tempSelectedEncounterNo;\r\n      this.initEncounterHistory();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.menuController.swipeGesture(true, 'mainMenu');\r\n    this.menuController.swipeGesture(true, 'accountMenu');\r\n    this.initEncounterHistory();\r\n  }\r\n\r\n  showDetails(index: number) {\r\n    const encounter = this.encounterList[index];\r\n    console.log(encounter);\r\n    this.patientService.setSelectedEncounterNo(encounter.encounter_no);\r\n    this.patientService.setTempEncounterNo(encounter.encounter_no);\r\n    // this.router.navigate(['/menu/encounter-history/encounter-details', {encounter_no: encounter.encounter_no}]);\r\n    if (this.isDoctor) {\r\n      this.loadingService.present();\r\n      this.patientApiService.getPatientProfileById(encounter.encounter_no).subscribe((result: PatientBriefInformation) => {\r\n        console.log(result);\r\n        this.loadingService.dismiss().then(_ => {\r\n          this.patientService.setSelectedPatientBriefInformation(result);\r\n          this.patientService.setSelectedEncounterNo(result.encounter_no);\r\n          this.permissionValidatorService.setSelectedPatient(result);\r\n          this.events.publish('patient:selected', result, Date.now());\r\n\r\n          // skipLocationChange replaceUrl\r\n          this.router.navigate(['/menu/patient-profile'], {skipLocationChange: true, replaceUrl: true});\r\n        });\r\n      }, (err) => {\r\n        console.log('err ', err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n        });\r\n      });\r\n    } else if (this.isNurse) {\r\n      this.loadingService.present();\r\n      this.patientApiService.getPatientProfileByIdForNurse(encounter.encounter_no).subscribe((result: PatientBriefInformation) => {\r\n        console.log(result);\r\n        this.loadingService.dismiss().then(_ => {\r\n          this.patientService.setSelectedPatientBriefInformation(result);\r\n          this.patientService.setSelectedEncounterNo(result.encounter_no);\r\n          this.permissionValidatorService.setSelectedPatient(result);\r\n          this.events.publish('patient:selected', result, Date.now());\r\n          this.router.navigate(['/menu/patient-profile-nurse'], {skipLocationChange: true, replaceUrl: true});\r\n        });\r\n      }, (err) => {\r\n        console.log('err ', err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  doRefreshEncounterHistory(event: any) {\r\n    this.initEncounterHistory().then(_ => {\r\n      event.target.complete();\r\n    }).catch(_ => {\r\n      event.target.complete();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { map, catchError, timeout } from 'rxjs/operators';\r\nimport { Observable, throwError, from } from 'rxjs';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EncounterHistoryApiService {\r\n  private url = 'http://localhost:3000';\r\n  private token: string;\r\n  private getEncounterListPath = '/api/doctor/patient/encounters';\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private http: HTTP,\r\n    private platform: Platform\r\n  ) { }\r\n\r\n  public setUrl(url: string) {\r\n    this.url = url;\r\n  }\r\n\r\n  public setToken(token: string) {\r\n    this.token = token;\r\n  }\r\n\r\n  public getEncounterList(pid: string): Observable<any> {\r\n    if (this.platform.is('ios') || this.platform.is('android')) {\r\n      console.log('native');\r\n      const params = {\r\n        pid\r\n      };\r\n      const headers = {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + this.token\r\n      };\r\n\r\n      return from(this.http.get(this.url + this.getEncounterListPath, params, headers)).pipe(\r\n          map((response: any) => {\r\n            const encounter = JSON.parse(response.data);\r\n            console.log('Encounter history: ', encounter);\r\n            return encounter;\r\n          }),\r\n          catchError((err: any, caught: Observable<Response>) => {\r\n            if (typeof err.error === 'string') {\r\n              try {\r\n                err.error = JSON.parse(err.error);\r\n              } catch (e) {\r\n                // do nothing\r\n              }\r\n            }\r\n            console.log('Encounter history error: ', err, caught);\r\n            return throwError(err);\r\n          })\r\n        );\r\n    } else {\r\n      const httpOptions = {\r\n        params: new HttpParams()\r\n          .set('pid', pid),\r\n        headers: new HttpHeaders({\r\n          Accept: 'application/json',\r\n          Authorization: 'Bearer ' + this.token,\r\n          'Access-Control-Allow-Origin': '*',\r\n        })\r\n      };\r\n      return this.httpClient.get(this.url + this.getEncounterListPath, httpOptions).pipe(\r\n  \t\t\tmap((response: any) => {\r\n  \t\t\t\tconsole.log('Entered getEncounterList API:', response);\r\n  \t\t\t\treturn response;\r\n  \t\t\t}),\r\n  \t\t\tcatchError((err: any, caught: Observable<Response>) => {\r\n  \t\t\t\tconsole.log(err, caught);\r\n  \t\t\t\treturn throwError(err);\r\n  \t\t\t})\r\n  \t\t);\r\n    }\r\n\t}\r\n}\r\n"],"sourceRoot":"webpack:///","file":"encounter-history-encounter-history-module-es5.js"}