(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{VM0z:function(l,n,t){"use strict";t.d(n,"a",(function(){return s}));var e=t("mrSG"),o=t("ZZ/e"),r=t("Hfim"),i=t("ucGT"),a=t("8Y7J");let s=(()=>{class l{constructor(l,n,t){this.toastCtrl=l,this.modalController=n,this.alertController=t}alertToast(l){return e.b(this,void 0,void 0,(function*(){console.log("AlertToast Message:",l);const n=yield this.toastCtrl.create({message:l,duration:8e3});n.onclick=l=>{n.dismiss()},n.present()}))}openAlertModalValidation(l,n,t,o,i="Done",a=(l=>{})){return e.b(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:r.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:l,title:n,message:t,messageArray:o,ok:i}});return e.onDidDismiss().then(l=>{a(l)}),yield e.present()}))}openSearchModal(l=[],n="",t="Enter here...",o=null,r=(l=>{})){return e.b(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{searchData:{isForSearch:!0,libs:l,searchQuery:n,maxLength:o,placeholder:t}}});return e.onDidDismiss().then(l=>{r(l)}),yield e.present()}))}openPromptModal(l,n,t="Save",o=(l=>{}),i="Cancel",a=(l=>{})){return e.b(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:r.a,cssClass:"my-custom-modal-css",componentProps:{prompt,title:l,message:n,cancel:i,ok:t}});return e.onDidDismiss().then(l=>{o(l),a(l)}),yield e.present()}))}openAlertModal(l,n,t,o="Done",i=(l=>{})){return e.b(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:r.a,cssClass:"my-custom-modal-css",componentProps:{alert:l,title:n,message:t,ok:o}});return e.onDidDismiss().then(l=>{i(l)}),yield e.present()}))}prompNAlert(l="",n="",t="",o=[],r=[],i=!0,a=!0){return e.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:l,subHeader:n,message:t,backdropDismiss:i,keyboardClose:a,inputs:o,buttons:r}).then(l=>{this.nativeAlert.present()})}))}prompInputNAlert(l="",n="",t="",o=!0,r=!0,i=[],a=[],s=(()=>{}),u=(()=>{})){return e.b(this,void 0,void 0,(function*(){0==a.length&&(a=[{text:"OK",handler:l=>{s()}},{text:"Cancel",handler:l=>{u()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:o,keyboardClose:r,message:"",inputs:i,buttons:a}).then(l=>{this.nativeAlert.present()})}))}}return l.ngInjectableDef=a.bc({factory:function(){return new l(a.cc(o.Tb),a.cc(o.Jb),a.cc(o.a))},token:l,providedIn:"root"}),l})()},sXoX:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J"),o=t("IheW"),r=t("Cfvw"),i=t("z6cu"),a=t("tS1D"),s=t("lJxs"),u=t("JIr8"),c=t("ZZ/e"),b=t("yp2w");let p=(()=>{class l{constructor(l,n,t){this.platform=l,this.httpClient=n,this.http=t,this.url="http://localhost:3000",this.referralListPath="/api/doctor/patient/referrals/data"}setUrl(l){this.url=l}setToken(l){this.token=l}getReferralsList(l){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const n={id:l},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(r.a)(this.http.get(this.url+this.referralListPath,n,t)).pipe(Object(a.a)(3e4),Object(s.a)(l=>{const n=JSON.parse(l.data);return console.log("Referrals: ",n),n}),Object(u.a)((l,n)=>{if("string"==typeof l.error)try{l.error=JSON.parse(l.error)}catch(t){console.log("err.error parse failed: ",t)}return console.log("Referrals error: ",l,n),Object(i.a)(l)}))}{console.log("browser");const n=(new o.h).set("id",l);console.log("params: ",n);const t={params:n,headers:new o.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",t),this.httpClient.get(this.url+this.referralListPath,t).pipe(Object(a.a)(3e4),Object(s.a)(l=>(console.log(l),l)),Object(u.a)((l,n)=>(console.log(n),console.error(l),Object(i.a)(l))))}}}return l.ngInjectableDef=e.bc({factory:function(){return new l(e.cc(c.Nb),e.cc(o.c),e.cc(b.a))},token:l,providedIn:"root"}),l})();var d=t("7wfR"),g=t("7ch9"),f=t("H+bZ"),h=t("EFyh"),m=t("Pasx"),C=t("VM0z");class M{constructor(l,n,t,e,o,r,i,a){this.referralsApiService=l,this.patientService=n,this.apiService=t,this.loginService=e,this.loadingService=o,this.alertServ=r,this.stringUtilsService=i,this.menuController=a,this.pPatientReferralSave=!0,this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.referralsApiService.setUrl(this.apiService.getUrl()),this.referralsApiService.setToken(this.loginService.getAuthentication().token),this.referralConfigAndDefaults=this.loginService.getConfigAndDefaults().referral}initReferrals(){return new Promise((l,n)=>{this.loadingService.present(),this.referralsApiService.getReferralsList(this.selectedEncounterNo).subscribe(n=>{console.log("result: ",n),n&&n.length>0&&(this.referrals=n),this.loadingService.dismiss().then(t=>{l(n)})},l=>{console.log("err ",l),this.loadingService.dismiss().then(t=>{const e=this.stringUtilsService.parseErrorMessage(l);this.alertServ.openAlertModal("fail","Failed",e,"Ok"),n(l)})})})}ngOnInit(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initReferrals()}ionViewWillEnter(){console.log("ionViewWillEnter");const l=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==l&&(console.log("selected patient changed"),this.selectedEncounterNo=l,this.initReferrals())}doRefreshReferrals(l){this.initReferrals().then(n=>{l.target.complete()}).catch(n=>{l.target.complete()})}}class v{}var O=t("pMnS"),P=t("Jt+7"),_=t("oBZk"),w=t("SVse"),D=t("ChBM"),y=t("RRim"),k=t("iInd"),N=t("gly3"),S=t("Fzct"),j=t("9B/o"),x=e.Bb({encapsulation:0,styles:[["ion-title[_ngcontent-%COMP%]{text-align:center;color:#0096c6;font-size:2.3vh}ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::placeholder{color:#c8c8c8;font-style:italic}.headerIcons[_ngcontent-%COMP%]{top:2.2vh;right:2.5vw;position:fixed;font-size:2.8vh}.headerIcons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:.6vw}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-top:2vh;width:100%;margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]{border-left:1vw solid #0096c6;--ion-background-color:white}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0!important;margin:0!important}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   .textSubLabel[_ngcontent-%COMP%]{color:#949494;font-size:x-small;text-align:left;-webkit-box-align:left;align-items:left;justify-items:left;margin-bottom:-.5vh!important;padding:0!important}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{color:#888;padding:0;text-align:left;display:inline-block}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium;word-break:break-word;white-space:normal}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #date[_ngcontent-%COMP%]{display:inline-grid;-webkit-box-align:left;align-items:left;justify-items:left;margin-left:4vw}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #department[_ngcontent-%COMP%]{display:inline-grid;margin-left:4vw;-webkit-box-align:left;align-items:left;justify-items:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #department[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;background-color:#63b5ed;text-align:left;padding-left:2vw;padding-right:2vw;font-size:small;display:inline-block;word-break:break-word;white-space:normal;border-radius:1vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #to[_ngcontent-%COMP%]{display:inline-grid;margin-left:2vw;-webkit-box-align:left;align-items:left;justify-items:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #to[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;background-color:#63b5ed;padding-left:2vw;padding-right:2vw;text-align:left;font-size:small;display:inline-block;word-break:break-word;white-space:normal;border-radius:1vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #reason[_ngcontent-%COMP%]{display:inline-grid;margin-left:4vw;-webkit-box-align:left;align-items:left;justify-items:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .paginationTextLabel[_ngcontent-%COMP%]{font-size:small;display:-webkit-box;display:flex;text-align:left;color:#000;margin-left:2vh;margin-right:2vh;padding:0}"]],data:{}});function R(l){return e.Yb(0,[(l()(),e.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(l()(),e.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function I(l){return e.Yb(0,[(l()(),e.Db(0,0,null,null,1,"div",[["class","noresult"]],null,null,null,null,null)),(l()(),e.Wb(-1,null,[" No Referrals found "]))],null,null)}function A(l){return e.Yb(0,[(l()(),e.Db(0,0,null,null,49,"ion-item",[["class","ion-no-padding"],["id","listItem"]],null,null,null,_.Db,_.w)),e.Cb(1,49152,null,0,c.I,[e.j,e.p,e.G],null,null),(l()(),e.Db(2,0,null,0,47,"ion-grid",[],null,null,null,_.sb,_.q)),e.Cb(3,49152,null,0,c.B,[e.j,e.p,e.G],null,null),(l()(),e.Db(4,0,null,0,11,"ion-row",[],null,null,null,_.Ob,_.M)),e.Cb(5,49152,null,0,c.kb,[e.j,e.p,e.G],null,null),(l()(),e.Db(6,0,null,0,9,"ion-col",[],null,null,null,_.lb,_.j)),e.Cb(7,49152,null,0,c.u,[e.j,e.p,e.G],null,null),(l()(),e.Db(8,0,null,0,7,"ion-label",[["id","date"]],null,null,null,_.Eb,_.C)),e.Cb(9,49152,null,0,c.O,[e.j,e.p,e.G],null,null),(l()(),e.Db(10,0,null,0,1,"p",[["class","textSubLabel"]],null,null,null,null,null)),(l()(),e.Wb(-1,null,["Date"])),(l()(),e.Db(12,0,null,0,3,"div",[["class","textLabel"]],null,null,null,null,null)),(l()(),e.Db(13,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),e.Wb(14,null,[""," ",""])),e.Sb(15,2),(l()(),e.Db(16,0,null,0,22,"ion-row",[],null,null,null,_.Ob,_.M)),e.Cb(17,49152,null,0,c.kb,[e.j,e.p,e.G],null,null),(l()(),e.Db(18,0,null,0,11,"ion-col",[["size","5"]],null,null,null,_.lb,_.j)),e.Cb(19,49152,null,0,c.u,[e.j,e.p,e.G],{size:[0,"size"]},null),(l()(),e.Db(20,0,null,0,9,"ion-label",[["id","department"]],null,null,null,_.Eb,_.C)),e.Cb(21,49152,null,0,c.O,[e.j,e.p,e.G],null,null),(l()(),e.Db(22,0,null,0,1,"p",[["class","textSubLabel"],["style","padding-bottom: 0.3vh !important;"]],null,null,null,null,null)),(l()(),e.Wb(-1,null,["Referred by Department"])),(l()(),e.Db(24,0,null,0,5,"div",[["class","label"]],null,null,null,null,null)),(l()(),e.Db(25,0,null,null,4,"p",[["style","padding-bottom: 0.3vh; padding-top: 0.3vh;"]],null,null,null,null,null)),(l()(),e.Wb(26,null,["",""])),(l()(),e.Db(27,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Db(28,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Wb(29,null,["",""])),(l()(),e.Db(30,0,null,0,8,"ion-col",[["size","7"]],null,null,null,_.lb,_.j)),e.Cb(31,49152,null,0,c.u,[e.j,e.p,e.G],{size:[0,"size"]},null),(l()(),e.Db(32,0,null,0,6,"ion-label",[["id","to"]],null,null,null,_.Eb,_.C)),e.Cb(33,49152,null,0,c.O,[e.j,e.p,e.G],null,null),(l()(),e.Db(34,0,null,0,1,"p",[["class","textSubLabel"],["style","padding-bottom: 0.3vh !important;"]],null,null,null,null,null)),(l()(),e.Wb(-1,null,["Referred To"])),(l()(),e.Db(36,0,null,0,2,"div",[["class","label"]],null,null,null,null,null)),(l()(),e.Db(37,0,null,null,1,"p",[["style","padding-bottom: 0.3vh; padding-top: 0.3vh;"]],null,null,null,null,null)),(l()(),e.Wb(38,null,["",""])),(l()(),e.Db(39,0,null,0,10,"ion-row",[],null,null,null,_.Ob,_.M)),e.Cb(40,49152,null,0,c.kb,[e.j,e.p,e.G],null,null),(l()(),e.Db(41,0,null,0,8,"ion-col",[],null,null,null,_.lb,_.j)),e.Cb(42,49152,null,0,c.u,[e.j,e.p,e.G],null,null),(l()(),e.Db(43,0,null,0,6,"ion-label",[["id","reason"]],null,null,null,_.Eb,_.C)),e.Cb(44,49152,null,0,c.O,[e.j,e.p,e.G],null,null),(l()(),e.Db(45,0,null,0,1,"p",[["class","textSubLabel"]],null,null,null,null,null)),(l()(),e.Wb(-1,null,["Reason"])),(l()(),e.Db(47,0,null,0,2,"div",[["class","textLabel"]],null,null,null,null,null)),(l()(),e.Db(48,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Wb(49,null,["",""]))],(function(l,n){l(n,19,0,"5"),l(n,31,0,"7")}),(function(l,n){var t=e.Xb(n,14,0,l(n,15,0,e.Pb(n.parent,0),n.context.$implicit.data.referral_date_strtotime,"MMM dd, yyyy"));l(n,14,0,t,n.context.$implicit.data.referral_time_ampm),l(n,26,0,n.context.$implicit.referto_doctor_desc),l(n,29,0,n.context.$implicit.data.area_desc),l(n,38,0,n.context.$implicit.data.department_desc),l(n,49,0,n.context.$implicit.data.reason_desc)}))}function z(l){return e.Yb(0,[e.Qb(0,w.e,[e.A]),(l()(),e.Db(1,0,null,null,1,"app-headerbar",[["title","Referrals"]],null,null,null,D.b,D.a)),e.Cb(2,114688,null,0,y.a,[k.m,N.a,d.a,h.a,f.a,S.a,g.a,m.a,c.Nb,j.a,c.Jb,c.a],{titleToUse:[0,"titleToUse"]},null),(l()(),e.Db(3,0,null,null,14,"ion-content",[],null,null,null,_.mb,_.k)),e.Cb(4,49152,null,0,c.v,[e.j,e.p,e.G],null,null),(l()(),e.Db(5,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var e=!0;return"ionRefresh"===n&&(e=!1!==l.component.doRefreshReferrals(t)&&e),e}),_.Nb,_.K)),e.Cb(6,49152,null,0,c.eb,[e.j,e.p,e.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(l()(),e.Db(7,0,null,0,1,"ion-refresher-content",[],null,null,null,_.Mb,_.L)),e.Cb(8,49152,null,0,c.fb,[e.j,e.p,e.G],null,null),(l()(),e.sb(16777216,null,0,1,null,R)),e.Cb(10,16384,null,0,w.l,[e.Y,e.U],{ngIf:[0,"ngIf"]},null),(l()(),e.Db(11,0,null,0,6,"div",[["class","wrapper"]],null,null,null,null,null)),(l()(),e.Db(12,0,null,null,5,"ion-list",[],null,null,null,_.Gb,_.D)),e.Cb(13,49152,null,0,c.P,[e.j,e.p,e.G],null,null),(l()(),e.sb(16777216,null,0,1,null,I)),e.Cb(15,16384,null,0,w.l,[e.Y,e.U],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(16777216,null,0,1,null,A)),e.Cb(17,278528,null,0,w.k,[e.Y,e.U,e.y],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,2,0,"Referrals"),l(n,6,0,"0.5","200","100"),l(n,10,0,t.loginService.inTestServer),l(n,15,0,t.referrals&&t.referrals.length<1||!t.referrals),l(n,17,0,t.referrals)}),null)}function E(l){return e.Yb(0,[(l()(),e.Db(0,0,null,null,1,"app-referrals",[],null,null,null,z,x)),e.Cb(1,114688,null,0,M,[p,d.a,f.a,h.a,g.a,C.a,m.a,c.Ib],null,null)],(function(l,n){l(n,1,0)}),null)}var G=e.zb("app-referrals",M,E,{},{},[]),L=t("s7LF"),F=t("gRf5"),T=t("wMzM"),J=t("t8sF"),W=t("j1ZV");t.d(n,"ReferralsPageModuleNgFactory",(function(){return U}));var U=e.Ab(v,[],(function(l){return e.Mb([e.Nb(512,e.m,e.lb,[[8,[O.a,P.a,G]],[3,e.m],e.E]),e.Nb(4608,w.n,w.m,[e.A,[2,w.C]]),e.Nb(4608,L.w,L.w,[]),e.Nb(4608,c.b,c.b,[e.G,e.g]),e.Nb(4608,c.Jb,c.Jb,[c.b,e.m,e.w]),e.Nb(4608,c.Ob,c.Ob,[c.b,e.m,e.w]),e.Nb(4608,o.j,o.p,[w.d,e.J,o.n]),e.Nb(4608,o.q,o.q,[o.j,o.o]),e.Nb(5120,o.a,(function(l){return[l]}),[o.q]),e.Nb(4608,o.m,o.m,[]),e.Nb(6144,o.k,null,[o.m]),e.Nb(4608,o.i,o.i,[o.k]),e.Nb(6144,o.b,null,[o.i]),e.Nb(4608,o.f,o.l,[o.b,e.w]),e.Nb(4608,o.c,o.c,[o.f]),e.Nb(4608,F.a,F.a,[]),e.Nb(4608,T.a,T.a,[]),e.Nb(4608,J.a,J.a,[]),e.Nb(4608,S.a,S.a,[T.a,F.a,J.a,g.a]),e.Nb(1073742336,w.c,w.c,[]),e.Nb(1073742336,L.v,L.v,[]),e.Nb(1073742336,L.i,L.i,[]),e.Nb(1073742336,c.Fb,c.Fb,[]),e.Nb(1073742336,k.q,k.q,[[2,k.v],[2,k.m]]),e.Nb(1073742336,o.e,o.e,[]),e.Nb(1073742336,o.d,o.d,[]),e.Nb(1073742336,W.a,W.a,[]),e.Nb(1073742336,v,v,[]),e.Nb(256,o.n,"XSRF-TOKEN",[]),e.Nb(256,o.o,"X-XSRF-TOKEN",[]),e.Nb(1024,k.k,(function(){return[[{path:"",component:M}]]}),[])])}))}}]);