(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{LDXv:function(e,i,t){"use strict";var s=t("8Y7J");let r=(()=>{class e{constructor(){}compare(e,i){const t={};return e.forEach(e=>i.forEach(i=>{e.id===i.id&&(t[e.id]=t[e.id]+1||1)})),Object.keys(t)}}return e.ngInjectableDef=s.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})();t.d(i,"a",(function(){return a}));let a=(()=>{class e{constructor(e){this.arrayComparatorService=e,this.throwsErrorCode=5011,this.perms={allPermission:"_a_0_all",manageEhr:"_a_1_ehr_sudomanage",viewAllDept:"_a_2_ehr_view_all_dept",viewOwnDept:"_a_3_ehr_view_own_dept",editAllDept:"_a_2_ehr_edit_all_dept",editOwnDept:"_a_3_ehr_edit_own_dept",overideInct:"_a_2_ehr_override_my_patient",overideInctSoap:"_a_3_ehr_soap",overideInctSoapDiag:"_a_2_ehr_override_final_dx",overideInctSoapDiag2:"_a_4_ehr_override_final_dx",overideInctPastMed:"_a_3_ehr_past_medical_history",overideInctPsigns:"_a_3_ehr_pertinent_signs_and_symptoms",overideInctHciRef:"_a_3_ehr_referred_hci",overideInctPhysExam:"_a_3_ehr_physical_examination",overideInctMedicat:"_a_3_ehr_medication",overideInctPlanMan:"_a_3_ehr_plan_management",overideInctEndCare:"_a_3_ehr_end_of_care"},this.portlets={soap:"soap",soapDiag:"soapDiag",pastMed:"pastMed",pSigns:"pSings",refHci:"refHci",physExam:"physExam",medict:"medict",planMan:"planMan",endCare:"endCare"}}setAuthentication(e){this.authentication=e}setSelectedPatient(e){this.selectedPatient=e}validateRole(e,i=!0,t=!1){this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log("user roleName: ",this.roleName);const s=e.role_name,r=e["other-permissions"];let a=!1;if(this.authentication.user.permissions.map(i=>{"all"===e[0]?a="_a_0_all"===i.permission_id:"sudomanage"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id:"view_all_dept"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_view_all_dept"===i.permission_id:"view_own_dept"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_view_all_dept"===i.permission_id||"_a_3_ehr_view_own_dept"===i.permission_id:"edit_all_dept"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_edit_all_dept"===i.permission_id:"edit_own_dept"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_edit_all_dept"===i.permission_id||"_a_3_ehr_edit_own_dept"===i.permission_id:"override_my_patient"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id:"soap"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_soap"===i.permission_id:"override_final_dx"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_4_ehr_override_final_dx"===i.permission_id||"_a_3_ehr_soap"===i.permission_id:"past_medical_history"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_past_medical_history"===i.permission_id:"pertinent_signs_and_symptoms"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_pertinent_signs_and_symptoms"===i.permission_id:"referred_hci"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_referred_hci"===i.permission_id:"physical_examination"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_physical_examination"===i.permission_id:"medication"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_medication"===i.permission_id:"plan_managem"===e[0]?a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_plan_management"===i.permission_id:"end_of_care"===e[0]&&(a="_a_0_all"===i.permission_id||"_a_1_ehr_sudomanage"===i.permission_id||"_a_2_ehr_override_my_patient"===i.permission_id||"_a_3_ehr_end_of_care"===i.permission_id)}),t)return a;console.log("roleNames: ",s);let n=!0;if(Array.isArray(s)&&s.length>0){const e=s.findIndex(e=>(console.log("element: ",e," this.roleName: ",this.roleName),-1!=this.roleName.toUpperCase().indexOf(e.toUpperCase())));console.log("index: ",e),n=e>=0}console.log("validRole: ",n);let o=!1;return Array.isArray(r)&&r.length>0&&(o=this.arrayComparatorService.compare(r,this.permissions).length>0),console.log("validOtherPermission: ",o),!i||(console.log("selectedPatient: ",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log("is_discharged"),o)}hasAllPermission(){return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.allPermission)}hasManageEhr(){return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.manageEhr)}hasEdit(){return!!this.authentication.user.permissions.some(e=>e.permission_id==this.perms.editAllDept)||this.authentication.user.permissions.some(e=>e.permission_id==this.perms.editOwnDept)&&this.selectedPatient.isInMyDept}hasView(){return!!this.authentication.user.permissions.some(e=>e.permission_id==this.perms.viewAllDept)||this.authentication.user.permissions.some(e=>e.permission_id==this.perms.viewOwnDept)&&this.selectedPatient.isInMyDept}hasHigherPermission(){return this.hasAllPermission()||this.hasManageEhr()}hasOverInct(){return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInct)}hasDischPerm(e){if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(e){case this.portlets.soap:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctSoap);case this.portlets.soapDiag:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctSoapDiag||e.permission_id==this.perms.overideInctSoapDiag2);case this.portlets.pastMed:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPastMed);case this.portlets.pSigns:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPsigns);case this.portlets.refHci:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctHciRef);case this.portlets.physExam:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPhysExam);case this.portlets.medict:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctMedicat);case this.portlets.planMan:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPlanMan);case this.portlets.endCare:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctEndCare)}return!1}isDischarged(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}hasSoapEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}hasSoapDiagEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}hasSoapView(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}hasPastMedEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}hasPastView(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}hasPSignsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}hasPSingsView(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}hasVitalSignsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasRefHciEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}hasRefHciView(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}hasPhysExamEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}hasPhysExamView(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}hasResultView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasDrugsMedsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}hasDrugsMedsView(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}hasEncHistView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasReferalsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasEndCareEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}hasEndCareView(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}hasPlanManEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}hasPlanManView(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}return e.ngInjectableDef=s.bc({factory:function(){return new e(s.cc(r))},token:e,providedIn:"root"}),e})()},VM0z:function(e,i,t){"use strict";t.d(i,"a",(function(){return h}));var s=t("mrSG"),r=t("ZZ/e"),a=t("Hfim"),n=t("ucGT"),o=t("8Y7J");let h=(()=>{class e{constructor(e,i,t){this.toastCtrl=e,this.modalController=i,this.alertController=t}alertToast(e){return s.b(this,void 0,void 0,(function*(){console.log("AlertToast Message:",e);const i=yield this.toastCtrl.create({message:e,duration:8e3});i.onclick=e=>{i.dismiss()},i.present()}))}openAlertModalValidation(e,i,t,r,n="Done",o=(e=>{})){return s.b(this,void 0,void 0,(function*(){const s=yield this.modalController.create({component:a.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:e,title:i,message:t,messageArray:r,ok:n}});return s.onDidDismiss().then(e=>{o(e)}),yield s.present()}))}openSearchModal(e=[],i="",t="Enter here...",r=null,a=(e=>{})){return s.b(this,void 0,void 0,(function*(){const s=yield this.modalController.create({component:n.a,cssClass:"my-custom-modal-css",componentProps:{searchData:{isForSearch:!0,libs:e,searchQuery:i,maxLength:r,placeholder:t}}});return s.onDidDismiss().then(e=>{a(e)}),yield s.present()}))}openPromptModal(e,i,t="Save",r=(e=>{}),n="Cancel",o=(e=>{})){return s.b(this,void 0,void 0,(function*(){const s=yield this.modalController.create({component:a.a,cssClass:"my-custom-modal-css",componentProps:{prompt,title:e,message:i,cancel:n,ok:t}});return s.onDidDismiss().then(e=>{r(e),o(e)}),yield s.present()}))}openAlertModal(e,i,t,r="Done",n=(e=>{})){return s.b(this,void 0,void 0,(function*(){const s=yield this.modalController.create({component:a.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:i,message:t,ok:r}});return s.onDidDismiss().then(e=>{n(e)}),yield s.present()}))}prompNAlert(e="",i="",t="",r=[],a=[],n=!0,o=!0){return s.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:e,subHeader:i,message:t,backdropDismiss:n,keyboardClose:o,inputs:r,buttons:a}).then(e=>{this.nativeAlert.present()})}))}prompInputNAlert(e="",i="",t="",r=!0,a=!0,n=[],o=[],h=(()=>{}),_=(()=>{})){return s.b(this,void 0,void 0,(function*(){0==o.length&&(o=[{text:"OK",handler:e=>{h()}},{text:"Cancel",handler:e=>{_()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:r,keyboardClose:a,message:"",inputs:n,buttons:o}).then(e=>{this.nativeAlert.present()})}))}}return e.ngInjectableDef=o.bc({factory:function(){return new e(o.cc(r.Tb),o.cc(r.Jb),o.cc(r.a))},token:e,providedIn:"root"}),e})()},ipUr:function(e,i,t){"use strict";t.d(i,"a",(function(){return r}));var s=t("8Y7J");let r=(()=>{class e{constructor(){}setDetails(e){this.detail=e}getDetails(){return this.detail}}return e.ngInjectableDef=s.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},wV6e:function(e,i,t){"use strict";t.d(i,"a",(function(){return p}));var s=t("lJxs"),r=t("JIr8"),a=t("tS1D"),n=t("Cfvw"),o=t("z6cu"),h=t("IheW"),_=t("yp2w"),d=t("ZZ/e"),c=t("8Y7J");let p=(()=>{class e{constructor(e,i,t){this.httpClient=e,this.http=i,this.platform=t,this.url="http://localhost:3000",this.getDrugsAndMedicinesPath="/api/doctor/patient/doctor/pharma/getdata",this.getMedicationDataPath="/api/doctor/patient/doctor/pharma/getMedication",this.getMedicationDefaultOptionsPath="/api/doctor/patient/doctor/pharma/defaultOptions",this.saveMedicationDataPath="/api/doctor/patient/medication/action"}setUrl(e){this.url=e}setToken(e){this.token=e}getDrugsAndMedicines(e){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const i={encounter_no:e},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(n.a)(this.http.get(this.url+this.getDrugsAndMedicinesPath,i,t)).pipe(Object(s.a)(e=>{const i=JSON.parse(e.data);return console.log("Drugs and Medicines: ",i),i}),Object(r.a)((e,i)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("Drugs and Medicines error: ",e,i),Object(o.a)(e)}))}{const i={params:(new h.h).set("encounter_no",e),headers:new h.g({Accept:"application/json",Authorization:"Bearer "+this.token,"Access-Control-Allow-Origin":"*"})};return this.httpClient.get(this.url+this.getDrugsAndMedicinesPath,i).pipe(Object(s.a)(e=>(console.log("Drugs and Medicines: ",e),e)),Object(r.a)((e,i)=>(console.log("Drugs and Medicines error: ",e,i),Object(o.a)(e))))}}getMedicationData(e,i,t){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const a={encounter_no:e,refno:i,item_id:t},h={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token};return Object(n.a)(this.http.get(this.url+this.getMedicationDataPath,a,h)).pipe(Object(s.a)(e=>{const i=JSON.parse(e.data);return console.log("Medication data: ",i),i}),Object(r.a)((e,i)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("Medication data error: ",e,i),Object(o.a)(e)}))}{const a={params:(new h.h).set("encounter_no",e).set("refno",i).set("item_id",t),headers:new h.g({Accept:"application/json",Authorization:"Bearer "+this.token,"Access-Control-Allow-Origin":"*"})};return this.httpClient.get(this.url+this.getMedicationDataPath,a).pipe(Object(s.a)(e=>(console.log("Medication data: ",e),e)),Object(r.a)((e,i)=>(console.log("Medication data error: ",e,i),Object(o.a)(e))))}}getMedicationDefaultOptions(){if(console.log("API fetching: getMedicationDefaultOptions"),this.platform.is("ios")||this.platform.is("android")){console.log("native");const e={},i={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token};return Object(n.a)(this.http.get(this.url+this.getMedicationDefaultOptionsPath,e,i)).pipe(Object(s.a)(e=>{const i=JSON.parse(e.data);return console.log("Medication data: ",i),i}),Object(r.a)((e,i)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("Medication data error: ",e,i),Object(o.a)(e)}))}{const e={params:new h.h,headers:new h.g({Accept:"application/json",Authorization:"Bearer "+this.token,"Access-Control-Allow-Origin":"*"})};return this.httpClient.get(this.url+this.getMedicationDefaultOptionsPath,e).pipe(Object(s.a)(e=>(console.log("Medication data: ",e),e)),Object(r.a)((e,i)=>(console.log("Medication data error: ",e,i),Object(o.a)(e))))}}saveMedicationData(e){if(console.log(e),this.platform.is("ios")||this.platform.is("android")){console.log("native");const i={refno:e.refno,itemID:e.item_id,frequency:e.frequency,route:e.route,dosage:e.dosage,source:e.source,encounter_no:e.encounter_no},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(n.a)(this.http.post(this.url+this.saveMedicationDataPath,i,t)).pipe(Object(a.a)(3e4),Object(s.a)(e=>{const i=JSON.parse(e.data);return console.log("Save Medication data: ",i),i}),Object(r.a)((e,i)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("Save Medication data error: ",e,i),Object(o.a)(e)}))}{const i=new FormData;i.append("refno",e.refno),i.append("itemID",e.item_id),i.append("frequency",e.frequency),i.append("dosage",e.dosage),i.append("route",e.route),i.append("source",e.source),i.append("encounter_no",e.encounter_no);const t={headers:new h.g({Accept:"application/json",Authorization:"Bearer "+this.token,"Access-Control-Allow-Origin":"*"})};return this.httpClient.post(this.url+this.saveMedicationDataPath,i,t).pipe(Object(a.a)(3e4),Object(s.a)(e=>(console.log("Entered saveMedicationData API:",e),e)),Object(r.a)((e,i)=>(console.log(e,i),Object(o.a)(e))))}}}return e.ngInjectableDef=c.bc({factory:function(){return new e(c.cc(h.c),c.cc(_.a),c.cc(d.Nb))},token:e,providedIn:"root"}),e})()}}]);