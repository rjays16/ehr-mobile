function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"7wfR":function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var l=e("8Y7J"),i=function(){var n=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"getSelectedEncounterNo",value:function(){return this.selectedEncounterNo}},{key:"setSelectedEncounterNo",value:function(n){this.selectedEncounterNo=n}},{key:"getTempEncounterNo",value:function(){return this.tempEncounterNo}},{key:"setTempEncounterNo",value:function(n){this.tempEncounterNo=n}},{key:"getSelectedPatientBriefInformation",value:function(){return this.selectedPatientInformation}},{key:"setSelectedPatientBriefInformation",value:function(n){this.selectedPatientInformation=n}},{key:"getPatientList",value:function(){return this.patients}},{key:"setPatientList",value:function(n){this.patients=n}},{key:"getMyPatientList",value:function(){return this.myPatients}},{key:"setMyPatientList",value:function(n){this.myPatients=n}},{key:"getNursePatientList",value:function(){return this.nursePatients}},{key:"setNursePatientList",value:function(n){this.nursePatients=n}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(n){this.type=n}},{key:"getWard",value:function(){return this.ward}},{key:"setWard",value:function(n){this.ward=n}},{key:"getSearchKeyword",value:function(){return this.searchKeyword}},{key:"setSearchKeyword",value:function(n){this.searchKeyword=n}}]),n}();return n.ngInjectableDef=l.bc({factory:function(){return new n},token:n,providedIn:"root"}),n}()},ChBM:function(n,t,e){"use strict";var l=e("8Y7J"),i=e("oBZk"),o=e("ZZ/e");e("RRim"),e("iInd"),e("gly3"),e("7wfR"),e("EFyh"),e("H+bZ"),e("Fzct"),e("7ch9"),e("Pasx"),e("9B/o"),e.d(t,"a",(function(){return u})),e.d(t,"b",(function(){return r}));var u=l.Bb({encapsulation:0,styles:[[".titleDiv[_ngcontent-%COMP%]{overflow-x:scroll;white-space:nowrap;text-align:center;margin:auto}.titleDiv[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:relative;color:#0096c6;font-size:1em;padding-left:4px;padding-right:4px;display:inline-block}.menuIcon[_ngcontent-%COMP%]{--padding-top:0px!important;--padding-end:0px!important;--padding-bottom:0px!important;--padding-start:0px!important;--border-radius:50%!important;width:36px!important;height:36px!important;margin:0!important}.subIcons[_ngcontent-%COMP%]{--padding-top:4px!important;--padding-end:4px!important;--padding-bottom:4px!important;--padding-start:4px!important;--border-radius:50%!important;width:30px!important;height:30px!important;margin:0 2px 0 0!important}"]],data:{}});function r(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,31,"ion-header",[],null,null,null,i.tb,i.r)),l.Cb(1,49152,null,0,o.C,[l.j,l.p,l.G],null,null),(n()(),l.Db(2,0,null,0,29,"ion-toolbar",[],null,null,null,i.cc,i.ab)),l.Cb(3,49152,null,0,o.Db,[l.j,l.p,l.G],null,null),(n()(),l.Db(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,i.gb,i.e)),l.Cb(5,49152,null,0,o.m,[l.j,l.p,l.G],null,null),(n()(),l.Db(6,0,null,0,1,"ion-menu-button",[["class","menuIcon"],["menu","mainMenu"]],null,null,null,i.Hb,i.G)),l.Cb(7,49152,null,0,o.S,[l.j,l.p,l.G],{menu:[0,"menu"]},null),(n()(),l.Db(8,0,null,0,3,"div",[["class","titleDiv"]],null,null,null,null,null)),(n()(),l.Db(9,0,null,null,2,"ion-title",[],null,null,null,i.ac,i.Y)),l.Cb(10,49152,null,0,o.Bb,[l.j,l.p,l.G],null,null),(n()(),l.Wb(11,0,["",""])),(n()(),l.Db(12,0,null,0,19,"ion-buttons",[["slot","end"]],null,null,null,i.gb,i.e)),l.Cb(13,49152,null,0,o.m,[l.j,l.p,l.G],null,null),(n()(),l.Db(14,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.showNotifications()&&l),l}),i.fb,i.d)),l.Cb(15,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(16,0,null,0,1,"ion-icon",[["ios","ios-notifications"],["md","md-notifications"],["slot","icon-only"]],null,null,null,i.ub,i.s)),l.Cb(17,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),l.Db(18,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.search()&&l),l}),i.fb,i.d)),l.Cb(19,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(20,0,null,0,1,"ion-icon",[["ios","ios-search"],["md","md-search"],["slot","icon-only"]],null,null,null,i.ub,i.s)),l.Cb(21,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),l.Db(22,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.print()&&l),l}),i.fb,i.d)),l.Cb(23,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(24,0,null,0,1,"ion-icon",[["ios","ios-print"],["md","md-print"],["slot","icon-only"]],null,null,null,i.ub,i.s)),l.Cb(25,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),l.Db(26,0,null,0,5,"ion-menu-toggle",[["menu","accountMenu"]],null,null,null,i.Ib,i.H)),l.Cb(27,49152,null,0,o.T,[l.j,l.p,l.G],{menu:[0,"menu"]},null),(n()(),l.Db(28,0,null,0,3,"ion-button",[["class","subIcons"]],null,null,null,i.fb,i.d)),l.Cb(29,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(30,0,null,0,1,"ion-icon",[["ios","ios-contact"],["md","md-contact"],["slot","icon-only"]],null,null,null,i.ub,i.s)),l.Cb(31,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(n,t){n(t,7,0,"mainMenu"),n(t,17,0,"ios-notifications","md-notifications"),n(t,21,0,"ios-search","md-search"),n(t,25,0,"ios-print","md-print"),n(t,27,0,"accountMenu"),n(t,31,0,"ios-contact","md-contact")}),(function(n,t){n(t,11,0,t.component.titleToUse)}))}},GKYY:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J"),i=e("wV6e"),o=e("ipUr"),u=e("7wfR"),r=e("LDXv"),c=e("H+bZ"),s=e("EFyh"),a=e("7ch9"),d=e("Pasx"),g=e("ZZ/e"),p=e("VM0z"),b=function(){function n(t,e,l,i,o,u,r,c,s,a,d,g){_classCallCheck(this,n),this.router=t,this.drugsApi=e,this.drugsAndMedicinesDetailDataService=l,this.patientService=i,this.apiService=o,this.loginService=u,this.stringUtilsService=r,this.permissionValidatorService=c,this.loadingService=s,this.modalController=a,this.alertServ=d,this.menuController=g,this.pMedicationSave=!0,this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),console.log(this.selectedEncounterNo),this.drugsApi.setUrl(this.apiService.getUrl()),this.drugsApi.setToken(this.loginService.getAuthentication().token),this.meidcationConfigAndDefaults=this.loginService.getConfigAndDefaults().medication}return _createClass(n,[{key:"initUserInterfaceByRole",value:function(){this.pMedicationSave=this.permissionValidatorService.hasDrugsMedsEdit()}},{key:"ngOnInit",value:function(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initUserInterfaceByRole(),this.initDrugsAndMedicines()}},{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter");var n=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==n&&(console.log("selected patient changed"),this.selectedEncounterNo=n,this.initUserInterfaceByRole(),this.initDrugsAndMedicines());var t=this.drugsAndMedicinesDetailDataService.getDetails();if(t){var e=this.medications.find((function(n){return n.refno==t.refno&&n.item_id==t.item_id}));e&&(e.route=t.route,e.frequency=t.frequency),this.drugsAndMedicinesDetailDataService.setDetails(null)}}},{key:"initDrugsAndMedicines",value:function(){var n=this;return new Promise((function(t,e){n.loadingService.present(),n.drugsApi.getDrugsAndMedicines(n.selectedEncounterNo).subscribe((function(e){n.medications=e,n.loadingService.dismiss().then((function(n){t(e)}))}),(function(t){console.log(t),n.loadingService.dismiss().then((function(l){var i=n.stringUtilsService.parseErrorMessage(t);n.alertServ.openAlertModal("fail","Failed",i,"Ok"),e(t)}))}))}))}},{key:"viewDrugAndMedicine",value:function(n){var t=this.medications[n];console.log(t),this.router.navigate(["/menu/drugs-and-medicines/drugs-and-medicines-view",{encounter_no:t.encounter_nr,refno:t.refno,item_id:t.item_id}])}},{key:"doRefreshDrugsAndMedicines",value:function(n){this.initDrugsAndMedicines().then((function(t){n.target.complete()})).catch((function(t){n.target.complete()}))}}]),n}(),f=function n(){_classCallCheck(this,n)},h=e("pMnS"),m=e("Jt+7"),C=e("oBZk"),v=e("SVse"),M=e("ChBM"),P=e("RRim"),O=e("iInd"),_=e("gly3"),k=e("Fzct"),w=e("9B/o"),y=l.Bb({encapsulation:0,styles:[["ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}.paginationText[_ngcontent-%COMP%]{font-style:italic;margin-left:5vw;margin-bottom:0;font-size:small}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .noFoundLabel[_ngcontent-%COMP%]{font-size:1em}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]{--ion-background-color:#ffffff;margin-bottom:1vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-left:1vw solid #0096c6}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:2vh 0}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:unset}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .normalText[_ngcontent-%COMP%]{color:#444}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .blueText[_ngcontent-%COMP%]{font-weight:700;color:#0096c6}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallTextGrey[_ngcontent-%COMP%]{font-size:smaller;color:#999}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallestText[_ngcontent-%COMP%]{color:#444;font-size:x-small;font-weight:700}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallTextBlack[_ngcontent-%COMP%]{color:#444;font-size:small}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallTextBlack[_ngcontent-%COMP%]   .blueBackground[_ngcontent-%COMP%]{background:#0096c6;border-radius:25px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.5vh 2vw;color:#fff}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallTextBlack[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:#0096c6;border-radius:25px;width:auto;padding:.5vh 2vw;color:#fff;right:0}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item-options[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{--background:#3cb979}"]],data:{}});function D(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(n()(),l.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function j(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,1,"div",[["class","noresult"]],null,null,null,null,null)),(n()(),l.Wb(-1,null,[" No Medication Found "]))],null,null)}function x(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,1,"div",[["class","blueBackground"]],null,null,null,null,null)),(n()(),l.Wb(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.parent.context.$implicit.frequency)}))}function S(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,3,"ion-item-option",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.viewDrugAndMedicine(n.parent.parent.context.index)&&l),l}),C.Ab,C.z)),l.Cb(1,49152,null,0,g.L,[l.j,l.p,l.G],null,null),(n()(),l.Db(2,0,null,0,1,"ion-icon",[["ios","ios-create"],["md","md-create"]],null,null,null,C.ub,C.s)),l.Cb(3,49152,null,0,g.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(n,t){n(t,3,0,"ios-create","md-create")}),null)}function N(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,3,"ion-item-option",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.viewDrugAndMedicine(n.parent.parent.context.index)&&l),l}),C.Ab,C.z)),l.Cb(1,49152,null,0,g.L,[l.j,l.p,l.G],null,null),(n()(),l.Db(2,0,null,0,1,"ion-icon",[["ios","ios-eye"],["md","md-eye"]],null,null,null,C.ub,C.s)),l.Cb(3,49152,null,0,g.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(n,t){n(t,3,0,"ios-eye","md-eye")}),null)}function G(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,5,"ion-item-options",[["side","end"]],null,null,null,C.Bb,C.A)),l.Cb(1,49152,null,0,g.M,[l.j,l.p,l.G],{side:[0,"side"]},null),(n()(),l.sb(16777216,null,0,1,null,S)),l.Cb(3,16384,null,0,v.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(16777216,null,0,1,null,N)),l.Cb(5,16384,null,0,v.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,1,0,"end"),n(t,3,0,e.pMedicationSave),n(t,5,0,!e.pMedicationSave)}),null)}function A(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,46,"ion-item-sliding",[],null,null,null,C.Cb,C.B)),l.Cb(1,49152,null,0,g.N,[l.j,l.p,l.G],null,null),(n()(),l.Db(2,0,null,0,42,"ion-item",[],null,null,null,C.Db,C.w)),l.Cb(3,49152,null,0,g.I,[l.j,l.p,l.G],{color:[0,"color"]},null),(n()(),l.Db(4,0,null,0,40,"ion-grid",[],null,null,null,C.sb,C.q)),l.Cb(5,49152,null,0,g.B,[l.j,l.p,l.G],null,null),(n()(),l.Db(6,0,null,0,4,"ion-row",[["class","normalText"]],null,null,null,C.Ob,C.M)),l.Cb(7,49152,null,0,g.kb,[l.j,l.p,l.G],null,null),(n()(),l.Db(8,0,null,0,2,"ion-col",[],null,null,null,C.lb,C.j)),l.Cb(9,49152,null,0,g.u,[l.j,l.p,l.G],null,null),(n()(),l.Wb(10,0,["",""])),(n()(),l.Db(11,0,null,0,4,"ion-row",[["class","blueText"]],null,null,null,C.Ob,C.M)),l.Cb(12,49152,null,0,g.kb,[l.j,l.p,l.G],null,null),(n()(),l.Db(13,0,null,0,2,"ion-col",[],null,null,null,C.lb,C.j)),l.Cb(14,49152,null,0,g.u,[l.j,l.p,l.G],null,null),(n()(),l.Wb(15,0,["",""])),(n()(),l.Db(16,0,null,0,4,"ion-row",[["class","smallTextGrey"]],null,null,null,C.Ob,C.M)),l.Cb(17,49152,null,0,g.kb,[l.j,l.p,l.G],null,null),(n()(),l.Db(18,0,null,0,2,"ion-col",[],null,null,null,C.lb,C.j)),l.Cb(19,49152,null,0,g.u,[l.j,l.p,l.G],null,null),(n()(),l.Wb(20,0,["",""])),(n()(),l.Db(21,0,null,0,10,"ion-row",[["class","smallestText"],["style","margin-top: 5px;"]],null,null,null,C.Ob,C.M)),l.Cb(22,49152,null,0,g.kb,[l.j,l.p,l.G],null,null),(n()(),l.Db(23,0,null,0,2,"ion-col",[["size","7.5"]],null,null,null,C.lb,C.j)),l.Cb(24,49152,null,0,g.u,[l.j,l.p,l.G],{size:[0,"size"]},null),(n()(),l.Wb(-1,0,["Route"])),(n()(),l.Db(26,0,null,0,2,"ion-col",[["size","3"]],null,null,null,C.lb,C.j)),l.Cb(27,49152,null,0,g.u,[l.j,l.p,l.G],{size:[0,"size"]},null),(n()(),l.Wb(-1,0,["Dosage & Frequency"])),(n()(),l.Db(29,0,null,0,2,"ion-col",[["size","1.5"]],null,null,null,C.lb,C.j)),l.Cb(30,49152,null,0,g.u,[l.j,l.p,l.G],{size:[0,"size"]},null),(n()(),l.Wb(-1,0,["Quantity"])),(n()(),l.Db(32,0,null,0,12,"ion-row",[["class","smallTextBlack"]],null,null,null,C.Ob,C.M)),l.Cb(33,49152,null,0,g.kb,[l.j,l.p,l.G],null,null),(n()(),l.Db(34,0,null,0,2,"ion-col",[["class","blueBackground"],["size","7.5"]],null,null,null,C.lb,C.j)),l.Cb(35,49152,null,0,g.u,[l.j,l.p,l.G],{size:[0,"size"]},null),(n()(),l.Wb(36,0,["",""])),(n()(),l.Db(37,0,null,0,3,"ion-col",[["size","3"]],null,null,null,C.lb,C.j)),l.Cb(38,49152,null,0,g.u,[l.j,l.p,l.G],{size:[0,"size"]},null),(n()(),l.sb(16777216,null,0,1,null,x)),l.Cb(40,16384,null,0,v.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(n()(),l.Db(41,0,null,0,3,"ion-col",[["size","1.5"]],null,null,null,C.lb,C.j)),l.Cb(42,49152,null,0,g.u,[l.j,l.p,l.G],{size:[0,"size"]},null),(n()(),l.Db(43,0,null,0,1,"div",[["class","right"]],null,null,null,null,null)),(n()(),l.Wb(44,null,["",""])),(n()(),l.sb(16777216,null,0,1,null,G)),l.Cb(46,16384,null,0,v.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,""==t.context.$implicit.drug_code?null:"light"),n(t,24,0,"7.5"),n(t,27,0,"3"),n(t,30,0,"1.5"),n(t,35,0,"7.5"),n(t,38,0,"3"),n(t,40,0,t.context.$implicit.frequency),n(t,42,0,"1.5"),n(t,46,0,""!=t.context.$implicit.refno)}),(function(n,t){n(t,10,0,t.context.$implicit.refno),n(t,15,0,t.context.$implicit.item_name),n(t,20,0,t.context.$implicit.generic_name),n(t,36,0,t.context.$implicit.route),n(t,44,0,t.context.$implicit.quantity)}))}function I(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,1,"app-headerbar",[["title","Drugs and Medicines"]],null,null,null,M.b,M.a)),l.Cb(1,114688,null,0,P.a,[O.m,_.a,u.a,s.a,c.a,k.a,a.a,d.a,g.Nb,w.a,g.Jb,g.a],{titleToUse:[0,"titleToUse"]},null),(n()(),l.Db(2,0,null,null,14,"ion-content",[],null,null,null,C.mb,C.k)),l.Cb(3,49152,null,0,g.v,[l.j,l.p,l.G],null,null),(n()(),l.Db(4,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,t,e){var l=!0;return"ionRefresh"===t&&(l=!1!==n.component.doRefreshDrugsAndMedicines(e)&&l),l}),C.Nb,C.K)),l.Cb(5,49152,null,0,g.eb,[l.j,l.p,l.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(n()(),l.Db(6,0,null,0,1,"ion-refresher-content",[],null,null,null,C.Mb,C.L)),l.Cb(7,49152,null,0,g.fb,[l.j,l.p,l.G],null,null),(n()(),l.sb(16777216,null,0,1,null,D)),l.Cb(9,16384,null,0,v.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(n()(),l.Db(10,0,null,0,6,"div",[["class","wrapper"],["style","margin-top: 10px"]],null,null,null,null,null)),(n()(),l.sb(16777216,null,null,1,null,j)),l.Cb(12,16384,null,0,v.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(n()(),l.Db(13,0,null,null,3,"ion-list",[],null,null,null,C.Gb,C.D)),l.Cb(14,49152,null,0,g.P,[l.j,l.p,l.G],null,null),(n()(),l.sb(16777216,null,0,1,null,A)),l.Cb(16,278528,null,0,v.k,[l.Y,l.U,l.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){var e=t.component;n(t,1,0,"Drugs and Medicines"),n(t,5,0,"0.5","200","100"),n(t,9,0,e.loginService.inTestServer),n(t,12,0,e.medications&&e.medications.length<1||!e.medications),n(t,16,0,e.medications)}),null)}var z=l.zb("app-drugs-and-medicines",b,(function(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,1,"app-drugs-and-medicines",[],null,null,null,I,y)),l.Cb(1,114688,null,0,b,[O.m,i.a,o.a,u.a,c.a,s.a,d.a,r.a,a.a,g.Jb,p.a,g.Ib],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),E=e("s7LF"),B=e("IheW"),F=e("gRf5"),R=e("wMzM"),T=e("t8sF"),U=e("/nUa"),Y=e("j1ZV");e.d(t,"DrugsAndMedicinesPageModuleNgFactory",(function(){return W}));var W=l.Ab(f,[],(function(n){return l.Mb([l.Nb(512,l.m,l.lb,[[8,[h.a,m.a,z]],[3,l.m],l.E]),l.Nb(4608,v.n,v.m,[l.A,[2,v.C]]),l.Nb(4608,E.w,E.w,[]),l.Nb(4608,g.b,g.b,[l.G,l.g]),l.Nb(4608,g.Jb,g.Jb,[g.b,l.m,l.w]),l.Nb(4608,g.Ob,g.Ob,[g.b,l.m,l.w]),l.Nb(4608,B.j,B.p,[v.d,l.J,B.n]),l.Nb(4608,B.q,B.q,[B.j,B.o]),l.Nb(5120,B.a,(function(n){return[n]}),[B.q]),l.Nb(4608,B.m,B.m,[]),l.Nb(6144,B.k,null,[B.m]),l.Nb(4608,B.i,B.i,[B.k]),l.Nb(6144,B.b,null,[B.i]),l.Nb(4608,B.f,B.l,[B.b,l.w]),l.Nb(4608,B.c,B.c,[B.f]),l.Nb(4608,F.a,F.a,[]),l.Nb(4608,R.a,R.a,[]),l.Nb(4608,T.a,T.a,[]),l.Nb(4608,k.a,k.a,[R.a,F.a,T.a,U.a,a.a]),l.Nb(1073742336,v.c,v.c,[]),l.Nb(1073742336,E.v,E.v,[]),l.Nb(1073742336,E.i,E.i,[]),l.Nb(1073742336,g.Fb,g.Fb,[]),l.Nb(1073742336,O.q,O.q,[[2,O.v],[2,O.m]]),l.Nb(1073742336,B.e,B.e,[]),l.Nb(1073742336,B.d,B.d,[]),l.Nb(1073742336,Y.a,Y.a,[]),l.Nb(1073742336,f,f,[]),l.Nb(256,B.n,"XSRF-TOKEN",[]),l.Nb(256,B.o,"X-XSRF-TOKEN",[]),l.Nb(1024,O.k,(function(){return[[{path:"",component:b},{path:"",children:[{path:"drugs-and-medicines-view",loadChildren:"../drugs-and-medicines-view/drugs-and-medicines-view.module#DrugsAndMedicinesViewPageModule"}]}]]}),[])])}))},"H+bZ":function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("AytR"),i=e("8Y7J"),o=function(){var n=function(){function n(){_classCallCheck(this,n),this.url=l.a.url}return _createClass(n,[{key:"getUrl",value:function(){return this.url}},{key:"setUrl",value:function(n){this.url=n}}]),n}();return n.ngInjectableDef=i.bc({factory:function(){return new n},token:n,providedIn:"root"}),n}()},RRim:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("mrSG"),i=(e("gly3"),e("7wfR"),e("EFyh"),e("H+bZ"),e("7ch9"),e("Pasx"),e("Fzct"),e("9B/o"),e("ZZ/e"),e("Hfim")),o=function(){function n(t,e,l,i,o,u,r,c,s,a,d,g){_classCallCheck(this,n),this.router=t,this.cf4ApiService=e,this.patientService=l,this.loginService=i,this.apiService=o,this.pdfViewerService=u,this.loadingService=r,this.stringUtilsService=c,this.platform=s,this.inAppBrowser=a,this.modalController=d,this.alertCtrl=g,this.options={location:"yes",hidden:"no",clearcache:"yes",clearsessioncache:"yes",zoom:"yes",hardwareback:"yes",mediaPlaybackRequiresUserAction:"no",shouldPauseOnSuspend:"no",closebuttoncaption:"Close",disallowoverscroll:"no",toolbar:"yes",enableViewportScale:"no",allowInlineMediaPlayback:"no",presentationstyle:"pagesheet",fullscreen:"yes"},this.showPDF=!1,this.cf4ApiService.setUrl(this.apiService.getUrl()),this.cf4ApiService.setToken(this.loginService.getAuthentication().token),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo()}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"showNotifications",value:function(){}},{key:"search",value:function(){this.router.navigate(["/menu/quick-search"])}},{key:"print",value:function(){var n=this;this.loadingService.present(),this.cf4ApiService.getCf4(this.selectedEncounterNo).subscribe((function(t){console.log("result: ",t),n.loadingService.dismiss().then((function(e){t&&t.filepath&&(t.check.mandatories?n.openAlertModalValidation("fail","Missing Required Fields!",t.check.message,t.check.mandatories,t,"Ok",t.filepath):n.openWithInAppBrowser(t.filepath))}))}),(function(t){console.log(t),n.loadingService.dismiss().then((function(e){var l=n.stringUtilsService.parseErrorMessage(t);n.openAlertModal("fail","Failed",l,"Ok")}))}))}},{key:"openWithInAppBrowser",value:function(n){return l.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"View CF4?",message:"Would you like to view the CF4 printout?",buttons:[{text:"No",handler:function(){console.log("Cancel clicked")}},{text:"Yes",handler:function(){l.inAppBrowser.create(n,"_system",l.options)}}]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"openAlertModal",value:function(n,t,e){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done";return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var u;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{alert:n,title:t,message:e,ok:o}});case 2:return(u=l.sent).onDidDismiss().then((function(n){null!==n&&console.log("result.data: ",n.data)})),l.next=6,u.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}},{key:"openAlertModalValidation",value:function(n,t,e,o,u){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Done",c=arguments.length>6?arguments[6]:void 0;return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var u,s=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:n,title:t,message:e,messageArray:o,ok:r}});case 2:return(u=l.sent).onDidDismiss().then((function(n){null!==n&&(console.log("result.data: ",n.data),s.showPDF=!0),s.openWithInAppBrowser(c)})),l.next=6,u.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}}]),n}()},gly3:function(n,t,e){"use strict";e.d(t,"a",(function(){return g}));var l=e("tS1D"),i=e("lJxs"),o=e("JIr8"),u=e("Cfvw"),r=e("z6cu"),c=e("IheW"),s=e("ZZ/e"),a=e("yp2w"),d=e("8Y7J"),g=function(){var n=function(){function n(t,e,l){_classCallCheck(this,n),this.platform=t,this.httpClient=e,this.http=l,this.url="http://localhost:3000",this.getcf4Path="/api/cf4/file/path"}return _createClass(n,[{key:"setUrl",value:function(n){this.url=n}},{key:"setToken",value:function(n){this.token=n}},{key:"getCf4",value:function(n){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var t={encounter_nr:n},e={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(u.a)(this.http.get(this.url+this.getcf4Path,t,e)).pipe(Object(l.a)(3e4),Object(i.a)((function(n){var t=JSON.parse(n.data);return console.log("CF4: ",t),t})),Object(o.a)((function(n,t){if("string"==typeof n.error)try{n.error=JSON.parse(n.error)}catch(e){}return console.log("CF4 error: ",n,t),Object(r.a)(n)})))}console.log("browser");var s=(new c.h).set("encounter_nr",n);console.log("params: ",s);var a={params:s,headers:new c.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",a),this.httpClient.get(this.url+this.getcf4Path,a).pipe(Object(l.a)(3e4),Object(i.a)((function(n){return console.log("CF4: ",n),n})),Object(o.a)((function(n,t){return console.log("CF4 error: ",n,t),Object(r.a)(n)})))}}]),n}();return n.ngInjectableDef=d.bc({factory:function(){return new n(d.cc(s.Nb),d.cc(c.c),d.cc(a.a))},token:n,providedIn:"root"}),n}()}}]);