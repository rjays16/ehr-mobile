{"version":3,"sources":["./src/app/pages/hci-referral/hci-referral.page.html","./src/app/app/services/alert-service.service.ts","./src/app/pages/hci-referral/hci-referral.module.ts","./src/app/pages/hci-referral/hci-referral.page.scss","./src/app/pages/hci-referral/hci-referral.page.ts","./src/app/services/hci-referral-api.service.ts"],"names":[],"mappings":"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","file":"hci-referral-hci-referral-module-es2015.js","sourcesContent":["export default \"<app-headerbar title=\\\"Referred from another HCI\\\"></app-headerbar>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"doRefreshHciReferral($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"testServer\\\" *ngIf=\\\"loginService.inTestServer\\\">\\r\\n    TEST SERVER CONECTED\\r\\n  </div>\\r\\n  <div class=\\\"wrapper\\\">\\r\\n    <form #referral=\\\"ngForm\\\" (ngSubmit)=\\\"onAddHciReferral(referral)\\\">\\r\\n      <div class=\\\"referralSection\\\" id=\\\"topSection\\\">\\r\\n        <ion-label class=\\\"redLabel\\\">Referred from another HCI? <app-modified-b-toast [modifiedBy]=\\\"refered_modified.modified_by\\\" [modifiedDate]=\\\"refered_modified.modified_dt\\\"></app-modified-b-toast></ion-label>\\r\\n        <div class=\\\"toggle\\\">\\r\\n          <ion-label class=\\\"textSubLabel\\\" id=\\\"no\\\">No</ion-label>\\r\\n          <ion-toggle [disabled]=\\\"!refFromOtherHciSave || !allowEdit\\\" class=\\\"toggle-long\\\" [(ngModel)]=\\\"isReferredFromAnotherHCI\\\" mode=\\\"ios\\\" name=\\\"is_referred_from_another_hci\\\"></ion-toggle>\\r\\n          <ion-label class=\\\"textSubLabel\\\" id=\\\"yes\\\">Yes</ion-label>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"isReferredFromAnotherHCI\\\" class=\\\"referralSection\\\">\\r\\n        <div class=\\\"referralSection\\\">\\r\\n          <ion-label [color]=\\\"isReferredFromAnotherHCI && ((hciReason.length <= 0 || hciReason.length > 2000)) ? 'danger':'dark'\\\">Reason*</ion-label>\\r\\n          <ion-textarea rows=\\\"8\\\"  pattern=\\\"^(?=.*\\\\S).+$\\\" [required]=\\\"isReferredFromAnotherHCI\\\" [disabled]=\\\"!refFromOtherHciSave || !allowEdit\\\" [(ngModel)]=\\\"hciReason\\\" name=\\\"reason\\\" class=\\\"bigTextArea\\\" placeholder=\\\"If Yes, specify reason..\\\"></ion-textarea>\\r\\n          <p class=\\\"warning-message\\\" *ngIf=\\\"(isReferredFromAnotherHCI && hciReason.length > 2000 )\\\">You have reach the character limit.</p>\\r\\n          <p class=\\\"warning-message\\\" *ngIf=\\\"(isReferredFromAnotherHCI && hciReason.length <= 0 )\\\">This is required.</p>\\r\\n      </div>\\r\\n        <div class=\\\"referralSection\\\">\\r\\n          <ion-label [color]=\\\"isReferredFromAnotherHCI && ((nameOfOriginatingHCI.length <= 0 || nameOfOriginatingHCI.length > 2000)) ? 'danger':'dark'\\\">Name of originating HCI*</ion-label>\\r\\n          <ion-input  pattern=\\\"^(?=.*\\\\S).+$\\\" [disabled]=\\\"!refFromOtherHciSave || !allowEdit\\\" [(ngModel)]=\\\"nameOfOriginatingHCI\\\" required name=\\\"name_of_hci\\\" type=\\\"text\\\" class=\\\"normalTextInput\\\" placeholder=\\\"\\\"></ion-input >\\r\\n          <p class=\\\"warning-message\\\" *ngIf=\\\"(isReferredFromAnotherHCI && nameOfOriginatingHCI.length > 2000 )\\\">You have reach the character limit.</p>\\r\\n          <p class=\\\"warning-message\\\" *ngIf=\\\"(isReferredFromAnotherHCI && nameOfOriginatingHCI.length <= 0 )\\\">This is required.</p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"ion-padding\\\">\\r\\n        <p class=\\\"warning-message\\\" *ngIf=\\\"referral.invalid && !(!refFromOtherHciSave || !allowEdit || (isReferredFromAnotherHCI && (hciReason.length > 2000 || nameOfOriginatingHCI.length > 2000) ))\\\">Some data is missing.</p>\\r\\n        <ion-button type=\\\"submit\\\" [hidden]=\\\"!allowEdit\\\" [disabled]=\\\"referral.invalid || !refFromOtherHciSave || !allowEdit || (isReferredFromAnotherHCI && (hciReason.length > 2000 || nameOfOriginatingHCI.length > 2000) )\\\" expand=\\\"block\\\"><ion-icon name=\\\"paper-plane\\\"></ion-icon> Save</ion-button>\\r\\n        <ion-button type=\\\"button\\\" expand=\\\"block\\\" (click)=\\\"allowEdit = !allowEdit\\\" [hidden]=\\\"allowEdit\\\" [disabled]=\\\"!refFromOtherHciSave\\\"><ion-icon name=\\\"create\\\"></ion-icon> Edit</ion-button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { Injectable } from '@angular/core';\r\nimport { ToastController, ModalController, AlertController } from '@ionic/angular';\r\nimport { PromptModalPage } from 'src/app/pages/prompt-modal/prompt-modal.page';\r\nimport { PromptModalCPage } from 'src/app/pages/prompt-modal-c/prompt-modal-c.page';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlertServiceService {\r\n  private nativeAlert;\r\n  \r\n  constructor(\r\n    private toastCtrl: ToastController,\r\n    private modalController: ModalController,\r\n    private alertController: AlertController,\r\n  ) { }\r\n    \r\n\r\n  async alertToast(message){\r\n    console.log('AlertToast Message:', message);\r\n    const toast = await this.toastCtrl.create({\r\n      message: message,\r\n      duration: 8000\r\n    });\r\n    toast.onclick = (ev)=>{\r\n      toast.dismiss();\r\n    }\r\n    toast.present();\r\n  }\r\n\r\n  async openAlertModalValidation(alert: string, title: string, message: string, messageArray, ok: string = 'Done', okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      cssClass: 'my-custom-modal-array-css',\r\n      componentProps: {\r\n        alert,\r\n        title,\r\n        message,\r\n        messageArray,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openSearchModal(options=[], value=\"\",placeholder=\"Enter here...\",maxLength=null, okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalCPage,\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        searchData: {\r\n          isForSearch:true,\r\n          libs:options,\r\n          searchQuery:value,\r\n          maxLength:maxLength,\r\n          placeholder:placeholder\r\n        },\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openPromptModal(title: string, message: string,  ok: string = 'Save', okCallBack = (result)=>{}, cancel: string = 'Cancel', cancelCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        prompt,\r\n        title,\r\n        message,\r\n        cancel,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n      cancelCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n  \r\n\r\n  async openAlertModal(alert: string, title: string, message: string, ok: string = 'Done', okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      // cssClass: 'auto-height',\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        alert,\r\n        title,\r\n        message,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  async prompNAlert(\r\n    header='',\r\n    subHeader='',\r\n    message='',\r\n    inputs=[], \r\n    buttons=[],\r\n    backdropDismiss=true,\r\n    keyboardClose=true\r\n  ){\r\n  \r\n  this.nativeAlert = this.alertController.create({\r\n      header,\r\n      subHeader,\r\n      message,\r\n      backdropDismiss,\r\n      keyboardClose,\r\n      inputs,\r\n      buttons\r\n    }).then(alert => {\r\n      this.nativeAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n  async prompInputNAlert(\r\n    header='',\r\n    subHeader='',\r\n    message='',\r\n    backdropDismiss=true,\r\n    keyboardClose=true,\r\n    inputs=[], \r\n    buttons:any = [],\r\n    callBackOk = ()=>{}, \r\n    callBackNo = ()=>{}\r\n  ){\r\n    \r\n    if(buttons.length == 0)\r\n      buttons = [\r\n        {\r\n          text: 'OK',\r\n          handler: data => {\r\n            callBackOk();\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            callBackNo();\r\n          }\r\n        }\r\n      ];\r\n\r\n\r\n    this.nativeAlert = this.alertController.create({\r\n      header:'',\r\n      subHeader:'',\r\n      backdropDismiss,\r\n      keyboardClose,\r\n      message:'',\r\n      inputs,\r\n      buttons\r\n    }).then(alert => {\r\n      this.nativeAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HciReferralPage } from './hci-referral.page';\r\nimport { ComponentsModule } from './../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HciReferralPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [HciReferralPage]\r\n})\r\nexport class HciReferralPageModule {}\r\n","export default \"::-webkit-input-placeholder {\\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\\n  color: #c8c8c8;\\n  font-style: italic;\\n}\\n\\n::-moz-placeholder {\\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\\n  color: #c8c8c8;\\n  font-style: italic;\\n}\\n\\n::-ms-input-placeholder {\\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\\n  color: #c8c8c8;\\n  font-style: italic;\\n}\\n\\n::placeholder {\\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\\n  color: #c8c8c8;\\n  font-style: italic;\\n}\\n\\nion-refresher {\\n  z-index: 1;\\n}\\n\\nion-refresher-content {\\n  background-color: transparent;\\n}\\n\\nion-content {\\n  background: #f9f9f9;\\n  --ion-background-color: #f9f9f9;\\n}\\n\\nion-content .wrapper {\\n  margin-top: 20px;\\n  padding: 10px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  margin-bottom: 20px;\\n}\\n\\nion-content .wrapper .referralSection {\\n  margin-bottom: 20px;\\n}\\n\\nion-content .wrapper .referralSection .toggle {\\n  margin-top: 10px;\\n  margin-bottom: 30px;\\n  display: block;\\n  position: relative;\\n  left: -10px;\\n}\\n\\nion-content .wrapper .referralSection .toggle ion-toggle {\\n  zoom: 0.8;\\n}\\n\\nion-content .wrapper .referralSection .toggle #no {\\n  position: relative;\\n  left: 10px;\\n  bottom: -10px;\\n}\\n\\nion-content .wrapper .referralSection .toggle #yes {\\n  position: relative;\\n  right: 10px;\\n  bottom: -10px;\\n}\\n\\nion-content .wrapper .referralSection .normalTextInput {\\n  background: white;\\n  border: whitesmoke solid 1px;\\n  width: 100%;\\n  border: none;\\n  margin-top: 10px;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  border-radius: 10px;\\n}\\n\\nion-content .wrapper .referralSection .bigTextArea {\\n  background: white;\\n  border: whitesmoke solid 1px;\\n  width: 100%;\\n  border: none;\\n  margin-top: 10px;\\n  padding: 10px;\\n  border-radius: 10px;\\n}\\n\\nion-content .wrapper .referralSection .textLabel {\\n  color: #949494;\\n}\\n\\nion-content .wrapper .referralSection .textSubLabel {\\n  color: #949494;\\n  font-size: x-small;\\n}\\n\\nion-content .wrapper .referralSection .redLabel {\\n  color: #ff5757;\\n}\\n\\nion-content .wrapper .ion-padding ion-button {\\n  height: 48px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaGNpLXJlZmVycmFsL0Q6XFxwcm9qZWN0c1xcaW9uaWNzXFxlaHItbW9iaWxlL3NyY1xcYXBwXFxwYWdlc1xcaGNpLXJlZmVycmFsXFxoY2ktcmVmZXJyYWwucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9oY2ktcmVmZXJyYWwvaGNpLXJlZmVycmFsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFnQix5Q0FBQTtFQUNaLGNBQUE7RUFDQSxrQkFBQTtBQ0VKOztBREpBO0VBQWdCLHlDQUFBO0VBQ1osY0FBQTtFQUNBLGtCQUFBO0FDRUo7O0FESkE7RUFBZ0IseUNBQUE7RUFDWixjQUFBO0VBQ0Esa0JBQUE7QUNFSjs7QURKQTtFQUFnQix5Q0FBQTtFQUNaLGNBQUE7RUFDQSxrQkFBQTtBQ0VKOztBRENBO0VBQ0ksVUFBQTtBQ0VKOztBRENBO0VBQ0ksNkJBQUE7QUNFSjs7QURDQTtFQUNJLG1CQUFBO0VBQ0EsK0JBQUE7QUNFSjs7QURBSTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ0VSOztBREFRO0VBQ0ksbUJBQUE7QUNFWjs7QURBWTtFQUNJLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0FDRWhCOztBREFnQjtFQUNJLFNBQUE7QUNFcEI7O0FEQ2dCO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsYUFBQTtBQ0NwQjs7QURFZ0I7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0FDQXBCOztBRElZO0VBQ0ksaUJBQUE7RUFDQSw0QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUNGaEI7O0FES1k7RUFDSSxpQkFBQTtFQUNBLDRCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ0hoQjs7QURNWTtFQUNJLGNBQUE7QUNKaEI7O0FET1k7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7QUNMaEI7O0FEUVk7RUFDSSxjQUFBO0FDTmhCOztBRFdZO0VBQ0ksWUFBQTtBQ1RoQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2hjaS1yZWZlcnJhbC9oY2ktcmVmZXJyYWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOjpwbGFjZWhvbGRlciB7IC8qIENocm9tZSwgRmlyZWZveCwgT3BlcmEsIFNhZmFyaSAxMC4xKyAqL1xyXG4gICAgY29sb3I6ICNjOGM4Yzg7XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbn1cclxuXHJcbmlvbi1yZWZyZXNoZXIge1xyXG4gICAgei1pbmRleDogMTtcclxufVxyXG5cclxuaW9uLXJlZnJlc2hlci1jb250ZW50IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG59XHJcblxyXG5pb24tY29udGVudCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjlmOWY5O1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuXHJcbiAgICAud3JhcHBlciB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG5cclxuICAgICAgICAucmVmZXJyYWxTZWN0aW9uIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuXHJcbiAgICAgICAgICAgIC50b2dnbGUge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IC0xMHB4O1xyXG5cclxuICAgICAgICAgICAgICAgIGlvbi10b2dnbGUge1xyXG4gICAgICAgICAgICAgICAgICAgIHpvb206IDAuODtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAjbm8ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogLTEwcHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgI3llcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogLTEwcHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5ub3JtYWxUZXh0SW5wdXQge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IHdoaXRlc21va2Ugc29saWQgMXB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5iaWdUZXh0QXJlYSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogd2hpdGVzbW9rZSBzb2xpZCAxcHg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnRleHRMYWJlbCB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogIzk0OTQ5NDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnRleHRTdWJMYWJlbCB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogIzk0OTQ5NDtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnJlZExhYmVsIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmY1NzU3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaW9uLXBhZGRpbmcge1xyXG4gICAgICAgICAgICBpb24tYnV0dG9uIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNDhweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCI6OnBsYWNlaG9sZGVyIHtcbiAgLyogQ2hyb21lLCBGaXJlZm94LCBPcGVyYSwgU2FmYXJpIDEwLjErICovXG4gIGNvbG9yOiAjYzhjOGM4O1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbmlvbi1yZWZyZXNoZXIge1xuICB6LWluZGV4OiAxO1xufVxuXG5pb24tcmVmcmVzaGVyLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuaW9uLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kOiAjZjlmOWY5O1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBwYWRkaW5nOiAxMHB4O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgLnJlZmVycmFsU2VjdGlvbiB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5pb24tY29udGVudCAud3JhcHBlciAucmVmZXJyYWxTZWN0aW9uIC50b2dnbGUge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiAtMTBweDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIC5yZWZlcnJhbFNlY3Rpb24gLnRvZ2dsZSBpb24tdG9nZ2xlIHtcbiAgem9vbTogMC44O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgLnJlZmVycmFsU2VjdGlvbiAudG9nZ2xlICNubyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbGVmdDogMTBweDtcbiAgYm90dG9tOiAtMTBweDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIC5yZWZlcnJhbFNlY3Rpb24gLnRvZ2dsZSAjeWVzIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICByaWdodDogMTBweDtcbiAgYm90dG9tOiAtMTBweDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIC5yZWZlcnJhbFNlY3Rpb24gLm5vcm1hbFRleHRJbnB1dCB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXI6IHdoaXRlc21va2Ugc29saWQgMXB4O1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyOiBub25lO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5pb24tY29udGVudCAud3JhcHBlciAucmVmZXJyYWxTZWN0aW9uIC5iaWdUZXh0QXJlYSB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXI6IHdoaXRlc21va2Ugc29saWQgMXB4O1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyOiBub25lO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgLnJlZmVycmFsU2VjdGlvbiAudGV4dExhYmVsIHtcbiAgY29sb3I6ICM5NDk0OTQ7XG59XG5pb24tY29udGVudCAud3JhcHBlciAucmVmZXJyYWxTZWN0aW9uIC50ZXh0U3ViTGFiZWwge1xuICBjb2xvcjogIzk0OTQ5NDtcbiAgZm9udC1zaXplOiB4LXNtYWxsO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgLnJlZmVycmFsU2VjdGlvbiAucmVkTGFiZWwge1xuICBjb2xvcjogI2ZmNTc1Nztcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIC5pb24tcGFkZGluZyBpb24tYnV0dG9uIHtcbiAgaGVpZ2h0OiA0OHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PatientService } from './../../services/patient.service';\r\nimport { HciReferralApiService } from './../../services/hci-referral-api.service';\r\nimport { LoadingService } from './../../services/loading.service';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { StringUtilsService } from './../../services/string-utils.service';\r\nimport { PermissionValidatorService } from './../../services/permission-validator.service';\r\nimport { HciReferral } from './../../models/hci-referral';\r\nimport { Authentication } from './../../models/authentication';\r\nimport { HciReferralConfig } from './../../models/hci-referral-config';\r\nimport { LoginService } from 'src/app/services/login.service';\r\nimport { PromptModalPage } from './../../pages/prompt-modal/prompt-modal.page';\r\nimport { ModalController, MenuController } from '@ionic/angular';\r\nimport { AlertServiceService } from 'src/app/app/services/alert-service.service';\r\n@Component({\r\n  selector: 'app-hci-referral',\r\n  templateUrl: './hci-referral.page.html',\r\n  styleUrls: ['./hci-referral.page.scss'],\r\n})\r\nexport class HciReferralPage implements OnInit {\r\n  authentication: Authentication;\r\n  config: HciReferralConfig;\r\n  selectedEncounterNo: string;\r\n\r\n  hciReason = '';\r\n  nameOfOriginatingHCI = '';\r\n  isReferredFromAnotherHCI = false;\r\n  refFromOtherHciSave = true;\r\n  refFromOtherHciView = true;\r\n  refFromHciConfigAndDefaults: any;\r\n\r\n  allowEdit = true;\r\n  refered_modified = {\r\n    modified_by: null,\r\n    modified_dt: null\r\n  };\r\n\r\n  private SAVE_HCI_REFERRAL = 1;\r\n\r\n  // keyboard params\r\n  y: any;\r\n  h: any;\r\n  offsetY: any;\r\n\r\n  constructor(private hciReferralApiService: HciReferralApiService,\r\n              private patientService: PatientService,\r\n              private loadingService: LoadingService,\r\n              public loginService: LoginService,\r\n              private alertServ: AlertServiceService,\r\n              private stringUtilsService: StringUtilsService,\r\n              private permissionValidatorService: PermissionValidatorService,\r\n              private apiService: ApiService,\r\n              private menuController: MenuController) {\r\n    this.selectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    this.authentication = this.loginService.getAuthentication();\r\n    this.hciReferralApiService.setUrl(this.apiService.getUrl());\r\n    this.hciReferralApiService.setToken(this.authentication.token);\r\n\r\n    this.refFromHciConfigAndDefaults = this.loginService.getConfigAndDefaults().ref_from_hci;\r\n    console.log(this.refFromHciConfigAndDefaults);\r\n    console.log(this.refFromHciConfigAndDefaults[' m-patient-reffromotherhci']);\r\n    console.log(this.refFromHciConfigAndDefaults[' m-patient-reffromotherhci']['reffromotherhci-save']);\r\n  }\r\n\r\n  initializeUserInterfaceByRole() {\r\n    // tslint:disable-next-line: max-line-length\r\n    let reffromotherhci = this.refFromHciConfigAndDefaults[' m-patient-reffromotherhci'];\r\n    if (reffromotherhci) {\r\n      reffromotherhci = reffromotherhci['reffromotherhci-save'];\r\n    } else {\r\n      reffromotherhci = this.refFromHciConfigAndDefaults['m-patient-reffromotherhci']['reffromotherhci-save'];\r\n    }\r\n    this.refFromOtherHciSave = this.permissionValidatorService.hasRefHciEdit();\r\n\r\n    console.log('refFromOtherHciSave: ', this.refFromOtherHciSave);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.menuController.swipeGesture(true, 'mainMenu');\r\n    this.menuController.swipeGesture(true, 'accountMenu');\r\n    this.initializeUserInterfaceByRole();\r\n    this.getHciReferral();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    console.log('ionViewWillEnter');\r\n    const tempSelectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    if (this.selectedEncounterNo !== tempSelectedEncounterNo) {\r\n      console.log('selected patient changed');\r\n      this.selectedEncounterNo = tempSelectedEncounterNo;\r\n      this.initializeUserInterfaceByRole();\r\n      this.getHciReferral();\r\n    }\r\n\r\n    window.addEventListener('native.keyboardshow', this.keyboardShowHandler);\r\n    window.addEventListener('native.keyboardhide', this.keyboardHideHandler);\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    console.log('ionViewWillLeave');\r\n    window.removeEventListener('native.keyboardshow', this.keyboardShowHandler);\r\n    window.removeEventListener('native.keyboardhide', this.keyboardHideHandler);\r\n    this.removeIonAppStyles();\r\n  }\r\n\r\n  onAddHciReferral(referral: any) {\r\n    this.openPromptModal(this.SAVE_HCI_REFERRAL, { referral }, 'HCI Referral', 'Would you like to save your changes?');\r\n  }\r\n\r\n  onAddHciReferralFunction(referral: any) {\r\n    console.log(referral.value);\r\n    const r = referral.value;\r\n    const data = {\r\n      encounter_no: this.selectedEncounterNo,\r\n      reason: r.reason ? r.reason : '',\r\n      hci_name: r.name_of_hci ? r.name_of_hci : '',\r\n      isHCI: r.is_referred_from_another_hci ? 1 : 0\r\n    };\r\n    console.log(data);\r\n    this.loadingService.present();\r\n    this.hciReferralApiService.saveHciReferral(data).subscribe((result: any) => {\r\n      console.log(result);\r\n      this.loadingService.dismiss().then(_ => {\r\n        if (result && 200 == result.code) {\r\n          // do nothing\r\n          this.refered_modified.modified_by = result.data.encoded;\r\n          this.refered_modified.modified_dt = result.data.date_encoded;\r\n          this.allowEdit = false;\r\n          this.alertServ.openAlertModal('success', 'Success', result.message);\r\n        } else {\r\n          console.log('failed');\r\n          this.alertServ.openAlertModal('fail', 'Failed', result.message, 'Ok');\r\n        }\r\n      });\r\n    }, (err) => {\r\n      console.log('err ', err);\r\n      this.loadingService.dismiss().then(_ => {\r\n        const message = this.stringUtilsService.parseErrorMessage(err);\r\n        this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n      });\r\n    });\r\n  }\r\n\r\n  getHciReferral(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.loadingService.present();\r\n      this.hciReferralApiService.getHciReferral(this.selectedEncounterNo).subscribe((result: any) => {\r\n        console.log(result);\r\n        this.loadingService.dismiss().then(_ => {\r\n          try {\r\n            if (result) {\r\n              this.hciReason = result.referral_reason ? result.referral_reason : '';\r\n              this.nameOfOriginatingHCI = result.name_of_hci ? result.name_of_hci : '';\r\n              this.isReferredFromAnotherHCI = result.config ? result.config == 1 : false;\r\n\r\n              this.refered_modified.modified_by = result.data.encoded;\r\n              this.refered_modified.modified_dt = result.data.date_encoded;\r\n              this.allowEdit = this.nameOfOriginatingHCI == '';\r\n            } else {\r\n              this.alertServ.openAlertModal('fail', 'Failed', 'Cannot parse HCI referral values!', 'Ok');\r\n            }\r\n            resolve(result);\r\n          } catch (error) {\r\n            this.alertServ.openAlertModal('fail', 'Failed', 'Cannot parse HCI referral values!', 'Ok');\r\n            reject(error);\r\n          }\r\n        });\r\n      }, (err) => {\r\n        console.log('err ', err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n          reject(err);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  doRefreshHciReferral(event: any) {\r\n    this.getHciReferral().then(_ => {\r\n      event.target.complete();\r\n    }).catch(_ => {\r\n      event.target.complete();\r\n    });\r\n  }\r\n\r\n  openPromptModal(option: number, data: any, title: string, message: string,  ok: string = 'Save', cancel: string = 'Cancel') {\r\n    this.alertServ.openPromptModal(title, message, ok, (result) => {\r\n      if (result !== null) {\r\n        console.log('result.data: ', result.data);\r\n        if (result.data && result.data.button == 'Save') {\r\n          if (option == this.SAVE_HCI_REFERRAL) {\r\n            this.onAddHciReferralFunction(data.referral);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  tapCoordinates(e) {\r\n    this.y = e.touches[0].clientY;\r\n    this.h = window.innerHeight;\r\n    this.offsetY = (this.h - this.y);\r\n    console.log('offset: ', this.offsetY);\r\n  }\r\n\r\n  keyboardShowHandler(e) {\r\n    const kH = e.keyboardHeight;\r\n    console.log('show: ', e.keyboardHeight);\r\n    const bodyMove = document.querySelector('ion-app') as HTMLElement, bodyMoveStyle = bodyMove.style;\r\n\r\n    // Adjust full keyboard height\r\n    bodyMoveStyle.bottom = kH + 'px';\r\n    /*\r\n    if (this.offsetY < kH + 40) {\r\n      bodyMoveStyle.bottom = (kH - this.offsetY + 40) + 'px';\r\n      // bodyMoveStyle.top = 'initial';\r\n    }\r\n    */\r\n    console.log(bodyMoveStyle.bottom);\r\n  }\r\n\r\n  keyboardHideHandler() {\r\n    console.log('gone');\r\n    const removeStyles = document.querySelector('ion-app') as HTMLElement;\r\n    removeStyles.removeAttribute('style');\r\n  }\r\n\r\n  removeIonAppStyles() {\r\n    const removeStyles = document.querySelector('ion-app') as HTMLElement;\r\n    removeStyles.removeAttribute('style');\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { map, catchError, timeout } from 'rxjs/operators';\r\nimport { Observable, throwError, from } from 'rxjs';\r\nimport { HttpClient, HttpParams, HttpHeaders } from '@angular/common/http';\r\nimport { Platform } from '@ionic/angular';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport { HciReferral } from '../models/hci-referral';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HciReferralApiService {\r\n  private url = 'http://localhost:3000';\r\n  private getHciReferralPath = '/api/doctor/patient/reffromother/hci/data';\r\n  private saveHciReferralPath = '/api/doctor/patient/reffromother/hci/data/save';\r\n  private token: string;\r\n\r\n  constructor(private platform: Platform,\r\n              private httpClient: HttpClient,\r\n              private http: HTTP) { }\r\n\r\n  public setUrl(url: any) {\r\n    this.url = url;\r\n  }\r\n\r\n  public setToken(token: string) {\r\n    this.token = token;\r\n  }\r\n\r\n  public saveHciReferral(hciReferral: any) {\r\n    const encounter_no = hciReferral.encounter_no;\r\n\r\n    if (this.platform.is('ios') || this.platform.is('android')) {\r\n      console.log('native');\r\n      const body = {\r\n        reason: hciReferral.reason,\r\n        hci_name: hciReferral.hci_name,\r\n        isHCI: hciReferral.isHCI\r\n      };\r\n\r\n      const headers = {\r\n        Accept: 'application/json',\r\n        Authorization: 'Bearer ' + this.token\r\n      };\r\n\r\n      return from(this.http.post(this.url + this.saveHciReferralPath + '?id=' + encounter_no, body, headers)).pipe(\r\n        timeout(30000),\r\n        map((response: any) => {\r\n          const hci = JSON.parse(response.data);\r\n          console.log('HCI Referral: ', hci);\r\n          return hci;\r\n        }),\r\n        catchError((err: any, caught: Observable<any>) => {\r\n          if (typeof err.error === 'string') {\r\n            try {\r\n              err.error = JSON.parse(err.error);\r\n            } catch (e) {\r\n              // do nothing\r\n            }\r\n          }\r\n          console.log('HCI Referral error: ', err, caught);\r\n          return throwError(err);\r\n        })\r\n      );\r\n    } else {\r\n      const body = new FormData();\r\n      body.append('reason', hciReferral.reason);\r\n      body.append('hci_name', hciReferral.hci_name);\r\n      body.append('isHCI', hciReferral.isHCI);\r\n\r\n      const httpOptions = {\r\n        params: new HttpParams()\r\n          .set('id', encounter_no),\r\n        headers: new HttpHeaders({\r\n          Accept: 'application/json',\r\n          Authorization: 'Bearer ' + this.token\r\n        })\r\n      };\r\n\r\n      return this.httpClient.post(this.url + this.saveHciReferralPath, body, httpOptions).pipe(\r\n        timeout(30000),\r\n        map((results: any) => {\r\n                console.log(results);\r\n                return results;\r\n        }),\r\n        catchError((err: any, caught: Observable<any>) => {\r\n                console.log(caught);\r\n                console.error(err);\r\n                return throwError(err);\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  public getHciReferral(encounter_no: string): Observable<HciReferral>  {\r\n    if (this.platform.is('ios') || this.platform.is('android')) {\r\n      console.log('native');\r\n      const params = {\r\n        id: encounter_no\r\n      };\r\n\r\n      const headers = {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + this.token\r\n      };\r\n\r\n      return from(this.http.get(this.url + this.getHciReferralPath, params, headers)).pipe(\r\n        timeout(30000),\r\n        map((response: any) => {\r\n          const hci = JSON.parse(response.data);\r\n          console.log('HCI Referral: ', hci);\r\n          return hci;\r\n        }),\r\n        catchError((err: any, caught: Observable<any>) => {\r\n          if (typeof err.error === 'string') {\r\n            try {\r\n              err.error = JSON.parse(err.error);\r\n            } catch (e) {\r\n              // do nothing\r\n            }\r\n          }\r\n          console.log('HCI Referral error: ', err, caught);\r\n          return throwError(err);\r\n        })\r\n      );\r\n    } else {\r\n      console.log('browser');\r\n\r\n      const httpOptions = {\r\n        params: new HttpParams()\r\n        .set('id', encounter_no),\r\n        headers: new HttpHeaders({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + this.token\r\n        })\r\n      };\r\n      console.log('httpOptions', httpOptions);\r\n      return this.httpClient.get<HciReferral>(this.url + this.getHciReferralPath, httpOptions).pipe(\r\n        timeout(30000),\r\n        map((results: HciReferral) => {\r\n          console.log('HCI Referral: ', results);\r\n          return results;\r\n        }),\r\n        catchError((err: any, caught: Observable<any>) => {\r\n          console.log('HCI Referral error: ', err, caught);\r\n          return throwError(err);\r\n        })\r\n      );\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}