(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{GD6N:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J"),a=e("ZZ/e"),i=e("EFyh"),o=e("7ch9"),s=e("7wfR"),u=e("j+ZQ"),r=e("kERx"),c=e("H+bZ"),d=e("Pasx"),b=e("wd/R"),g=e("VM0z");class p{constructor(l,n,e,t,a,i,o,s,u,r){this.navCtrl=l,this.loadingService=n,this.apiService=e,this.loginService=t,this.alertServ=a,this.patientService=i,this.stringUtilsService=o,this.planManagementApiService=s,this.planManagementDataService=u,this.route=r,this.id="",this.dateChecked=!1,this.dateToggle=!1,this.disableDate=!1,this.disableTime=!1,this.disableToggleDate=!1,this.disableSaveButton=!1,this.SAVE_REFERRAL_ORDER=1,this.authentication=t.getAuthentication(),this.planManagementApiService.setUrl(this.apiService.getUrl()),this.planManagementApiService.setToken(this.authentication.token),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo();const c=this.loginService.getConfigAndDefaults();this.defaultOptions=c.referral["m-patient-referral"]["default-options"];const d=this.patientService.getSelectedPatientBriefInformation();console.log(this.defaultOptions);const b=this.defaultOptions["refer-types"],g=[];Object.keys(b).forEach(l=>{g.push({id:l,desc:b[l]})}),this.types=g,console.log("this.patient",d),this.departments=this.defaultOptions["refer-department"].filter(l=>{switch(d.current_dept_encounter.deptenc_code){case"ope":case"phs":return 1==l.admit_outpatient;default:return 1==l.admit_inpatient}}),console.log("this.departments",this.departments),this.reasons=this.defaultOptions["refer-reason"]}ionViewWillEnter(){console.log("ionViewWillEnter"),window.addEventListener("native.keyboardshow",this.keyboardShowHandler),window.addEventListener("native.keyboardhide",this.keyboardHideHandler)}ionViewWillLeave(){console.log("ionViewWillLeave"),window.removeEventListener("native.keyboardshow",this.keyboardShowHandler),window.removeEventListener("native.keyboardhide",this.keyboardHideHandler),this.removeIonAppStyles()}ngOnInit(){const l=this.route.snapshot.paramMap.get("action");if(l)if("edit"===l){const l=this.route.snapshot.paramMap.get("order");if(console.log(l),l){const n=JSON.parse(l);console.log(n),this.id=n.id;const e=this.types.find(l=>n.referral_type===l.id);this.type=e.id;const t=this.departments.find(l=>"string"==typeof n.department?n.department===l.id.toString():n.department===l.id);this.department=t,console.log("dept: ",t);const a=this.reasons.find(l=>"string"==typeof n.reason?n.reason===l.id.toString():n.reason===l.id);this.reason=a,console.log("rea: ",a);const i=n.referral_check;this.dateToggle="boolean"==typeof i?i:"number"==typeof i?1===i:"string"==typeof i&&"1"===i,this.id=n.id,this.dateChecked=this.dateToggle,this.disableDate=this.dateToggle,this.disableTime=this.dateToggle,this.date=b.unix(n.order_date).format(),this.time=n.referral_time}}else"view"===l&&this.disableElement()}onDepartmentChange(l){console.log("onDepartmentChange:",l)}onReasonChange(l){console.log("onReasonChange:",l)}disableElement(){}backToPlanManagement(){console.log("back"),this.navCtrl.pop()}currentDateToggleClick(){this.dateChecked=!this.dateChecked,this.dateChecked&&(this.dateTime=b().format(),this.date=this.dateTime,this.time=this.dateTime),this.disableDate=this.dateChecked,this.disableTime=this.dateChecked}saveReferralOrder(l){console.log(l),this.openPromptModal(this.SAVE_REFERRAL_ORDER,{},"Referral","Would you like to save your changes?")}saveReferralOrderFunction(){let l;if(this.dateChecked)this.dateTime||(this.dateTime=b().format()),l=new Date(this.dateTime);else{const n=new Date(this.date),e=b(n).format("YYYY-MM-DD");console.log("dateObject: ",n),console.log("tempDate: ",e);let t=this.time;try{const l=Date.parse(t);if(!1===isNaN(l)){const n=new Date(l);t=b(n).format("HH:mm")}}catch(a){}console.log("tempTime: ",t),l=new Date(e+" "+t)}console.log("dateTimeObject: ",l);const n=b(l).unix(),e=b(l).format("HH:mm");console.log("order_date formatted: ",b.unix(n).format()),console.log("order_time formatted: ",e);const t={encounter_no:this.selectedEncounterNo,id:this.id,referral_type:this.type,department:this.department.id,reason:this.reason.id,referral_date:n,referral_time:e,referral_check:this.dateChecked?1:0};this.loadingService.present(),this.planManagementApiService.saveReferral(t).subscribe(l=>{console.log(l),this.loadingService.dismiss().then(n=>{if(l&&200===l.code){const n=l.data.batch;this.planManagementDataService.setUnfinalizedBatch(n),console.log("batch: ",n),this.openAlertModal("success","Success",l.message)}else this.openAlertModal("fail","Failed",l.message,"Ok")})},l=>{console.log("err ",l),this.loadingService.dismiss().then(n=>{const e=this.stringUtilsService.parseErrorMessage(l);this.openAlertModal("fail","Failed",e,"Ok")})})}openPromptModal(l,n,e,t,a="Save",i="Cancel"){this.alertServ.openPromptModal(e,t,a,n=>{null!==n&&(console.log("result.data: ",n.data),n.data&&"Save"===n.data.button&&l===this.SAVE_REFERRAL_ORDER&&this.saveReferralOrderFunction())})}openAlertModal(l,n,e,t="Done"){this.alertServ.openAlertModal(l,n,e,t,n=>{null!==n&&(console.log("result.data: ",n.data),"success"===l&&"Done"===n.data.button&&this.backToPlanManagement())})}tapCoordinates(l){this.y=l.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log("offset: ",this.offsetY)}keyboardShowHandler(l){const n=l.keyboardHeight;console.log("show: ",l.keyboardHeight);const e=document.querySelector("ion-app").style;e.bottom=n+"px",console.log(e.bottom)}keyboardHideHandler(){console.log("gone"),document.querySelector("ion-app").removeAttribute("style")}removeIonAppStyles(){document.querySelector("ion-app").removeAttribute("style")}}class h{}var m=e("pMnS"),C=e("ekNO"),P=e("oBZk"),f=e("SVse"),v=e("s7LF"),_=e("qyy+"),M=e("iInd"),D=t.Bb({encapsulation:0,styles:[["ion-title[_ngcontent-%COMP%]{text-align:center;color:#0096c6;font-size:1em;margin-right:10vw}.back[_ngcontent-%COMP%]{margin-left:2vw}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::placeholder{color:#c8c8c8;font-style:italic}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-top:20px;padding:10px;margin-left:10px;margin-right:10px;text-align:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]{margin-bottom:2vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{margin-top:1vh;margin-bottom:3.5vh;display:block;position:relative}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{zoom:.8}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border-radius:10px;background:#fff;--padding-end:2vw}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]{--inner-padding-end:0}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]   ionic-selectable[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding-left:10px;padding-right:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .smallTextarea[_ngcontent-%COMP%]{height:5vh;width:100%;padding-left:3vw;padding-right:3vw;margin-top:1vh;border-radius:5px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{color:#949494}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   .redLabel[_ngcontent-%COMP%]{color:#ff5757}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .inputSection[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}"]],data:{}});function y(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(l()(),t.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function T(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,2,"ion-select-option",[],null,null,null,P.Sb,P.R)),t.Cb(1,49152,null,0,a.pb,[t.j,t.p,t.G],{value:[0,"value"]},null),(l()(),t.Wb(2,0,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit.id)}),(function(l,n){l(n,2,0,n.context.$implicit.desc)}))}function O(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,11,"ion-header",[],null,null,null,P.tb,P.r)),t.Cb(1,49152,null,0,a.C,[t.j,t.p,t.G],null,null),(l()(),t.Db(2,0,null,0,9,"ion-toolbar",[],null,null,null,P.cc,P.ab)),t.Cb(3,49152,null,0,a.Db,[t.j,t.p,t.G],null,null),(l()(),t.Db(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,P.gb,P.e)),t.Cb(5,49152,null,0,a.m,[t.j,t.p,t.G],null,null),(l()(),t.Db(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,e){var a=!0;return"click"===n&&(a=!1!==t.Pb(l,8).onClick(e)&&a),a}),P.eb,P.c)),t.Cb(7,49152,null,0,a.h,[t.j,t.p,t.G],null,null),t.Cb(8,16384,null,0,a.i,[[2,a.jb],a.Kb],null,null),(l()(),t.Db(9,0,null,0,2,"ion-title",[],null,null,null,P.ac,P.Y)),t.Cb(10,49152,null,0,a.Bb,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Referral Order"])),(l()(),t.Db(12,0,null,null,129,"ion-content",[],null,null,null,P.mb,P.k)),t.Cb(13,49152,null,0,a.v,[t.j,t.p,t.G],null,null),(l()(),t.sb(16777216,null,0,1,null,y)),t.Cb(15,16384,null,0,f.l,[t.Y,t.U],{ngIf:[0,"ngIf"]},null),(l()(),t.Db(16,0,null,0,125,"div",[["class","wrapper"]],null,null,null,null,null)),(l()(),t.Db(17,0,null,null,124,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var a=!0,i=l.component;return"submit"===n&&(a=!1!==t.Pb(l,19).onSubmit(e)&&a),"reset"===n&&(a=!1!==t.Pb(l,19).onReset()&&a),"ngSubmit"===n&&(a=!1!==i.saveReferralOrder(t.Pb(l,19))&&a),a}),null,null)),t.Cb(18,16384,null,0,v.y,[],null,null),t.Cb(19,4210688,[["referral",4]],0,v.p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Tb(2048,null,v.b,null,[v.p]),t.Cb(21,16384,null,0,v.o,[[4,v.b]],null,null),(l()(),t.Db(22,0,null,null,12,"div",[["class","inputSection"]],null,null,null,null,null)),(l()(),t.Db(23,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,P.Eb,P.C)),t.Cb(24,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Referral Type"])),(l()(),t.Db(26,0,null,null,8,"ion-select",[["interface","popover"],["name","referral_type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var a=!0,i=l.component;return"ionBlur"===n&&(a=!1!==t.Pb(l,27)._handleBlurEvent(e.target)&&a),"ionChange"===n&&(a=!1!==t.Pb(l,27)._handleChangeEvent(e.target)&&a),"ngModelChange"===n&&(a=!1!==(i.type=e)&&a),a}),P.Tb,P.Q)),t.Cb(27,16384,null,0,a.Rb,[t.p],null,null),t.Tb(1024,null,v.l,(function(l){return[l]}),[a.Rb]),t.Cb(29,671744,null,0,v.q,[[2,v.b],[8,null],[8,null],[6,v.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,v.m,null,[v.q]),t.Cb(31,16384,null,0,v.n,[[4,v.m]],null,null),t.Cb(32,49152,null,0,a.ob,[t.j,t.p,t.G],{interface:[0,"interface"],name:[1,"name"]},null),(l()(),t.sb(16777216,null,0,1,null,T)),t.Cb(34,278528,null,0,f.k,[t.Y,t.U,t.y],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Db(35,0,null,null,25,"div",[["class","inputSection"]],null,null,null,null,null)),(l()(),t.Db(36,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,P.Eb,P.C)),t.Cb(37,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Refer this patient to"])),(l()(),t.Db(39,0,null,null,21,"ion-item",[["class","ion-no-padding selectable"],["lines","none"]],null,null,null,P.Db,P.w)),t.Cb(40,49152,null,0,a.I,[t.j,t.p,t.G],{lines:[0,"lines"]},null),(l()(),t.Db(41,0,null,0,19,"ionic-selectable",[["itemTextField","area_desc"],["itemValueField","id"],["name","referral_department"],["placeholder","Search Department"]],[[2,"ionic-selectable",null],[2,"ionic-selectable-ios",null],[2,"ionic-selectable-md",null],[2,"ionic-selectable-is-multiple",null],[2,"ionic-selectable-has-value",null],[2,"ionic-selectable-has-placeholder",null],[2,"ionic-selectable-has-label",null],[2,"ionic-selectable-label-default",null],[2,"ionic-selectable-label-fixed",null],[2,"ionic-selectable-label-stacked",null],[2,"ionic-selectable-label-floating",null],[2,"ionic-selectable-is-enabled",null],[2,"ionic-selectable-can-clear",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,a=l.component;return"ngModelChange"===n&&(t=!1!==(a.department=e)&&t),"onChange"===n&&(t=!1!==a.onDepartmentChange(e)&&t),t}),C.d,C.c)),t.Cb(42,376832,null,14,_.a,[a.Jb,a.Nb,[2,a.I],t.y,t.p,t.M],{items:[0,"items"],itemValueField:[1,"itemValueField"],itemTextField:[2,"itemTextField"],canSearch:[3,"canSearch"],placeholder:[4,"placeholder"],searchDebounce:[5,"searchDebounce"]},{onChange:"onChange"}),t.Ub(603979776,1,{valueTemplate:0}),t.Ub(603979776,2,{itemTemplate:0}),t.Ub(603979776,3,{itemEndTemplate:0}),t.Ub(603979776,4,{titleTemplate:0}),t.Ub(603979776,5,{placeholderTemplate:0}),t.Ub(603979776,6,{messageTemplate:0}),t.Ub(603979776,7,{groupTemplate:0}),t.Ub(603979776,8,{groupEndTemplate:0}),t.Ub(603979776,9,{closeButtonTemplate:0}),t.Ub(603979776,10,{searchFailTemplate:0}),t.Ub(603979776,11,{addItemTemplate:0}),t.Ub(603979776,12,{footerTemplate:0}),t.Ub(603979776,13,{headerTemplate:0}),t.Ub(603979776,14,{itemIconTemplate:0}),t.Tb(1024,null,v.l,(function(l){return[l]}),[_.a]),t.Cb(58,671744,null,0,v.q,[[2,v.b],[8,null],[8,null],[6,v.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,v.m,null,[v.q]),t.Cb(60,16384,null,0,v.n,[[4,v.m]],null,null),(l()(),t.Db(61,0,null,null,25,"div",[["class","inputSection"]],null,null,null,null,null)),(l()(),t.Db(62,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,P.Eb,P.C)),t.Cb(63,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Reason for Referral"])),(l()(),t.Db(65,0,null,null,21,"ion-item",[["class","ion-no-padding selectable"],["lines","none"]],null,null,null,P.Db,P.w)),t.Cb(66,49152,null,0,a.I,[t.j,t.p,t.G],{lines:[0,"lines"]},null),(l()(),t.Db(67,0,null,0,19,"ionic-selectable",[["itemTextField","purpose_desc"],["itemValueField","id"],["name","referral_reason"],["placeholder","Search Reason"]],[[2,"ionic-selectable",null],[2,"ionic-selectable-ios",null],[2,"ionic-selectable-md",null],[2,"ionic-selectable-is-multiple",null],[2,"ionic-selectable-has-value",null],[2,"ionic-selectable-has-placeholder",null],[2,"ionic-selectable-has-label",null],[2,"ionic-selectable-label-default",null],[2,"ionic-selectable-label-fixed",null],[2,"ionic-selectable-label-stacked",null],[2,"ionic-selectable-label-floating",null],[2,"ionic-selectable-is-enabled",null],[2,"ionic-selectable-can-clear",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,a=l.component;return"ngModelChange"===n&&(t=!1!==(a.reason=e)&&t),"onChange"===n&&(t=!1!==a.onReasonChange(e)&&t),t}),C.d,C.c)),t.Cb(68,376832,null,14,_.a,[a.Jb,a.Nb,[2,a.I],t.y,t.p,t.M],{items:[0,"items"],itemValueField:[1,"itemValueField"],itemTextField:[2,"itemTextField"],canSearch:[3,"canSearch"],placeholder:[4,"placeholder"],searchDebounce:[5,"searchDebounce"]},{onChange:"onChange"}),t.Ub(603979776,15,{valueTemplate:0}),t.Ub(603979776,16,{itemTemplate:0}),t.Ub(603979776,17,{itemEndTemplate:0}),t.Ub(603979776,18,{titleTemplate:0}),t.Ub(603979776,19,{placeholderTemplate:0}),t.Ub(603979776,20,{messageTemplate:0}),t.Ub(603979776,21,{groupTemplate:0}),t.Ub(603979776,22,{groupEndTemplate:0}),t.Ub(603979776,23,{closeButtonTemplate:0}),t.Ub(603979776,24,{searchFailTemplate:0}),t.Ub(603979776,25,{addItemTemplate:0}),t.Ub(603979776,26,{footerTemplate:0}),t.Ub(603979776,27,{headerTemplate:0}),t.Ub(603979776,28,{itemIconTemplate:0}),t.Tb(1024,null,v.l,(function(l){return[l]}),[_.a]),t.Cb(84,671744,null,0,v.q,[[2,v.b],[8,null],[8,null],[6,v.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,v.m,null,[v.q]),t.Cb(86,16384,null,0,v.n,[[4,v.m]],null,null),(l()(),t.Db(87,0,null,null,11,"div",[["class","inputSection"]],null,null,null,null,null)),(l()(),t.Db(88,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,P.Eb,P.C)),t.Cb(89,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Current Date(Now)"])),(l()(),t.Db(91,0,null,null,7,"div",[["class","toggle"]],null,null,null,null,null)),(l()(),t.Db(92,0,null,null,6,"ion-toggle",[["class","toggle-long"],["mode","ios"],["name","date_toggle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var a=!0,i=l.component;return"ionBlur"===n&&(a=!1!==t.Pb(l,93)._handleBlurEvent(e.target)&&a),"ionChange"===n&&(a=!1!==t.Pb(l,93)._handleIonChange(e.target)&&a),"ngModelChange"===n&&(a=!1!==(i.dateToggle=e)&&a),"click"===n&&(a=!1!==i.currentDateToggleClick()&&a),a}),P.bc,P.Z)),t.Cb(93,16384,null,0,a.c,[t.p],null,null),t.Tb(1024,null,v.l,(function(l){return[l]}),[a.c]),t.Cb(95,671744,null,0,v.q,[[2,v.b],[8,null],[8,null],[6,v.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,v.m,null,[v.q]),t.Cb(97,16384,null,0,v.n,[[4,v.m]],null,null),t.Cb(98,49152,null,0,a.Cb,[t.j,t.p,t.G],{disabled:[0,"disabled"],mode:[1,"mode"],name:[2,"name"]},null),(l()(),t.Db(99,0,null,null,38,"div",[["class","inputSection"]],null,null,null,null,null)),(l()(),t.Db(100,0,null,null,37,"ion-grid",[],null,null,null,P.sb,P.q)),t.Cb(101,49152,null,0,a.B,[t.j,t.p,t.G],null,null),(l()(),t.Db(102,0,null,0,11,"ion-row",[],null,null,null,P.Ob,P.M)),t.Cb(103,49152,null,0,a.kb,[t.j,t.p,t.G],null,null),(l()(),t.Db(104,0,null,0,4,"ion-col",[["size","6"]],null,null,null,P.lb,P.j)),t.Cb(105,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(l()(),t.Db(106,0,null,0,2,"ion-label",[["class","redLabel"]],null,null,null,P.Eb,P.C)),t.Cb(107,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Select Date*"])),(l()(),t.Db(109,0,null,0,4,"ion-col",[["size","6"]],null,null,null,P.lb,P.j)),t.Cb(110,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(l()(),t.Db(111,0,null,0,2,"ion-label",[["class","redLabel"]],null,null,null,P.Eb,P.C)),t.Cb(112,49152,null,0,a.O,[t.j,t.p,t.G],null,null),(l()(),t.Wb(-1,0,["Time*"])),(l()(),t.Db(114,0,null,0,23,"ion-row",[],null,null,null,P.Ob,P.M)),t.Cb(115,49152,null,0,a.kb,[t.j,t.p,t.G],null,null),(l()(),t.Db(116,0,null,0,10,"ion-col",[["size","6"]],null,null,null,P.lb,P.j)),t.Cb(117,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(l()(),t.Db(118,0,null,0,8,"ion-datetime",[["displayFormat","DD-MMMM-YYYY"],["name","referral_order_date"],["required",""],["value","13-June-2019"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var a=!0,i=l.component;return"ionBlur"===n&&(a=!1!==t.Pb(l,121)._handleBlurEvent(e.target)&&a),"ionChange"===n&&(a=!1!==t.Pb(l,121)._handleChangeEvent(e.target)&&a),"ngModelChange"===n&&(a=!1!==(i.date=e)&&a),a}),P.nb,P.l)),t.Cb(119,16384,null,0,v.t,[],{required:[0,"required"]},null),t.Tb(1024,null,v.k,(function(l){return[l]}),[v.t]),t.Cb(121,16384,null,0,a.Rb,[t.p],null,null),t.Tb(1024,null,v.l,(function(l){return[l]}),[a.Rb]),t.Cb(123,671744,null,0,v.q,[[2,v.b],[6,v.k],[8,null],[6,v.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,v.m,null,[v.q]),t.Cb(125,16384,null,0,v.n,[[4,v.m]],null,null),t.Cb(126,49152,null,0,a.w,[t.j,t.p,t.G],{disabled:[0,"disabled"],displayFormat:[1,"displayFormat"],name:[2,"name"],value:[3,"value"]},null),(l()(),t.Db(127,0,null,0,10,"ion-col",[["size","6"]],null,null,null,P.lb,P.j)),t.Cb(128,49152,null,0,a.u,[t.j,t.p,t.G],{size:[0,"size"]},null),(l()(),t.Db(129,0,null,0,8,"ion-datetime",[["displayFormat","hh:mm A"],["name","referral_order_time"],["required",""],["value","02:47 PM"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var a=!0,i=l.component;return"ionBlur"===n&&(a=!1!==t.Pb(l,132)._handleBlurEvent(e.target)&&a),"ionChange"===n&&(a=!1!==t.Pb(l,132)._handleChangeEvent(e.target)&&a),"ngModelChange"===n&&(a=!1!==(i.time=e)&&a),a}),P.nb,P.l)),t.Cb(130,16384,null,0,v.t,[],{required:[0,"required"]},null),t.Tb(1024,null,v.k,(function(l){return[l]}),[v.t]),t.Cb(132,16384,null,0,a.Rb,[t.p],null,null),t.Tb(1024,null,v.l,(function(l){return[l]}),[a.Rb]),t.Cb(134,671744,null,0,v.q,[[2,v.b],[6,v.k],[8,null],[6,v.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,v.m,null,[v.q]),t.Cb(136,16384,null,0,v.n,[[4,v.m]],null,null),t.Cb(137,49152,null,0,a.w,[t.j,t.p,t.G],{disabled:[0,"disabled"],displayFormat:[1,"displayFormat"],name:[2,"name"],value:[3,"value"]},null),(l()(),t.Db(138,0,null,null,3,"div",[["class","ion-padding"]],null,null,null,null,null)),(l()(),t.Db(139,0,null,null,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,P.fb,P.d)),t.Cb(140,49152,null,0,a.l,[t.j,t.p,t.G],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),t.Wb(-1,0,["Save"]))],(function(l,n){var e=n.component;l(n,15,0,e.loginService.inTestServer),l(n,29,0,"referral_type",e.type),l(n,32,0,"popover","referral_type"),l(n,34,0,e.types),l(n,40,0,"none"),l(n,42,0,e.departments,"id","area_desc",!0,"Search Department",500),l(n,58,0,"referral_department",e.department),l(n,66,0,"none"),l(n,68,0,e.reasons,"id","purpose_desc",!0,"Search Reason",500),l(n,84,0,"referral_reason",e.reason),l(n,95,0,"date_toggle",e.disableToggleDate,e.dateToggle),l(n,98,0,e.disableToggleDate,"ios","date_toggle"),l(n,105,0,"6"),l(n,110,0,"6"),l(n,117,0,"6"),l(n,119,0,""),l(n,123,0,"referral_order_date",e.disableDate,e.date),l(n,126,0,e.disableDate,"DD-MMMM-YYYY","referral_order_date","13-June-2019"),l(n,128,0,"6"),l(n,130,0,""),l(n,134,0,"referral_order_time",e.disableTime,e.time),l(n,137,0,e.disableTime,"hh:mm A","referral_order_time","02:47 PM"),l(n,140,0,t.Pb(n,19).invalid||e.disableSaveButton,"block","submit")}),(function(l,n){l(n,17,0,t.Pb(n,21).ngClassUntouched,t.Pb(n,21).ngClassTouched,t.Pb(n,21).ngClassPristine,t.Pb(n,21).ngClassDirty,t.Pb(n,21).ngClassValid,t.Pb(n,21).ngClassInvalid,t.Pb(n,21).ngClassPending),l(n,26,0,t.Pb(n,31).ngClassUntouched,t.Pb(n,31).ngClassTouched,t.Pb(n,31).ngClassPristine,t.Pb(n,31).ngClassDirty,t.Pb(n,31).ngClassValid,t.Pb(n,31).ngClassInvalid,t.Pb(n,31).ngClassPending),l(n,41,1,[t.Pb(n,42)._cssClass,t.Pb(n,42)._isIos,t.Pb(n,42)._isMD,t.Pb(n,42)._isMultipleCssClass,t.Pb(n,42)._hasValueCssClass,t.Pb(n,42)._hasPlaceholderCssClass,t.Pb(n,42)._hasIonLabelCssClass,t.Pb(n,42)._hasDefaultIonLabelCssClass,t.Pb(n,42)._hasFixedIonLabelCssClass,t.Pb(n,42)._hasStackedIonLabelCssClass,t.Pb(n,42)._hasFloatingIonLabelCssClass,t.Pb(n,42).isEnabled,t.Pb(n,42).canClear,t.Pb(n,60).ngClassUntouched,t.Pb(n,60).ngClassTouched,t.Pb(n,60).ngClassPristine,t.Pb(n,60).ngClassDirty,t.Pb(n,60).ngClassValid,t.Pb(n,60).ngClassInvalid,t.Pb(n,60).ngClassPending]),l(n,67,1,[t.Pb(n,68)._cssClass,t.Pb(n,68)._isIos,t.Pb(n,68)._isMD,t.Pb(n,68)._isMultipleCssClass,t.Pb(n,68)._hasValueCssClass,t.Pb(n,68)._hasPlaceholderCssClass,t.Pb(n,68)._hasIonLabelCssClass,t.Pb(n,68)._hasDefaultIonLabelCssClass,t.Pb(n,68)._hasFixedIonLabelCssClass,t.Pb(n,68)._hasStackedIonLabelCssClass,t.Pb(n,68)._hasFloatingIonLabelCssClass,t.Pb(n,68).isEnabled,t.Pb(n,68).canClear,t.Pb(n,86).ngClassUntouched,t.Pb(n,86).ngClassTouched,t.Pb(n,86).ngClassPristine,t.Pb(n,86).ngClassDirty,t.Pb(n,86).ngClassValid,t.Pb(n,86).ngClassInvalid,t.Pb(n,86).ngClassPending]),l(n,92,0,t.Pb(n,97).ngClassUntouched,t.Pb(n,97).ngClassTouched,t.Pb(n,97).ngClassPristine,t.Pb(n,97).ngClassDirty,t.Pb(n,97).ngClassValid,t.Pb(n,97).ngClassInvalid,t.Pb(n,97).ngClassPending),l(n,118,0,t.Pb(n,119).required?"":null,t.Pb(n,125).ngClassUntouched,t.Pb(n,125).ngClassTouched,t.Pb(n,125).ngClassPristine,t.Pb(n,125).ngClassDirty,t.Pb(n,125).ngClassValid,t.Pb(n,125).ngClassInvalid,t.Pb(n,125).ngClassPending),l(n,129,0,t.Pb(n,130).required?"":null,t.Pb(n,136).ngClassUntouched,t.Pb(n,136).ngClassTouched,t.Pb(n,136).ngClassPristine,t.Pb(n,136).ngClassDirty,t.Pb(n,136).ngClassValid,t.Pb(n,136).ngClassInvalid,t.Pb(n,136).ngClassPending)}))}function S(l){return t.Yb(0,[(l()(),t.Db(0,0,null,null,1,"app-referral-order",[],null,null,null,O,D)),t.Cb(1,114688,null,0,p,[a.Kb,o.a,c.a,i.a,g.a,s.a,d.a,r.a,u.a,M.a],null,null)],(function(l,n){l(n,1,0)}),null)}var k=t.zb("app-referral-order",p,S,{},{},[]),w=e("A2Kn");e.d(n,"ReferralOrderPageModuleNgFactory",(function(){return E}));var E=t.Ab(h,[],(function(l){return t.Mb([t.Nb(512,t.m,t.lb,[[8,[m.a,C.a,C.b,k]],[3,t.m],t.E]),t.Nb(4608,f.n,f.m,[t.A,[2,f.C]]),t.Nb(4608,v.w,v.w,[]),t.Nb(4608,a.b,a.b,[t.G,t.g]),t.Nb(4608,a.Jb,a.Jb,[a.b,t.m,t.w]),t.Nb(4608,a.Ob,a.Ob,[a.b,t.m,t.w]),t.Nb(1073742336,f.c,f.c,[]),t.Nb(1073742336,v.v,v.v,[]),t.Nb(1073742336,v.i,v.i,[]),t.Nb(1073742336,a.Fb,a.Fb,[]),t.Nb(1073742336,M.q,M.q,[[2,M.v],[2,M.m]]),t.Nb(1073742336,w.a,w.a,[]),t.Nb(1073742336,h,h,[]),t.Nb(1024,M.k,(function(){return[[{path:"",component:p}]]}),[])])}))},VM0z:function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var t=e("mrSG"),a=e("ZZ/e"),i=e("Hfim"),o=e("8Y7J");let s=(()=>{class l{constructor(l,n,e){this.toastCtrl=l,this.modalController=n,this.alertController=e}alertToast(l){return t.b(this,void 0,void 0,(function*(){console.log("AlertToast Message:",l),(yield this.toastCtrl.create({message:l,duration:8e3})).present()}))}openAlertModalValidation(l,n,e,a,o="Done",s=(l=>{})){return t.b(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:i.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:l,title:n,message:e,messageArray:a,ok:o}});return t.onDidDismiss().then(l=>{s(l)}),yield t.present()}))}openPromptModal(l,n,e="Save",a=(l=>{}),o="Cancel",s=(l=>{})){return t.b(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{prompt,title:l,message:n,cancel:o,ok:e}});return t.onDidDismiss().then(l=>{a(l),s(l)}),yield t.present()}))}openAlertModal(l,n,e,a="Done",o=(l=>{})){return t.b(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{alert:l,title:n,message:e,ok:a}});return t.onDidDismiss().then(l=>{o(l)}),yield t.present()}))}prompNAlert(l="",n="",e="",a=[],i=[],o=!0,s=!0){return t.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:l,subHeader:n,message:e,backdropDismiss:o,keyboardClose:s,inputs:a,buttons:i}).then(l=>{this.nativeAlert.present()})}))}prompInputNAlert(l="",n="",e="",a=!0,i=!0,o=[],s=[],u=(()=>{}),r=(()=>{})){return t.b(this,void 0,void 0,(function*(){0==s.length&&(s=[{text:"OK",handler:l=>{u()}},{text:"Cancel",handler:l=>{r()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:a,keyboardClose:i,message:"",inputs:o,buttons:s}).then(l=>{this.nativeAlert.present()})}))}}return l.ngInjectableDef=o.bc({factory:function(){return new l(o.cc(a.Tb),o.cc(a.Jb),o.cc(a.a))},token:l,providedIn:"root"}),l})()}}]);