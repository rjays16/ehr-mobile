function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{LDXv:function(e,n,i){"use strict";var t,r=i("8Y7J"),l=((t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"compare",value:function(e,n){var i={};return e.forEach((function(e){return n.forEach((function(n){e.id===n.id&&(i[e.id]=i[e.id]+1||1)}))})),Object.keys(i)}}]),e}()).ngInjectableDef=r.bc({factory:function(){return new t},token:t,providedIn:"root"}),t);i.d(n,"a",(function(){return a}));var o,a=((o=function(){function e(n){_classCallCheck(this,e),this.arrayComparatorService=n,this.throwsErrorCode=5011,this.perms={allPermission:"_a_0_all",manageEhr:"_a_1_ehr_sudomanage",viewAllDept:"_a_2_ehr_view_all_dept",viewOwnDept:"_a_3_ehr_view_own_dept",editAllDept:"_a_2_ehr_edit_all_dept",editOwnDept:"_a_3_ehr_edit_own_dept",overideInct:"_a_2_ehr_override_my_patient",overideInctSoap:"_a_3_ehr_soap",overideInctSoapDiag:"_a_2_ehr_override_final_dx",overideInctSoapDiag2:"_a_4_ehr_override_final_dx",overideInctPastMed:"_a_3_ehr_past_medical_history",overideInctPsigns:"_a_3_ehr_pertinent_signs_and_symptoms",overideInctHciRef:"_a_3_ehr_referred_hci",overideInctPhysExam:"_a_3_ehr_physical_examination",overideInctMedicat:"_a_3_ehr_medication",overideInctPlanMan:"_a_3_ehr_plan_management",overideInctEndCare:"_a_3_ehr_end_of_care"},this.portlets={soap:"soap",soapDiag:"soapDiag",pastMed:"pastMed",pSigns:"pSings",refHci:"refHci",physExam:"physExam",medict:"medict",planMan:"planMan",endCare:"endCare"}}return _createClass(e,[{key:"setAuthentication",value:function(e){this.authentication=e}},{key:"setSelectedPatient",value:function(e){this.selectedPatient=e}},{key:"validateRole",value:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log("user roleName: ",this.roleName);var r=e.role_name,l=e["other-permissions"],o=!1;if(this.authentication.user.permissions.map((function(n){"all"===e[0]?o="_a_0_all"===n.permission_id:"sudomanage"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id:"view_all_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_view_all_dept"===n.permission_id:"view_own_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_view_all_dept"===n.permission_id||"_a_3_ehr_view_own_dept"===n.permission_id:"edit_all_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_edit_all_dept"===n.permission_id:"edit_own_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_edit_all_dept"===n.permission_id||"_a_3_ehr_edit_own_dept"===n.permission_id:"override_my_patient"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id:"soap"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_soap"===n.permission_id:"override_final_dx"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_4_ehr_override_final_dx"===n.permission_id||"_a_3_ehr_soap"===n.permission_id:"past_medical_history"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_past_medical_history"===n.permission_id:"pertinent_signs_and_symptoms"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_pertinent_signs_and_symptoms"===n.permission_id:"referred_hci"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_referred_hci"===n.permission_id:"physical_examination"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_physical_examination"===n.permission_id:"medication"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_medication"===n.permission_id:"plan_managem"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_plan_management"===n.permission_id:"end_of_care"===e[0]&&(o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_end_of_care"===n.permission_id)})),t)return o;console.log("roleNames: ",r);var a=!0;if(Array.isArray(r)&&r.length>0){var s=r.findIndex((function(e){return console.log("element: ",e," this.roleName: ",n.roleName),-1!=n.roleName.toUpperCase().indexOf(e.toUpperCase())}));console.log("index: ",s),a=s>=0}console.log("validRole: ",a);var u=!1;return Array.isArray(l)&&l.length>0&&(u=this.arrayComparatorService.compare(l,this.permissions).length>0),console.log("validOtherPermission: ",u),!i||(console.log("selectedPatient: ",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log("is_discharged"),u)}},{key:"hasAllPermission",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.allPermission}))}},{key:"hasManageEhr",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.manageEhr}))}},{key:"hasEdit",value:function(){var e=this;return!!this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.editAllDept}))||this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.editOwnDept}))&&this.selectedPatient.isInMyDept}},{key:"hasView",value:function(){var e=this;return!!this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.viewAllDept}))||this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.viewOwnDept}))&&this.selectedPatient.isInMyDept}},{key:"hasHigherPermission",value:function(){return this.hasAllPermission()||this.hasManageEhr()}},{key:"hasOverInct",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.overideInct}))}},{key:"hasDischPerm",value:function(e){var n=this;if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(e){case this.portlets.soap:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctSoap}));case this.portlets.soapDiag:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctSoapDiag||e.permission_id==n.perms.overideInctSoapDiag2}));case this.portlets.pastMed:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPastMed}));case this.portlets.pSigns:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPsigns}));case this.portlets.refHci:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctHciRef}));case this.portlets.physExam:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPhysExam}));case this.portlets.medict:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctMedicat}));case this.portlets.planMan:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPlanMan}));case this.portlets.endCare:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctEndCare}))}return!1}},{key:"isDischarged",value:function(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}},{key:"hasSoapEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}},{key:"hasSoapDiagEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}},{key:"hasSoapView",value:function(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}},{key:"hasPastMedEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}},{key:"hasPastView",value:function(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}},{key:"hasPSignsEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}},{key:"hasPSingsView",value:function(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}},{key:"hasVitalSignsView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasRefHciEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}},{key:"hasRefHciView",value:function(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}},{key:"hasPhysExamEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}},{key:"hasPhysExamView",value:function(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}},{key:"hasResultView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasDrugsMedsEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}},{key:"hasDrugsMedsView",value:function(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}},{key:"hasEncHistView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasReferalsView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasEndCareEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}},{key:"hasEndCareView",value:function(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}},{key:"hasPlanManEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}},{key:"hasPlanManView",value:function(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}]),e}()).ngInjectableDef=r.bc({factory:function(){return new o(r.cc(l))},token:o,providedIn:"root"}),o)},VM0z:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("mrSG"),r=i("ZZ/e"),l=i("Hfim"),o=i("ucGT"),a=i("8Y7J"),s=function(){var e=function(){function e(n,i,t){_classCallCheck(this,e),this.toastCtrl=n,this.modalController=i,this.alertController=t}return _createClass(e,[{key:"alertToast",value:function(e){return t.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("AlertToast Message:",e),n.next=3,this.toastCtrl.create({message:e,duration:8e3});case 3:(i=n.sent).onclick=function(e){i.dismiss()},i.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"openAlertModalValidation",value:function(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Done",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:l.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:e,title:n,message:i,messageArray:r,ok:o}});case 2:return(s=t.sent).onDidDismiss().then((function(e){a(e)})),t.next=6,s.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openSearchModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Enter here...",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{searchData:{isForSearch:!0,libs:e,searchQuery:n,maxLength:r,placeholder:i}}});case 2:return(a=t.sent).onDidDismiss().then((function(e){l(e)})),t.next=6,a.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openPromptModal",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Cancel",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:l.a,cssClass:"my-custom-modal-css",componentProps:{prompt:prompt,title:e,message:n,cancel:o,ok:i}});case 2:return(s=t.sent).onDidDismiss().then((function(e){r(e),a(e)})),t.next=6,s.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openAlertModal",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:l.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:n,message:i,ok:r}});case 2:return(a=t.sent).onDidDismiss().then((function(e){o(e)})),t.next=6,a.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"prompNAlert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.nativeAlert=this.alertController.create({header:e,subHeader:n,message:i,backdropDismiss:o,keyboardClose:a,inputs:r,buttons:l}).then((function(e){s.nativeAlert.present()}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"prompInputNAlert",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){};return t.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0==r.length&&(r=[{text:"OK",handler:function(e){l()}},{text:"Cancel",handler:function(e){o()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:e,keyboardClose:n,message:"",inputs:i,buttons:r}).then((function(e){a.nativeAlert.present()}));case 1:case"end":return t.stop()}}),t,this)})))}}]),e}();return e.ngInjectableDef=a.bc({factory:function(){return new e(a.cc(r.Tb),a.cc(r.Jb),a.cc(r.a))},token:e,providedIn:"root"}),e}()},dfvY:function(e,n,i){"use strict";i.r(n);var t,r=i("8Y7J"),l=i("7wfR"),o=i("tS1D"),a=i("lJxs"),s=i("JIr8"),u=i("Cfvw"),c=i("z6cu"),h=i("IheW"),d=i("ZZ/e"),p=i("yp2w"),m=((t=function(){function e(n,i,t){_classCallCheck(this,e),this.platform=n,this.httpClient=i,this.http=t,this.url="http://localhost:3000",this.getHciReferralPath="/api/doctor/patient/reffromother/hci/data",this.saveHciReferralPath="/api/doctor/patient/reffromother/hci/data/save"}return _createClass(e,[{key:"setUrl",value:function(e){this.url=e}},{key:"setToken",value:function(e){this.token=e}},{key:"saveHciReferral",value:function(e){var n=e.encounter_no;if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var i={reason:e.reason,hci_name:e.hci_name,isHCI:e.isHCI},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(u.a)(this.http.post(this.url+this.saveHciReferralPath+"?id="+n,i,t)).pipe(Object(o.a)(3e4),Object(a.a)((function(e){var n=JSON.parse(e.data);return console.log("HCI Referral: ",n),n})),Object(s.a)((function(e,n){if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(i){}return console.log("HCI Referral error: ",e,n),Object(c.a)(e)})))}var r=new FormData;r.append("reason",e.reason),r.append("hci_name",e.hci_name),r.append("isHCI",e.isHCI);var l={params:(new h.h).set("id",n),headers:new h.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return this.httpClient.post(this.url+this.saveHciReferralPath,r,l).pipe(Object(o.a)(3e4),Object(a.a)((function(e){return console.log(e),e})),Object(s.a)((function(e,n){return console.log(n),console.error(e),Object(c.a)(e)})))}},{key:"getHciReferral",value:function(e){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var n={id:e},i={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token};return Object(u.a)(this.http.get(this.url+this.getHciReferralPath,n,i)).pipe(Object(o.a)(3e4),Object(a.a)((function(e){var n=JSON.parse(e.data);return console.log("HCI Referral: ",n),n})),Object(s.a)((function(e,n){if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(i){}return console.log("HCI Referral error: ",e,n),Object(c.a)(e)})))}console.log("browser");var t={params:(new h.h).set("id",e),headers:new h.g({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",t),this.httpClient.get(this.url+this.getHciReferralPath,t).pipe(Object(o.a)(3e4),Object(a.a)((function(e){return console.log("HCI Referral: ",e),e})),Object(s.a)((function(e,n){return console.log("HCI Referral error: ",e,n),Object(c.a)(e)})))}}]),e}()).ngInjectableDef=r.bc({factory:function(){return new t(r.cc(d.Nb),r.cc(h.c),r.cc(p.a))},token:t,providedIn:"root"}),t),_=i("7ch9"),f=i("H+bZ"),g=i("Pasx"),v=i("LDXv"),b=i("EFyh"),C=i("VM0z"),y=i("s7LF"),P=function(){function e(n,i,t,r,l,o,a,s,u,c){_classCallCheck(this,e),this.hciReferralApiService=n,this.patientService=i,this.loadingService=t,this.loginService=r,this.alertServ=l,this.stringUtilsService=o,this.formBuilder=a,this.permissionValidatorService=s,this.apiService=u,this.menuController=c,this.hciReason="",this.nameOfOriginatingHCI="",this.isReferredFromAnotherHCI=!1,this.refFromOtherHciSave=!0,this.refFromOtherHciView=!0,this.allowEdit=!0,this.refered_modified={modified_by:null,modified_dt:null},this.SAVE_HCI_REFERRAL=1,this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.authentication=this.loginService.getAuthentication(),this.hciReferralApiService.setUrl(this.apiService.getUrl()),this.hciReferralApiService.setToken(this.authentication.token),this.refFromHciConfigAndDefaults=this.loginService.getConfigAndDefaults().ref_from_hci,console.log(this.refFromHciConfigAndDefaults),console.log(this.refFromHciConfigAndDefaults[" m-patient-reffromotherhci"]),console.log(this.refFromHciConfigAndDefaults[" m-patient-reffromotherhci"]["reffromotherhci-save"])}return _createClass(e,[{key:"initializeUserInterfaceByRole",value:function(){var e=this.refFromHciConfigAndDefaults[" m-patient-reffromotherhci"];e=e?e["reffromotherhci-save"]:this.refFromHciConfigAndDefaults["m-patient-reffromotherhci"]["reffromotherhci-save"],this.refFromOtherHciSave=this.permissionValidatorService.hasRefHciEdit(),console.log("refFromOtherHciSave: ",this.refFromOtherHciSave)}},{key:"getFormRules",value:function(){var e={hciReason:["",y.u.compose([y.u.required,y.u.maxLength(2e3)])],nameOfOriginatingHCI:["",y.u.compose([y.u.required,y.u.maxLength(2e3)])]};return console.error("form rules",e),e}},{key:"initFormRules",value:function(){this.form=this.formBuilder.group(this.getFormRules()),this.isReferredFromAnotherHCI?(this.form.get("hciReason").setValue(this.hciReason),this.form.get("nameOfOriginatingHCI").setValue(this.nameOfOriginatingHCI)):(this.form.removeControl("hciReason"),this.form.removeControl("nameOfOriginatingHCI")),console.error("this.form",this.form)}},{key:"ngOnInit",value:function(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initializeUserInterfaceByRole(),this.getHciReferral(),console.error("after getHciReferral, before initFormRules()"),this.isReferredFromAnotherHCI=!0,this.initFormRules()}},{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter");var e=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==e&&(console.log("selected patient changed"),this.selectedEncounterNo=e,this.initializeUserInterfaceByRole(),this.getHciReferral()),window.addEventListener("native.keyboardshow",this.keyboardShowHandler),window.addEventListener("native.keyboardhide",this.keyboardHideHandler)}},{key:"ionViewWillLeave",value:function(){console.log("ionViewWillLeave"),window.removeEventListener("native.keyboardshow",this.keyboardShowHandler),window.removeEventListener("native.keyboardhide",this.keyboardHideHandler),this.removeIonAppStyles()}},{key:"onAddHciReferral",value:function(){this.openPromptModal(this.SAVE_HCI_REFERRAL,null,"HCI Referral","Would you like to save your changes?")}},{key:"onAddHciReferralFunction",value:function(){var e=this;this.form.get("hciReason");var n={encounter_no:this.selectedEncounterNo,reason:this.form.get("hciReason")?this.form.get("hciReason").value:"",hci_name:this.form.get("nameOfOriginatingHCI")?this.form.get("nameOfOriginatingHCI").value:"",isHCI:this.isReferredFromAnotherHCI?1:0};console.log(n),this.loadingService.present(),this.hciReferralApiService.saveHciReferral(n).subscribe((function(n){console.log(n),e.loadingService.dismiss().then((function(i){n&&200==n.code?(e.refered_modified.modified_by=n.data.encoded,e.refered_modified.modified_dt=n.data.date_encoded,e.allowEdit=!1,e.alertServ.openAlertModal("success","Success",n.message)):(console.log("failed"),e.alertServ.openAlertModal("fail","Failed",n.message,"Ok"))}))}),(function(n){console.log("err ",n),e.loadingService.dismiss().then((function(i){var t=e.stringUtilsService.parseErrorMessage(n);e.alertServ.openAlertModal("fail","Failed",t,"Ok")}))}))}},{key:"getHciReferral",value:function(){var e=this;return new Promise((function(n,i){e.loadingService.present(),e.hciReferralApiService.getHciReferral(e.selectedEncounterNo).subscribe((function(t){console.log(t),e.loadingService.dismiss().then((function(r){try{t?(e.hciReason=t.referral_reason?t.referral_reason:"",e.nameOfOriginatingHCI=t.name_of_hci?t.name_of_hci:"",e.isReferredFromAnotherHCI=!!t.config&&1==t.config,e.refered_modified.modified_by=t.data.encoded,e.refered_modified.modified_dt=t.data.date_encoded,e.allowEdit=null==e.refered_modified.modified_by||""==e.refered_modified.modified_by):e.alertServ.openAlertModal("fail","Failed","Cannot parse HCI referral values!","Ok"),n(t)}catch(l){e.alertServ.openAlertModal("fail","Failed","Cannot parse HCI referral values!","Ok"),i(l)}console.error("after fetching data, before initFormRules()"),e.initFormRules()}))}),(function(n){console.log("err ",n),e.loadingService.dismiss().then((function(t){var r=e.stringUtilsService.parseErrorMessage(n);e.alertServ.openAlertModal("fail","Failed",r,"Ok"),i(n)}))}))}))}},{key:"toggleChange",value:function(){console.error("toggleChange()"),this.initFormRules()}},{key:"doRefreshHciReferral",value:function(e){this.getHciReferral().then((function(n){e.target.complete()})).catch((function(n){e.target.complete()}))}},{key:"openPromptModal",value:function(e,n,i,t){var r=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Save";arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.alertServ.openPromptModal(i,t,l,(function(n){null!==n&&n.data&&"Save"==n.data.button&&e==r.SAVE_HCI_REFERRAL&&r.onAddHciReferralFunction()}))}},{key:"tapCoordinates",value:function(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log("offset: ",this.offsetY)}},{key:"keyboardShowHandler",value:function(e){var n=e.keyboardHeight;console.log("show: ",e.keyboardHeight);var i=document.querySelector("ion-app").style;i.bottom=n+"px",console.log(i.bottom)}},{key:"keyboardHideHandler",value:function(){console.log("gone"),document.querySelector("ion-app").removeAttribute("style")}},{key:"removeIonAppStyles",value:function(){document.querySelector("ion-app").removeAttribute("style")}}]),e}(),w=function e(){_classCallCheck(this,e)},O=i("pMnS"),k=i("Jt+7"),E=i("ChBM"),H=i("RRim"),S=i("iInd"),R=i("gly3"),D=i("Fzct"),M=i("9B/o"),I=i("oBZk"),x=i("SVse"),A=i("h7h0"),N=i("dz+s"),F=r.Bb({encapsulation:0,styles:[["[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::placeholder{color:#c8c8c8;font-style:italic}ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:10px;margin:20px 10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]{margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:30px;display:block;position:relative;left:-10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{zoom:.8}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   #no[_ngcontent-%COMP%]{position:relative;left:10px;bottom:-10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   #yes[_ngcontent-%COMP%]{position:relative;right:10px;bottom:-10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .normalTextInput[_ngcontent-%COMP%]{background:#fff;border:1px solid #f5f5f5;width:100%;border:none;margin-top:10px;padding-left:10px;padding-right:10px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .bigTextArea[_ngcontent-%COMP%]{background:#fff;border:1px solid #f5f5f5;width:100%;border:none;margin-top:10px;padding:10px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{color:#949494}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .textSubLabel[_ngcontent-%COMP%]{color:#949494;font-size:x-small}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .referralSection[_ngcontent-%COMP%]   .redLabel[_ngcontent-%COMP%]{color:#ff5757}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}"]],data:{}});function j(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function V(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["You have reach the character limit."]))],null,null)}function T(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["This is required."]))],null,null)}function B(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["You have reach the character limit."]))],null,null)}function Y(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["This is required."]))],null,null)}function z(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"app-headerbar",[["title","Referred from another HCI"]],null,null,null,E.b,E.a)),r.Cb(1,114688,null,0,H.a,[S.m,R.a,l.a,b.a,f.a,D.a,_.a,g.a,d.Nb,M.a,d.Jb,d.a],{titleToUse:[0,"titleToUse"]},null),(e()(),r.Db(2,0,null,null,75,"ion-content",[],null,null,null,I.mb,I.k)),r.Cb(3,49152,null,0,d.v,[r.j,r.p,r.G],null,null),(e()(),r.Db(4,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(e,n,i){var t=!0;return"ionRefresh"===n&&(t=!1!==e.component.doRefreshHciReferral(i)&&t),t}),I.Nb,I.K)),r.Cb(5,49152,null,0,d.eb,[r.j,r.p,r.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(e()(),r.Db(6,0,null,0,1,"ion-refresher-content",[],null,null,null,I.Mb,I.L)),r.Cb(7,49152,null,0,d.fb,[r.j,r.p,r.G],null,null),(e()(),r.sb(16777216,null,0,1,null,j)),r.Cb(9,16384,null,0,x.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.Db(10,0,null,0,67,"div",[["class","wrapper"]],null,null,null,null,null)),(e()(),r.Db(11,0,null,null,19,"div",[["class","referralSection"],["id","topSection"]],null,null,null,null,null)),(e()(),r.Db(12,0,null,null,4,"ion-label",[["class","redLabel"]],null,null,null,I.Eb,I.C)),r.Cb(13,49152,null,0,d.O,[r.j,r.p,r.G],null,null),(e()(),r.Wb(-1,0,["Referred from another HCI? "])),(e()(),r.Db(15,0,null,0,1,"app-modified-b-toast",[],null,null,null,A.b,A.a)),r.Cb(16,114688,null,0,N.a,[d.Tb],{modifiedBy:[0,"modifiedBy"],modifiedDate:[1,"modifiedDate"]},null),(e()(),r.Db(17,0,null,null,13,"div",[["class","toggle"]],null,null,null,null,null)),(e()(),r.Db(18,0,null,null,2,"ion-label",[["class","textSubLabel"],["id","no"]],null,null,null,I.Eb,I.C)),r.Cb(19,49152,null,0,d.O,[r.j,r.p,r.G],null,null),(e()(),r.Wb(-1,0,["No"])),(e()(),r.Db(21,0,null,null,6,"ion-toggle",[["class","toggle-long"],["mode","ios"],["name","is_referred_from_another_hci"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(e,n,i){var t=!0,l=e.component;return"ionBlur"===n&&(t=!1!==r.Pb(e,22)._handleBlurEvent(i.target)&&t),"ionChange"===n&&(t=!1!==r.Pb(e,22)._handleIonChange(i.target)&&t),"ngModelChange"===n&&(t=!1!==(l.isReferredFromAnotherHCI=i)&&t),"ionChange"===n&&(t=!1!==l.toggleChange()&&t),t}),I.bc,I.Z)),r.Cb(22,16384,null,0,d.c,[r.p],null,null),r.Tb(1024,null,y.l,(function(e){return[e]}),[d.c]),r.Cb(24,671744,null,0,y.q,[[8,null],[8,null],[8,null],[6,y.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),r.Tb(2048,null,y.m,null,[y.q]),r.Cb(26,16384,null,0,y.n,[[4,y.m]],null,null),r.Cb(27,49152,null,0,d.Cb,[r.j,r.p,r.G],{disabled:[0,"disabled"],mode:[1,"mode"],name:[2,"name"]},null),(e()(),r.Db(28,0,null,null,2,"ion-label",[["class","textSubLabel"],["id","yes"]],null,null,null,I.Eb,I.C)),r.Cb(29,49152,null,0,d.O,[r.j,r.p,r.G],null,null),(e()(),r.Wb(-1,0,["Yes"])),(e()(),r.Db(31,0,null,null,46,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,n,i){var t=!0;return"submit"===n&&(t=!1!==r.Pb(e,33).onSubmit(i)&&t),"reset"===n&&(t=!1!==r.Pb(e,33).onReset()&&t),t}),null,null)),r.Cb(32,16384,null,0,y.y,[],null,null),r.Cb(33,540672,null,0,y.h,[[8,null],[8,null]],{form:[0,"form"]},null),r.Tb(2048,null,y.b,null,[y.h]),r.Cb(35,16384,null,0,y.o,[[4,y.b]],null,null),(e()(),r.Db(36,0,null,null,30,"div",[["class","referralSection"]],[[8,"hidden",0]],null,null,null,null)),(e()(),r.Db(37,0,null,null,14,"div",[["class","referralSection"]],null,null,null,null,null)),(e()(),r.Db(38,0,null,null,2,"ion-label",[],null,null,null,I.Eb,I.C)),r.Cb(39,49152,null,0,d.O,[r.j,r.p,r.G],{color:[0,"color"]},null),(e()(),r.Wb(-1,0,["Reason*"])),(e()(),r.Db(41,0,null,null,6,"ion-textarea",[["class","bigTextArea"],["formControlName","hciReason"],["name","hciReason"],["placeholder","If Yes, specify reason.."],["rows","8"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(e,n,i){var t=!0;return"ionBlur"===n&&(t=!1!==r.Pb(e,42)._handleBlurEvent(i.target)&&t),"ionChange"===n&&(t=!1!==r.Pb(e,42)._handleInputEvent(i.target)&&t),t}),I.Zb,I.X)),r.Cb(42,16384,null,0,d.Sb,[r.p],null,null),r.Tb(1024,null,y.l,(function(e){return[e]}),[d.Sb]),r.Cb(44,671744,null,0,y.f,[[3,y.b],[8,null],[8,null],[6,y.l],[2,y.x]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),r.Tb(2048,null,y.m,null,[y.f]),r.Cb(46,16384,null,0,y.n,[[4,y.m]],null,null),r.Cb(47,49152,null,0,d.zb,[r.j,r.p,r.G],{disabled:[0,"disabled"],name:[1,"name"],placeholder:[2,"placeholder"],rows:[3,"rows"],value:[4,"value"]},null),(e()(),r.sb(16777216,null,null,1,null,V)),r.Cb(49,16384,null,0,x.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(16777216,null,null,1,null,T)),r.Cb(51,16384,null,0,x.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.Db(52,0,null,null,14,"div",[["class","referralSection"]],null,null,null,null,null)),(e()(),r.Db(53,0,null,null,2,"ion-label",[],null,null,null,I.Eb,I.C)),r.Cb(54,49152,null,0,d.O,[r.j,r.p,r.G],{color:[0,"color"]},null),(e()(),r.Wb(-1,0,["Name of originating HCI*"])),(e()(),r.Db(56,0,null,null,6,"ion-input",[["class","normalTextInput"],["formControlName","nameOfOriginatingHCI"],["name","nameOfOriginatingHCI"],["placeholder",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(e,n,i){var t=!0;return"ionBlur"===n&&(t=!1!==r.Pb(e,57)._handleBlurEvent(i.target)&&t),"ionChange"===n&&(t=!1!==r.Pb(e,57)._handleInputEvent(i.target)&&t),t}),I.xb,I.v)),r.Cb(57,16384,null,0,d.Sb,[r.p],null,null),r.Tb(1024,null,y.l,(function(e){return[e]}),[d.Sb]),r.Cb(59,671744,null,0,y.f,[[3,y.b],[8,null],[8,null],[6,y.l],[2,y.x]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),r.Tb(2048,null,y.m,null,[y.f]),r.Cb(61,16384,null,0,y.n,[[4,y.m]],null,null),r.Cb(62,49152,null,0,d.H,[r.j,r.p,r.G],{disabled:[0,"disabled"],name:[1,"name"],placeholder:[2,"placeholder"],type:[3,"type"],value:[4,"value"]},null),(e()(),r.sb(16777216,null,null,1,null,B)),r.Cb(64,16384,null,0,x.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(16777216,null,null,1,null,Y)),r.Cb(66,16384,null,0,x.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.Db(67,0,null,null,10,"div",[["class","ion-padding"]],null,null,null,null,null)),(e()(),r.Db(68,0,null,null,4,"ion-button",[["expand","block"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,i){var t=!0;return"click"===n&&(t=!1!==e.component.onAddHciReferral()&&t),t}),I.fb,I.d)),r.Cb(69,49152,null,0,d.l,[r.j,r.p,r.G],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(e()(),r.Db(70,0,null,0,1,"ion-icon",[["name","paper-plane"]],null,null,null,I.ub,I.s)),r.Cb(71,49152,null,0,d.D,[r.j,r.p,r.G],{name:[0,"name"]},null),(e()(),r.Wb(-1,0,[" Save"])),(e()(),r.Db(73,0,null,null,4,"ion-button",[["expand","block"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,i){var t=!0,r=e.component;return"click"===n&&(t=0!=(r.allowEdit=!r.allowEdit)&&t),t}),I.fb,I.d)),r.Cb(74,49152,null,0,d.l,[r.j,r.p,r.G],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(e()(),r.Db(75,0,null,0,1,"ion-icon",[["name","create"]],null,null,null,I.ub,I.s)),r.Cb(76,49152,null,0,d.D,[r.j,r.p,r.G],{name:[0,"name"]},null),(e()(),r.Wb(-1,0,[" Edit"]))],(function(e,n){var i,t=n.component;e(n,1,0,"Referred from another HCI"),e(n,5,0,"0.5","200","100"),e(n,9,0,t.loginService.inTestServer),e(n,16,0,t.refered_modified.modified_by,t.refered_modified.modified_dt),e(n,24,0,"is_referred_from_another_hci",!t.refFromOtherHciSave||!t.allowEdit,t.isReferredFromAnotherHCI),e(n,27,0,!t.refFromOtherHciSave||!t.allowEdit,"ios","is_referred_from_another_hci"),e(n,33,0,t.form),e(n,39,0,null!=(i=t.form.get("hciReason"))&&i.valid?"dark":"danger"),e(n,44,0,"hciReason",!t.refFromOtherHciSave||!t.allowEdit),e(n,47,0,!t.refFromOtherHciSave||!t.allowEdit,"hciReason","If Yes, specify reason..","8",t.hciReason);var r=null;e(n,49,0,null==(r=t.form.get("hciReason"))?null:r.hasError("maxlength"));var l,o=null;e(n,51,0,null==(o=t.form.get("hciReason"))?null:o.hasError("required")),e(n,54,0,null!=(l=t.form.get("nameOfOriginatingHCI"))&&l.valid?"dark":"danger"),e(n,59,0,"nameOfOriginatingHCI",!t.refFromOtherHciSave||!t.allowEdit),e(n,62,0,!t.refFromOtherHciSave||!t.allowEdit,"nameOfOriginatingHCI","","text",t.nameOfOriginatingHCI);var a=null;e(n,64,0,null==(a=t.form.get("nameOfOriginatingHCI"))?null:a.hasError("maxlength"));var s=null;e(n,66,0,null==(s=t.form.get("nameOfOriginatingHCI"))?null:s.hasError("required")),e(n,69,0,(null==t.form?null:t.form.invalid)||!t.refFromOtherHciSave||!t.allowEdit,"block"),e(n,71,0,"paper-plane"),e(n,74,0,!t.refFromOtherHciSave,"block","button"),e(n,76,0,"create")}),(function(e,n){var i=n.component;e(n,21,0,r.Pb(n,26).ngClassUntouched,r.Pb(n,26).ngClassTouched,r.Pb(n,26).ngClassPristine,r.Pb(n,26).ngClassDirty,r.Pb(n,26).ngClassValid,r.Pb(n,26).ngClassInvalid,r.Pb(n,26).ngClassPending),e(n,31,0,r.Pb(n,35).ngClassUntouched,r.Pb(n,35).ngClassTouched,r.Pb(n,35).ngClassPristine,r.Pb(n,35).ngClassDirty,r.Pb(n,35).ngClassValid,r.Pb(n,35).ngClassInvalid,r.Pb(n,35).ngClassPending),e(n,36,0,!i.isReferredFromAnotherHCI),e(n,41,0,r.Pb(n,46).ngClassUntouched,r.Pb(n,46).ngClassTouched,r.Pb(n,46).ngClassPristine,r.Pb(n,46).ngClassDirty,r.Pb(n,46).ngClassValid,r.Pb(n,46).ngClassInvalid,r.Pb(n,46).ngClassPending),e(n,56,0,r.Pb(n,61).ngClassUntouched,r.Pb(n,61).ngClassTouched,r.Pb(n,61).ngClassPristine,r.Pb(n,61).ngClassDirty,r.Pb(n,61).ngClassValid,r.Pb(n,61).ngClassInvalid,r.Pb(n,61).ngClassPending),e(n,68,0,!i.allowEdit),e(n,73,0,i.allowEdit)}))}var G=r.zb("app-hci-referral",P,(function(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"app-hci-referral",[],null,null,null,z,F)),r.Cb(1,114688,null,0,P,[m,l.a,_.a,b.a,C.a,g.a,y.d,v.a,f.a,d.Ib],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]),L=i("gRf5"),U=i("wMzM"),J=i("t8sF"),W=i("j1ZV");i.d(n,"HciReferralPageModuleNgFactory",(function(){return q}));var q=r.Ab(w,[],(function(e){return r.Mb([r.Nb(512,r.m,r.lb,[[8,[O.a,k.a,G]],[3,r.m],r.E]),r.Nb(4608,x.n,x.m,[r.A,[2,x.C]]),r.Nb(4608,y.w,y.w,[]),r.Nb(4608,y.d,y.d,[]),r.Nb(4608,d.b,d.b,[r.G,r.g]),r.Nb(4608,d.Jb,d.Jb,[d.b,r.m,r.w]),r.Nb(4608,d.Ob,d.Ob,[d.b,r.m,r.w]),r.Nb(4608,h.j,h.p,[x.d,r.J,h.n]),r.Nb(4608,h.q,h.q,[h.j,h.o]),r.Nb(5120,h.a,(function(e){return[e]}),[h.q]),r.Nb(4608,h.m,h.m,[]),r.Nb(6144,h.k,null,[h.m]),r.Nb(4608,h.i,h.i,[h.k]),r.Nb(6144,h.b,null,[h.i]),r.Nb(4608,h.f,h.l,[h.b,r.w]),r.Nb(4608,h.c,h.c,[h.f]),r.Nb(4608,L.a,L.a,[]),r.Nb(4608,U.a,U.a,[]),r.Nb(4608,J.a,J.a,[]),r.Nb(4608,D.a,D.a,[U.a,L.a,J.a,_.a]),r.Nb(1073742336,x.c,x.c,[]),r.Nb(1073742336,y.v,y.v,[]),r.Nb(1073742336,y.i,y.i,[]),r.Nb(1073742336,y.s,y.s,[]),r.Nb(1073742336,d.Fb,d.Fb,[]),r.Nb(1073742336,S.q,S.q,[[2,S.v],[2,S.m]]),r.Nb(1073742336,h.e,h.e,[]),r.Nb(1073742336,h.d,h.d,[]),r.Nb(1073742336,W.a,W.a,[]),r.Nb(1073742336,w,w,[]),r.Nb(256,h.n,"XSRF-TOKEN",[]),r.Nb(256,h.o,"X-XSRF-TOKEN",[]),r.Nb(1024,S.k,(function(){return[[{path:"",component:P}]]}),[])])}))},"dz+s":function(e,n,i){"use strict";i.d(n,"a",(function(){return r}));var t=i("mrSG");i("ZZ/e");var r=function(){function e(n){_classCallCheck(this,e),this.toastCtrl=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){return t.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:this.modifiedBy,duration:5e3});case 2:(n=e.sent).onclick=function(e){n.dismiss()},n.present();case 4:case"end":return e.stop()}}),e,this)})))}}]),e}()},h7h0:function(e,n,i){"use strict";var t=i("8Y7J"),r=i("oBZk"),l=i("ZZ/e");i("dz+s"),i.d(n,"a",(function(){return o})),i.d(n,"b",(function(){return a}));var o=t.Bb({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{background:0 0;padding:0;margin:0}button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:25px;font-size:25px}"]],data:{}});function a(e){return t.Yb(0,[(e()(),t.Db(0,0,null,null,1,"ion-icon",[["color","primary"],["name","information-circle-outline"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,i){var t=!0;return"click"===n&&(t=!1!==e.component.onClick()&&t),t}),r.ub,r.s)),t.Cb(1,49152,null,0,l.D,[t.j,t.p,t.G],{color:[0,"color"],name:[1,"name"]},null)],(function(e,n){e(n,1,0,"primary","information-circle-outline")}),(function(e,n){var i=n.component;e(n,0,0,!(null!=i.modifiedDate&&""!=i.modifiedDate||null!=i.modifiedBy&&""!=i.modifiedBy))}))}}}]);