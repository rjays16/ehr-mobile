function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"7wfR":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J"),i=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getSelectedEncounterNo",value:function(){return this.selectedEncounterNo}},{key:"setSelectedEncounterNo",value:function(t){this.selectedEncounterNo=t}},{key:"getTempEncounterNo",value:function(){return this.tempEncounterNo}},{key:"setTempEncounterNo",value:function(t){this.tempEncounterNo=t}},{key:"getSelectedPatientBriefInformation",value:function(){return this.selectedPatientInformation}},{key:"setSelectedPatientBriefInformation",value:function(t){this.selectedPatientInformation=t}},{key:"getPatientList",value:function(){return this.patients}},{key:"setPatientList",value:function(t){this.patients=t}},{key:"getMyPatientList",value:function(){return this.myPatients}},{key:"setMyPatientList",value:function(t){this.myPatients=t}},{key:"getNursePatientList",value:function(){return this.nursePatients}},{key:"setNursePatientList",value:function(t){this.nursePatients=t}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){this.type=t}},{key:"getWard",value:function(){return this.ward}},{key:"setWard",value:function(t){this.ward=t}},{key:"getSearchKeyword",value:function(){return this.searchKeyword}},{key:"setSearchKeyword",value:function(t){this.searchKeyword=t}}]),t}();return t.ngInjectableDef=r.bc({factory:function(){return new t},token:t,providedIn:"root"}),t}()},ChBM:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("oBZk"),o=n("ZZ/e");n("RRim"),n("iInd"),n("gly3"),n("7wfR"),n("EFyh"),n("H+bZ"),n("Fzct"),n("7ch9"),n("Pasx"),n("9B/o"),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var s=r.Bb({encapsulation:0,styles:[[".titleDiv[_ngcontent-%COMP%]{overflow-x:scroll;white-space:nowrap;text-align:center;margin:auto}.titleDiv[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:relative;color:#0096c6;font-size:1em;padding-left:4px;padding-right:4px;display:inline-block}.menuIcon[_ngcontent-%COMP%]{--padding-top:0px!important;--padding-end:0px!important;--padding-bottom:0px!important;--padding-start:0px!important;--border-radius:50%!important;width:36px!important;height:36px!important;margin:0!important}.subIcons[_ngcontent-%COMP%]{--padding-top:4px!important;--padding-end:4px!important;--padding-bottom:4px!important;--padding-start:4px!important;--border-radius:50%!important;width:30px!important;height:30px!important;margin:0 2px 0 0!important}"]],data:{}});function l(t){return r.Yb(0,[(t()(),r.Db(0,0,null,null,31,"ion-header",[],null,null,null,i.tb,i.r)),r.Cb(1,49152,null,0,o.C,[r.j,r.p,r.G],null,null),(t()(),r.Db(2,0,null,0,29,"ion-toolbar",[],null,null,null,i.cc,i.ab)),r.Cb(3,49152,null,0,o.Db,[r.j,r.p,r.G],null,null),(t()(),r.Db(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,i.gb,i.e)),r.Cb(5,49152,null,0,o.m,[r.j,r.p,r.G],null,null),(t()(),r.Db(6,0,null,0,1,"ion-menu-button",[["class","menuIcon"],["menu","mainMenu"]],null,null,null,i.Hb,i.G)),r.Cb(7,49152,null,0,o.S,[r.j,r.p,r.G],{menu:[0,"menu"]},null),(t()(),r.Db(8,0,null,0,3,"div",[["class","titleDiv"]],null,null,null,null,null)),(t()(),r.Db(9,0,null,null,2,"ion-title",[],null,null,null,i.ac,i.Y)),r.Cb(10,49152,null,0,o.Bb,[r.j,r.p,r.G],null,null),(t()(),r.Wb(11,0,["",""])),(t()(),r.Db(12,0,null,0,19,"ion-buttons",[["slot","end"]],null,null,null,i.gb,i.e)),r.Cb(13,49152,null,0,o.m,[r.j,r.p,r.G],null,null),(t()(),r.Db(14,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showNotifications()&&r),r}),i.fb,i.d)),r.Cb(15,49152,null,0,o.l,[r.j,r.p,r.G],null,null),(t()(),r.Db(16,0,null,0,1,"ion-icon",[["ios","ios-notifications"],["md","md-notifications"],["slot","icon-only"]],null,null,null,i.ub,i.s)),r.Cb(17,49152,null,0,o.D,[r.j,r.p,r.G],{ios:[0,"ios"],md:[1,"md"]},null),(t()(),r.Db(18,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.search()&&r),r}),i.fb,i.d)),r.Cb(19,49152,null,0,o.l,[r.j,r.p,r.G],null,null),(t()(),r.Db(20,0,null,0,1,"ion-icon",[["ios","ios-search"],["md","md-search"],["slot","icon-only"]],null,null,null,i.ub,i.s)),r.Cb(21,49152,null,0,o.D,[r.j,r.p,r.G],{ios:[0,"ios"],md:[1,"md"]},null),(t()(),r.Db(22,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.print()&&r),r}),i.fb,i.d)),r.Cb(23,49152,null,0,o.l,[r.j,r.p,r.G],null,null),(t()(),r.Db(24,0,null,0,1,"ion-icon",[["ios","ios-print"],["md","md-print"],["slot","icon-only"]],null,null,null,i.ub,i.s)),r.Cb(25,49152,null,0,o.D,[r.j,r.p,r.G],{ios:[0,"ios"],md:[1,"md"]},null),(t()(),r.Db(26,0,null,0,5,"ion-menu-toggle",[["menu","accountMenu"]],null,null,null,i.Ib,i.H)),r.Cb(27,49152,null,0,o.T,[r.j,r.p,r.G],{menu:[0,"menu"]},null),(t()(),r.Db(28,0,null,0,3,"ion-button",[["class","subIcons"]],null,null,null,i.fb,i.d)),r.Cb(29,49152,null,0,o.l,[r.j,r.p,r.G],null,null),(t()(),r.Db(30,0,null,0,1,"ion-icon",[["ios","ios-contact"],["md","md-contact"],["slot","icon-only"]],null,null,null,i.ub,i.s)),r.Cb(31,49152,null,0,o.D,[r.j,r.p,r.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(t,e){t(e,7,0,"mainMenu"),t(e,17,0,"ios-notifications","md-notifications"),t(e,21,0,"ios-search","md-search"),t(e,25,0,"ios-print","md-print"),t(e,27,0,"accountMenu"),t(e,31,0,"ios-contact","md-contact")}),(function(t,e){t(e,11,0,e.component.titleToUse)}))}},EFyh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J"),i=function(){var t=function(){function t(){_classCallCheck(this,t),this.inTestServer=!1}return _createClass(t,[{key:"getCredentials",value:function(){return this.credentials}},{key:"setTestServerIdent",value:function(t){this.inTestServer=1==t,console.log("this.inTestServer",this.inTestServer)}},{key:"setCredentials",value:function(t){this.credentials=t}},{key:"getAuthentication",value:function(){return this.authentication}},{key:"setAuthentication",value:function(t){this.authentication=t}},{key:"getConfigAndDefaults",value:function(){return this.configAndDefaults}},{key:"setConfigAndDefaults",value:function(t){this.configAndDefaults=t}}]),t}();return t.ngInjectableDef=r.bc({factory:function(){return new t},token:t,providedIn:"root"}),t}()},"H+bZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("AytR"),i=n("8Y7J"),o=function(){var t=function(){function t(){_classCallCheck(this,t),this.url=r.a.url}return _createClass(t,[{key:"getUrl",value:function(){return this.url}},{key:"setUrl",value:function(t){this.url=t}}]),t}();return t.ngInjectableDef=i.bc({factory:function(){return new t},token:t,providedIn:"root"}),t}()},Pasx:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J"),i=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parseErrorMessage",value:function(t){var e="";return t.error?e=t.error.message?t.error.message:t.error:t.message&&(e=t.message),e}},{key:"parseErrorArrayMessage",value:function(t){var e="";return t.error?e=t.error.mandatories?t.error.mandatories:t.error:t.mandatories&&(e=t.mandatories),e}}]),t}();return t.ngInjectableDef=r.bc({factory:function(){return new t},token:t,providedIn:"root"}),t}()},RRim:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("mrSG"),i=(n("gly3"),n("7wfR"),n("EFyh"),n("H+bZ"),n("7ch9"),n("Pasx"),n("Fzct"),n("9B/o"),n("ZZ/e"),n("Hfim")),o=function(){function t(e,n,r,i,o,s,l,u,a,c,h,f){_classCallCheck(this,t),this.router=e,this.cf4ApiService=n,this.patientService=r,this.loginService=i,this.apiService=o,this.pdfViewerService=s,this.loadingService=l,this.stringUtilsService=u,this.platform=a,this.inAppBrowser=c,this.modalController=h,this.alertCtrl=f,this.options={location:"yes",hidden:"no",clearcache:"yes",clearsessioncache:"yes",zoom:"yes",hardwareback:"yes",mediaPlaybackRequiresUserAction:"no",shouldPauseOnSuspend:"no",closebuttoncaption:"Close",disallowoverscroll:"no",toolbar:"yes",enableViewportScale:"no",allowInlineMediaPlayback:"no",presentationstyle:"pagesheet",fullscreen:"yes"},this.showPDF=!1,this.tokenEnc="",this.cf4ApiService.setUrl(this.apiService.getUrl()),this.cf4ApiService.setToken(this.loginService.getAuthentication().token),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo()}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"showNotifications",value:function(){}},{key:"search",value:function(){this.router.navigate(["/menu/quick-search"])}},{key:"print",value:function(){var t=this;this.loadingService.present(),this.cf4ApiService.getCf4Validation(this.selectedEncounterNo).subscribe((function(e){console.log("result: ",e),t.loadingService.dismiss().then((function(n){e&&(t.tokenEnc=e.token_inc,e.check.mandatories?t.openAlertModalValidation("fail","Missing Required Fields!",e.check.message,e.check.mandatories,e,"Ok"):t.confirmPrintCf4())}))}),(function(e){console.log(e),t.loadingService.dismiss().then((function(n){var r=t.stringUtilsService.parseErrorMessage(e);t.openAlertModal("fail","Failed",r,"Ok")}))}))}},{key:"openCf4",value:function(){var t=this;this.platform.is("android")?(this.loadingService.present(),this.cf4ApiService.getCf4(this.selectedEncounterNo).subscribe((function(e){console.log("result: ",e),t.loadingService.dismiss().then((function(n){e&&e.filepath&&t.openWithInAppBrowser(e.filepath)}))}),(function(e){console.log(e),t.loadingService.dismiss().then((function(n){var r=t.stringUtilsService.parseErrorMessage(e);t.openAlertModal("fail","Failed",r,"Ok")}))}))):this.openWithInAppBrowser(this.cf4ApiService.getCf4WebUrl(this.selectedEncounterNo,this.tokenEnc,this.loginService.getAuthentication().user.id))}},{key:"openWithInAppBrowser",value:function(t){return r.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.inAppBrowser.create(t,"_system",this.options);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"confirmPrintCf4",value:function(){return r.b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"View CF4?",message:"Would you like to view the CF4 printout?",buttons:[{text:"No",handler:function(){console.log("Cancel clicked")}},{text:"Yes",handler:function(){n.openCf4()}}]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"openAlertModal",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done";return r.b(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-css",componentProps:{alert:t,title:e,message:n,ok:o}});case 2:return(s=r.sent).onDidDismiss().then((function(t){null!==t&&console.log("result.data: ",t.data)})),r.next=6,s.present();case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"openAlertModalValidation",value:function(t,e,n,o,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Done";return r.b(this,void 0,void 0,regeneratorRuntime.mark((function r(){var s,u=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.modalController.create({component:i.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:t,title:e,message:n,messageArray:o,ok:l}});case 2:return(s=r.sent).onDidDismiss().then((function(t){null!==t&&(console.log("result.data: ",t.data),u.showPDF=!0),u.confirmPrintCf4()})),r.next=6,s.present();case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}}]),t}()},gly3:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("tS1D"),i=n("lJxs"),o=n("JIr8"),s=n("Cfvw"),l=n("z6cu"),u=n("IheW"),a=n("ZZ/e"),c=n("yp2w"),h=n("8Y7J"),f=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this.platform=e,this.httpClient=n,this.http=r,this.url="http://localhost:3000",this.getcf4Path="/api/cf4/file/path",this.getcf4validationPath="/api/cf4/validate"}return _createClass(t,[{key:"setUrl",value:function(t){this.url=t}},{key:"setToken",value:function(t){this.token=t}},{key:"getCf4",value:function(t){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var e={encounter_nr:t},n={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(s.a)(this.http.get(this.url+this.getcf4Path,e,n)).pipe(Object(r.a)(3e4),Object(i.a)((function(t){var e=JSON.parse(t.data);return console.log("CF4: ",e),e})),Object(o.a)((function(t,e){if("string"==typeof t.error)try{t.error=JSON.parse(t.error)}catch(n){}return console.log("CF4 error: ",t,e),Object(l.a)(t)})))}console.log("browser");var a=(new u.h).set("encounter_nr",t);console.log("params: ",a);var c={params:a,headers:new u.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",c),this.httpClient.get(this.url+this.getcf4Path,c).pipe(Object(r.a)(3e4),Object(i.a)((function(t){return console.log("CF4: ",t),t})),Object(o.a)((function(t,e){return console.log("CF4 error: ",t,e),Object(l.a)(t)})))}},{key:"getCf4WebUrl",value:function(t,e,n){return this.url+"/printCf4?encounter_nr="+t+"&token="+e+"&user="+n}},{key:"getCf4Validation",value:function(t){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var e={encounter_nr:t},n={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(s.a)(this.http.get(this.url+this.getcf4validationPath,e,n)).pipe(Object(r.a)(3e4),Object(i.a)((function(t){var e=JSON.parse(t.data);return console.log("CF4: ",e),e})),Object(o.a)((function(t,e){if("string"==typeof t.error)try{t.error=JSON.parse(t.error)}catch(n){}return console.log("CF4 error: ",t,e),Object(l.a)(t)})))}console.log("browser");var a=(new u.h).set("encounter_nr",t);console.log("params: ",a);var c={params:a,headers:new u.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",c),this.httpClient.get(this.url+this.getcf4validationPath,c).pipe(Object(r.a)(3e4),Object(i.a)((function(t){return console.log("CF4: ",t),t})),Object(o.a)((function(t,e){return console.log("CF4 error: ",t,e),Object(l.a)(t)})))}}]),t}();return t.ngInjectableDef=h.bc({factory:function(){return new t(h.cc(a.Nb),h.cc(u.c),h.cc(c.a))},token:t,providedIn:"root"}),t}()},tS1D:function(t,e,n){"use strict";var r=n("D0XW"),i=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),o=n("l7GE"),s=n("ZUHj"),l=function(){function t(e,n,r,i){_classCallCheck(this,t),this.waitFor=e,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),t}(),u=function(t){function e(t,n,r,i,o){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return _inherits(e,t),_createClass(e,[{key:"scheduleTimeout",value:function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(t){this.absoluteTimeout||this.scheduleTimeout(),_get(_getPrototypeOf(e.prototype),"_next",this).call(this,t)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(s.a)(t,e))}}]),e}(o.a),a=n("z6cu");function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return function(r){var i,o=(i=t)instanceof Date&&!isNaN(+i),s=o?+t-n.now():Math.abs(t);return r.lift(new l(s,o,e,n))}}(t,Object(a.a)(new i),e)}n.d(e,"a",(function(){return c}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}}}]);