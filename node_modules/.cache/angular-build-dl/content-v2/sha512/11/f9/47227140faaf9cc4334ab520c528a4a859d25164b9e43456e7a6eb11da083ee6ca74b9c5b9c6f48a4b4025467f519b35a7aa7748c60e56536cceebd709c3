(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7wfR":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var l=t("8Y7J");let r=(()=>{class e{constructor(){}getSelectedEncounterNo(){return this.selectedEncounterNo}setSelectedEncounterNo(e){this.selectedEncounterNo=e}getTempEncounterNo(){return this.tempEncounterNo}setTempEncounterNo(e){this.tempEncounterNo=e}getSelectedPatientBriefInformation(){return this.selectedPatientInformation}setSelectedPatientBriefInformation(e){this.selectedPatientInformation=e}getPatientList(){return this.patients}setPatientList(e){this.patients=e}getMyPatientList(){return this.myPatients}setMyPatientList(e){this.myPatients=e}getNursePatientList(){return this.nursePatients}setNursePatientList(e){this.nursePatients=e}getType(){return this.type}setType(e){this.type=e}getWard(){return this.ward}setWard(e){this.ward=e}getSearchKeyword(){return this.searchKeyword}setSearchKeyword(e){this.searchKeyword=e}}return e.ngInjectableDef=l.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},EFyh:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var l=t("8Y7J");let r=(()=>{class e{constructor(){this.inTestServer=!1}getCredentials(){return this.credentials}setTestServerIdent(e){this.inTestServer=1==e,console.log("this.inTestServer",this.inTestServer)}setCredentials(e){this.credentials=e}getAuthentication(){return this.authentication}setAuthentication(e){this.authentication=e}getConfigAndDefaults(){return this.configAndDefaults}setConfigAndDefaults(e){this.configAndDefaults=e}}return e.ngInjectableDef=l.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},"H+bZ":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var l=t("AytR"),r=t("8Y7J");let o=(()=>{class e{constructor(){this.url=l.a.url}getUrl(){return this.url}setUrl(e){this.url=e}}return e.ngInjectableDef=r.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},Pasx:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var l=t("8Y7J");let r=(()=>{class e{constructor(){}parseErrorMessage(e){let n="";return e.error?n=e.error.message?e.error.message:e.error:e.message&&(n=e.message),n}parseErrorArrayMessage(e){let n="";return e.error?n=e.error.mandatories?e.error.mandatories:e.error:e.mandatories&&(n=e.mandatories),n}}return e.ngInjectableDef=l.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},VM0z:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var l=t("mrSG"),r=t("ZZ/e"),o=t("Hfim"),i=t("8Y7J");let a=(()=>{class e{constructor(e,n,t){this.toastCtrl=e,this.modalController=n,this.alertController=t}alertToast(e){return l.b(this,void 0,void 0,(function*(){console.log("AlertToast Message:",e),(yield this.toastCtrl.create({message:e,duration:8e3})).present()}))}openAlertModalValidation(e,n,t,r,i="Done",a=(e=>{})){return l.b(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:o.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:e,title:n,message:t,messageArray:r,ok:i}});return l.onDidDismiss().then(e=>{a(e)}),yield l.present()}))}openPromptModal(e,n,t="Save",r=(e=>{}),i="Cancel",a=(e=>{})){return l.b(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{prompt,title:e,message:n,cancel:i,ok:t}});return l.onDidDismiss().then(e=>{r(e),a(e)}),yield l.present()}))}openAlertModal(e,n,t,r="Done",i=(e=>{})){return l.b(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:n,message:t,ok:r}});return l.onDidDismiss().then(e=>{i(e)}),yield l.present()}))}prompNAlert(e="",n="",t="",r=[],o=[],i=!0,a=!0){return l.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:e,subHeader:n,message:t,backdropDismiss:i,keyboardClose:a,inputs:r,buttons:o}).then(e=>{this.nativeAlert.present()})}))}prompInputNAlert(e="",n="",t="",r=!0,o=!0,i=[],a=[],s=(()=>{}),u=(()=>{})){return l.b(this,void 0,void 0,(function*(){0==a.length&&(a=[{text:"OK",handler:e=>{s()}},{text:"Cancel",handler:e=>{u()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:r,keyboardClose:o,message:"",inputs:i,buttons:a}).then(e=>{this.nativeAlert.present()})}))}}return e.ngInjectableDef=i.bc({factory:function(){return new e(i.cc(r.Tb),i.cc(r.Jb),i.cc(r.a))},token:e,providedIn:"root"}),e})()},tS1D:function(e,n,t){"use strict";var l=t("D0XW");const r=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var o=t("l7GE"),i=t("ZUHj");class a{constructor(e,n,t,l){this.waitFor=e,this.absoluteTimeout=n,this.withObservable=t,this.scheduler=l}call(e,n){return n.subscribe(new s(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class s extends o.a{constructor(e,n,t,l,r){super(e),this.absoluteTimeout=n,this.waitFor=t,this.withObservable=l,this.scheduler=r,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:n}=e;e._unsubscribeAndRecycle(),e.add(Object(i.a)(e,n))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(s.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var u=t("z6cu");function c(e,n=l.a){return function(e,n,t=l.a){return l=>{let r=function(e){return e instanceof Date&&!isNaN(+e)}(e),o=r?+e-t.now():Math.abs(e);return l.lift(new a(o,r,n,t))}}(e,Object(u.a)(new r),n)}t.d(n,"a",(function(){return c}))},vz1Q:function(e,n,t){"use strict";t.r(n);var l=t("8Y7J"),r=t("tS1D"),o=t("lJxs"),i=t("JIr8"),a=t("Cfvw"),s=t("z6cu"),u=t("IheW"),c=t("ZZ/e"),d=t("yp2w");let b=(()=>{class e{constructor(e,n,t){this.platform=e,this.httpClient=n,this.http=t,this.url="http://localhost:3000",this.getEndOfCarelPath="/api/doctor/patient/endcare/getdata",this.saveEndOfCarePath="/api/doctor/patient/endcare/action"}setUrl(e){this.url=e}setToken(e){this.token=e}saveEndOfCare(e){const n=e.encounter_no;if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const t={treatment:e.treatment,reason:e.reason,doc_advice:e.doc_advice},l={Accept:"application/json",Authorization:"Bearer "+this.token};return this.http.setDataSerializer("json"),Object(a.a)(this.http.post(this.url+this.saveEndOfCarePath+"?id="+n,t,l)).pipe(Object(r.a)(3e4),Object(o.a)(e=>{const n=JSON.parse(e.data);return console.log("End of Care: ",n),n}),Object(i.a)((e,n)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("End of Care error: ",e,n),Object(s.a)(e)}))}{const t=new FormData;t.append("treatment",e.treatment),t.append("reason",e.reason),t.append("doc_advice",e.doc_advice);const l={params:(new u.h).set("id",n),headers:new u.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return this.httpClient.post(this.url+this.saveEndOfCarePath,t,l).pipe(Object(r.a)(3e4),Object(o.a)(e=>(console.log(e),e)),Object(i.a)((e,n)=>(console.log(n),console.error(e),Object(s.a)(e))))}}getEndOfCare(e){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const n={id:e},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(a.a)(this.http.get(this.url+this.getEndOfCarelPath,n,t)).pipe(Object(r.a)(3e4),Object(o.a)(e=>{const n=JSON.parse(e.data);return console.log("End of Care: ",n),n}),Object(i.a)((e,n)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("End of Care error: ",e,n),Object(s.a)(e)}))}{console.log("browser");const n={params:(new u.h).set("id",e),headers:new u.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",n),this.httpClient.get(this.url+this.getEndOfCarelPath,n).pipe(Object(r.a)(3e4),Object(o.a)(e=>(console.log(e),e)),Object(i.a)((e,n)=>(console.log(n),console.error(e),Object(s.a)(e))))}}}return e.ngInjectableDef=l.bc({factory:function(){return new e(l.cc(c.Nb),l.cc(u.c),l.cc(d.a))},token:e,providedIn:"root"}),e})();var h=t("7wfR"),p=t("7ch9"),g=t("H+bZ"),m=t("EFyh"),f=t("Pasx"),C=t("LDXv"),v=t("VM0z");class E{constructor(e,n,t,l,r,o,i,a,s){this.endOfCareApiService=e,this.patientService=n,this.apiService=t,this.loginService=l,this.loadingService=r,this.stringUtilsService=o,this.permissionValidatorService=i,this.alertServ=a,this.menuController=s,this.reason="",this.doctors_advice="",this.pEndOfCareSave=!0,this.outcomeList=[],this.endCareAllowEdit=!0,this.endCaremodified={modified_by:null,modified_dt:null},this.SAVE_END_OF_CARE=1,this.currentUser=this.loginService.getAuthentication().user,this.endOfCareApiService.setToken(this.loginService.getAuthentication().token),this.endOfCareApiService.setUrl(this.apiService.getUrl()),this.patientService.getSelectedPatientBriefInformation(),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.endCareConfig=this.loginService.getConfigAndDefaults().endcare;const u=this.endCareConfig["m-patient-endofcare"]["default-options"].outcome;Object.keys(u).forEach(e=>{this.outcomeList.push({id:e,name:u[e]})}),console.log("this.outcomeList: ",this.outcomeList)}initUserInterfaceByRole(){this.pEndOfCareSave=this.permissionValidatorService.hasEndCareEdit()}resetForm(){this.endCareAllowEdit=!0,this.endCaremodified={modified_by:null,modified_dt:null}}initEndOfCare(){return new Promise((e,n)=>{this.loadingService.present(),this.endOfCareApiService.getEndOfCare(this.selectedEncounterNo).subscribe(n=>{console.log("result: ",n),this.loadingService.dismiss().then(t=>{if(this.resetForm(),n.model&&n.model.id){this.doctors_advice=n.model.doc_advice?n.model.doc_advice:"";const e=this.outcomeList.find(e=>e.id===n.model.treatment||"string"==typeof n.model.treatment&&e.id===Number(n.model.treatment)||e.name===n.model.treatment.toLocaleLowerCase()||e.name===n.model.treatment.toLocaleUpperCase());e&&(this.outcome_treatment=e.id),this.reason=n.model.reason?n.model.reason:"",this.endCaremodified.modified_by=n.data.encoded,this.endCaremodified.modified_dt=n.data.encoded_dt,this.endCareAllowEdit=!this.reason}e(n)})},e=>{console.log("err ",e),this.loadingService.dismiss().then(t=>{const l=this.stringUtilsService.parseErrorMessage(e);this.alertServ.openAlertModal("fail","Failed",l,"Ok"),n(e)})})})}ngOnInit(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initUserInterfaceByRole(),this.initEndOfCare()}ionViewWillEnter(){console.log("ionViewWillEnter");const e=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==e&&(console.log("selected patient changed"),this.selectedEncounterNo=e,this.initUserInterfaceByRole(),this.initEndOfCare()),window.addEventListener("native.keyboardshow",this.keyboardShowHandler),window.addEventListener("native.keyboardhide",this.keyboardHideHandler)}ionViewWillLeave(){console.log("ionViewWillLeave"),window.removeEventListener("native.keyboardshow",this.keyboardShowHandler),window.removeEventListener("native.keyboardhide",this.keyboardHideHandler),this.removeIonAppStyles()}saveEndOfCare(){this.openPromptModal(this.SAVE_END_OF_CARE,{},"End of Care","Would you like to save your changes?")}saveEndOfCareFunction(){console.log(this.reason),console.log(this.doctors_advice);const e={encounter_no:this.selectedEncounterNo,reason:this.reason,doc_advice:this.doctors_advice,treatment:this.outcome_treatment};console.log("endOfCare: ",e),this.loadingService.present(),this.endOfCareApiService.saveEndOfCare(e).subscribe(e=>{console.log("result: ",e),this.loadingService.dismiss().then(n=>{e&&e.code&&200===e.code?(this.endCaremodified.modified_by=e.data.encoded,this.endCaremodified.modified_dt=e.data.encoded_dt,this.endCareAllowEdit=!1,this.alertServ.openAlertModal("success","Success",e.message)):303===e.code?(console.log(e),this.openAlertModalValidation("fail","Missing Required Fields!",e.message,e.mandatories,"Ok")):this.alertServ.openAlertModal("fail","Failed",e.message,"Ok")})},e=>{console.log("err ",e),this.loadingService.dismiss().then(n=>{const t=this.stringUtilsService.parseErrorMessage(e),l=this.stringUtilsService.parseErrorArrayMessage(e);this.openAlertModalValidation("fail","Missing Required Fields!",t,l,"Ok")})})}outcomeTreatmentChange(e){}doRefreshEndOfCare(e){this.initEndOfCare().then(n=>{e.target.complete()}).catch(n=>{e.target.complete()})}openPromptModal(e,n,t,l,r="Save",o="Cancel"){this.alertServ.openPromptModal(t,l,r,n=>{null!==n&&(console.log("result.data: ",n.data),n.data&&"Save"===n.data.button&&e===this.SAVE_END_OF_CARE&&this.saveEndOfCareFunction())})}openAlertModalValidation(e,n,t,l,r="Done"){this.alertServ.openAlertModalValidation(e,n,t,l,r,e=>{null!==e&&console.log("result.data: ",e.data)})}tapCoordinates(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log("offset: ",this.offsetY)}keyboardShowHandler(e){const n=e.keyboardHeight;console.log("show: ",e.keyboardHeight);const t=document.querySelector("ion-app").style;t.bottom=n+"px",console.log(t.bottom)}keyboardHideHandler(){console.log("gone"),document.querySelector("ion-app").removeAttribute("style")}removeIonAppStyles(){document.querySelector("ion-app").removeAttribute("style")}}class O{}var P=t("pMnS"),S=t("Jt+7"),w=t("oBZk"),y=t("s7LF"),_=t("SVse"),D=t("ChBM"),A=t("RRim"),M=t("iInd"),k=t("gly3"),N=t("Fzct"),j=t("9B/o"),I=t("h7h0"),T=t("dz+s"),x=l.Bb({encapsulation:0,styles:[["ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:20px;width:100%;margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]{margin-bottom:2vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{background:#fff;width:100%;border:none;margin-top:10px;padding:10px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{padding-left:0!important;font-size:medium}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}ion-radio[_ngcontent-%COMP%]{--color-checked:#9f9f9f;margin-right:10px!important;margin-left:0!important}"]],data:{}});function q(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(e()(),l.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function F(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,8,"ion-item",[["class","ion-no-padding"],["lines","none"]],null,null,null,w.Db,w.w)),l.Cb(1,49152,null,0,c.I,[l.j,l.p,l.G],{lines:[0,"lines"]},null),(e()(),l.Db(2,0,null,0,2,"ion-label",[],null,null,null,w.Eb,w.C)),l.Cb(3,49152,null,0,c.O,[l.j,l.p,l.G],null,null),(e()(),l.Wb(4,0,["",""])),(e()(),l.Db(5,0,null,0,3,"ion-radio",[["slot","start"]],null,[[null,"ionBlur"],[null,"ionSelect"]],(function(e,n,t){var r=!0;return"ionBlur"===n&&(r=!1!==l.Pb(e,8)._handleBlurEvent(t.target)&&r),"ionSelect"===n&&(r=!1!==l.Pb(e,8)._handleIonSelect(t.target)&&r),r}),w.Lb,w.I)),l.Tb(5120,null,y.l,(function(e){return[e]}),[c.Pb]),l.Cb(7,49152,null,0,c.bb,[l.j,l.p,l.G],{disabled:[0,"disabled"],value:[1,"value"]},null),l.Cb(8,16384,null,0,c.Pb,[l.p],null,null)],(function(e,n){var t=n.component;e(n,1,0,"none"),e(n,7,0,!t.pEndOfCareSave||!t.endCareAllowEdit,l.Hb(1,"",n.context.$implicit.id,""))}),(function(e,n){e(n,4,0,n.context.$implicit.name)}))}function U(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),l.Wb(-1,null,["You have reach the maximum character limit."]))],null,null)}function L(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),l.Wb(-1,null,["Reason is required."]))],null,null)}function Y(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l.sb(16777216,null,null,1,null,U)),l.Cb(2,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(e()(),l.sb(16777216,null,null,1,null,L)),l.Cb(4,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,t.reason.length>2e3),e(n,4,0,0===t.reason.length)}),null)}function B(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,15,"div",[["class","textSection"]],null,null,null,null,null)),(e()(),l.Db(1,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,w.Eb,w.C)),l.Cb(2,49152,null,0,c.O,[l.j,l.p,l.G],{color:[0,"color"]},null),(e()(),l.Wb(-1,0,["Reason *"])),(e()(),l.Db(4,0,null,null,9,"ion-textarea",[["class","textarea"],["name","transferred-reason"],["pattern","^(?=.*\\S).+$"],["placeholder","Enter your reason here..."],["rows","10"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(e,n,t){var r=!0,o=e.component;return"ionBlur"===n&&(r=!1!==l.Pb(e,8)._handleBlurEvent(t.target)&&r),"ionChange"===n&&(r=!1!==l.Pb(e,8)._handleInputEvent(t.target)&&r),"ngModelChange"===n&&(r=!1!==(o.reason=t)&&r),r}),w.Zb,w.X)),l.Cb(5,16384,null,0,y.t,[],{required:[0,"required"]},null),l.Cb(6,540672,null,0,y.r,[],{pattern:[0,"pattern"]},null),l.Tb(1024,null,y.k,(function(e,n){return[e,n]}),[y.t,y.r]),l.Cb(8,16384,null,0,c.Sb,[l.p],null,null),l.Tb(1024,null,y.l,(function(e){return[e]}),[c.Sb]),l.Cb(10,671744,null,0,y.q,[[2,y.b],[6,y.k],[8,null],[6,y.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l.Tb(2048,null,y.m,null,[y.q]),l.Cb(12,16384,null,0,y.n,[[4,y.m]],null,null),l.Cb(13,49152,null,0,c.zb,[l.j,l.p,l.G],{disabled:[0,"disabled"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"],rows:[4,"rows"]},null),(e()(),l.sb(16777216,null,null,1,null,Y)),l.Cb(15,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,5!==t.outcome_treatment&&"5"!==t.outcome_treatment||!(t.reason.length<=0||t.reason.length>2e3)?"dark":"danger"),e(n,5,0,5===t.outcome_treatment||"5"===t.outcome_treatment),e(n,6,0,"^(?=.*\\S).+$"),e(n,10,0,"transferred-reason",!t.pEndOfCareSave||!t.endCareAllowEdit,t.reason),e(n,13,0,!t.pEndOfCareSave||!t.endCareAllowEdit,"transferred-reason","Enter your reason here...",5===t.outcome_treatment||"5"===t.outcome_treatment,"10"),e(n,15,0,5===t.outcome_treatment||"5"===t.outcome_treatment)}),(function(e,n){e(n,4,0,l.Pb(n,5).required?"":null,l.Pb(n,6).pattern?l.Pb(n,6).pattern:null,l.Pb(n,12).ngClassUntouched,l.Pb(n,12).ngClassTouched,l.Pb(n,12).ngClassPristine,l.Pb(n,12).ngClassDirty,l.Pb(n,12).ngClassValid,l.Pb(n,12).ngClassInvalid,l.Pb(n,12).ngClassPending)}))}function R(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),l.Wb(-1,null,["Doctors Advice is required."]))],null,null)}function V(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),l.Wb(-1,null,["You have reach the maximum character limit."]))],null,null)}function G(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"app-headerbar",[["title","End of Care"]],null,null,null,D.b,D.a)),l.Cb(1,114688,null,0,A.a,[M.m,k.a,h.a,m.a,g.a,N.a,p.a,f.a,c.Nb,j.a,c.Jb,c.a],{titleToUse:[0,"titleToUse"]},null),(e()(),l.Db(2,0,null,null,63,"ion-content",[],null,null,null,w.mb,w.k)),l.Cb(3,49152,null,0,c.v,[l.j,l.p,l.G],null,null),(e()(),l.Db(4,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(e,n,t){var l=!0;return"ionRefresh"===n&&(l=!1!==e.component.doRefreshEndOfCare(t)&&l),l}),w.Nb,w.K)),l.Cb(5,49152,null,0,c.eb,[l.j,l.p,l.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(e()(),l.Db(6,0,null,0,1,"ion-refresher-content",[],null,null,null,w.Mb,w.L)),l.Cb(7,49152,null,0,c.fb,[l.j,l.p,l.G],null,null),(e()(),l.sb(16777216,null,0,1,null,q)),l.Cb(9,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(e()(),l.Db(10,0,null,0,55,"div",[["class","wrapper"]],null,null,null,null,null)),(e()(),l.Db(11,0,null,null,54,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,n,t){var r=!0;return"submit"===n&&(r=!1!==l.Pb(e,13).onSubmit(t)&&r),"reset"===n&&(r=!1!==l.Pb(e,13).onReset()&&r),r}),null,null)),l.Cb(12,16384,null,0,y.y,[],null,null),l.Cb(13,4210688,[["endOfCare",4]],0,y.p,[[8,null],[8,null]],null,null),l.Tb(2048,null,y.b,null,[y.p]),l.Cb(15,16384,null,0,y.o,[[4,y.b]],null,null),(e()(),l.Db(16,0,null,null,18,"div",[["class","textSection"]],null,null,null,null,null)),(e()(),l.Db(17,0,null,null,17,"ion-radio-group",[["name","outcome-treatment"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(e,n,t){var r=!0,o=e.component;return"ionBlur"===n&&(r=!1!==l.Pb(e,20)._handleBlurEvent(t.target)&&r),"ionChange"===n&&(r=!1!==l.Pb(e,20)._handleChangeEvent(t.target)&&r),"ngModelChange"===n&&(r=!1!==(o.outcome_treatment=t)&&r),"ionChange"===n&&(r=!1!==o.outcomeTreatmentChange(t)&&r),r}),w.Kb,w.J)),l.Cb(18,16384,null,0,y.t,[],{required:[0,"required"]},null),l.Tb(1024,null,y.k,(function(e){return[e]}),[y.t]),l.Cb(20,16384,null,0,c.Rb,[l.p],null,null),l.Tb(1024,null,y.l,(function(e){return[e]}),[c.Rb]),l.Cb(22,671744,null,0,y.q,[[2,y.b],[6,y.k],[8,null],[6,y.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l.Tb(2048,null,y.m,null,[y.q]),l.Cb(24,16384,null,0,y.n,[[4,y.m]],null,null),l.Cb(25,49152,null,0,c.cb,[l.j,l.p,l.G],{name:[0,"name"]},null),(e()(),l.Db(26,0,null,0,6,"ion-list-header",[["class","textLabel"]],null,null,null,w.Fb,w.E)),l.Cb(27,49152,null,0,c.Q,[l.j,l.p,l.G],null,null),(e()(),l.Db(28,0,null,0,2,"ion-label",[["color","danger"]],null,null,null,w.Eb,w.C)),l.Cb(29,49152,null,0,c.O,[l.j,l.p,l.G],{color:[0,"color"]},null),(e()(),l.Wb(-1,0,["Outcome Treatment *"])),(e()(),l.Db(31,0,null,0,1,"app-modified-b-toast",[],null,null,null,I.b,I.a)),l.Cb(32,114688,null,0,T.a,[c.Tb],{modifiedBy:[0,"modifiedBy"],modifiedDate:[1,"modifiedDate"]},null),(e()(),l.sb(16777216,null,0,1,null,F)),l.Cb(34,278528,null,0,_.k,[l.Y,l.U,l.y],{ngForOf:[0,"ngForOf"]},null),(e()(),l.sb(16777216,null,null,1,null,B)),l.Cb(36,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(e()(),l.Db(37,0,null,null,17,"div",[["class","textSection"]],null,null,null,null,null)),(e()(),l.Db(38,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,w.Eb,w.C)),l.Cb(39,49152,null,0,c.O,[l.j,l.p,l.G],{color:[0,"color"]},null),(e()(),l.Wb(-1,0,["Doctors Advice *"])),(e()(),l.Db(41,0,null,null,9,"ion-textarea",[["class","textarea"],["name","doctor-advice"],["pattern","^(?=.*\\S).+$"],["placeholder","Enter your advice here..."],["required",""],["rows","10"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(e,n,t){var r=!0,o=e.component;return"ionBlur"===n&&(r=!1!==l.Pb(e,45)._handleBlurEvent(t.target)&&r),"ionChange"===n&&(r=!1!==l.Pb(e,45)._handleInputEvent(t.target)&&r),"ngModelChange"===n&&(r=!1!==(o.doctors_advice=t)&&r),r}),w.Zb,w.X)),l.Cb(42,16384,null,0,y.t,[],{required:[0,"required"]},null),l.Cb(43,540672,null,0,y.r,[],{pattern:[0,"pattern"]},null),l.Tb(1024,null,y.k,(function(e,n){return[e,n]}),[y.t,y.r]),l.Cb(45,16384,null,0,c.Sb,[l.p],null,null),l.Tb(1024,null,y.l,(function(e){return[e]}),[c.Sb]),l.Cb(47,671744,null,0,y.q,[[2,y.b],[6,y.k],[8,null],[6,y.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l.Tb(2048,null,y.m,null,[y.q]),l.Cb(49,16384,null,0,y.n,[[4,y.m]],null,null),l.Cb(50,49152,null,0,c.zb,[l.j,l.p,l.G],{disabled:[0,"disabled"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"],rows:[4,"rows"]},null),(e()(),l.sb(16777216,null,null,1,null,R)),l.Cb(52,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(e()(),l.sb(16777216,null,null,1,null,V)),l.Cb(54,16384,null,0,_.l,[l.Y,l.U],{ngIf:[0,"ngIf"]},null),(e()(),l.Db(55,0,null,null,10,"div",[["class","ion-padding"]],null,null,null,null,null)),(e()(),l.Db(56,0,null,null,4,"ion-button",[["expand","block"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.saveEndOfCare()&&l),l}),w.fb,w.d)),l.Cb(57,49152,null,0,c.l,[l.j,l.p,l.G],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(e()(),l.Db(58,0,null,0,1,"ion-icon",[["name","paper-plane"]],null,null,null,w.ub,w.s)),l.Cb(59,49152,null,0,c.D,[l.j,l.p,l.G],{name:[0,"name"]},null),(e()(),l.Wb(-1,0,[" Save"])),(e()(),l.Db(61,0,null,null,4,"ion-button",[["expand","block"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=0!=(r.endCareAllowEdit=!r.endCareAllowEdit)&&l),l}),w.fb,w.d)),l.Cb(62,49152,null,0,c.l,[l.j,l.p,l.G],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(e()(),l.Db(63,0,null,0,1,"ion-icon",[["name","create"]],null,null,null,w.ub,w.s)),l.Cb(64,49152,null,0,c.D,[l.j,l.p,l.G],{name:[0,"name"]},null),(e()(),l.Wb(-1,0,[" Edit"]))],(function(e,n){var t=n.component;e(n,1,0,"End of Care"),e(n,5,0,"0.5","200","100"),e(n,9,0,t.loginService.inTestServer),e(n,18,0,""),e(n,22,0,"outcome-treatment",t.outcome_treatment),e(n,25,0,"outcome-treatment"),e(n,29,0,"danger"),e(n,32,0,t.endCaremodified.modified_by,t.endCaremodified.modified_dt),e(n,34,0,t.outcomeList),e(n,36,0,5===t.outcome_treatment||"5"===t.outcome_treatment),e(n,39,0,t.doctors_advice.length<=0||t.doctors_advice.length>2e3?"danger":"dark"),e(n,42,0,""),e(n,43,0,"^(?=.*\\S).+$"),e(n,47,0,"doctor-advice",!t.pEndOfCareSave||!t.endCareAllowEdit,t.doctors_advice),e(n,50,0,!t.pEndOfCareSave||!t.endCareAllowEdit,"doctor-advice","Enter your advice here...","","10"),e(n,52,0,t.doctors_advice.length<=0),e(n,54,0,t.doctors_advice.length>2e3),e(n,57,0,l.Pb(n,13).invalid||!t.pEndOfCareSave||!t.endCareAllowEdit||t.doctors_advice.length>2e3||t.reason.length>2e3&&t.outcome_treatment&&(5===t.outcome_treatment||"5"===t.outcome_treatment),"block"),e(n,59,0,"paper-plane"),e(n,62,0,!t.pEndOfCareSave,"block","button"),e(n,64,0,"create")}),(function(e,n){var t=n.component;e(n,11,0,l.Pb(n,15).ngClassUntouched,l.Pb(n,15).ngClassTouched,l.Pb(n,15).ngClassPristine,l.Pb(n,15).ngClassDirty,l.Pb(n,15).ngClassValid,l.Pb(n,15).ngClassInvalid,l.Pb(n,15).ngClassPending),e(n,17,0,l.Pb(n,18).required?"":null,l.Pb(n,24).ngClassUntouched,l.Pb(n,24).ngClassTouched,l.Pb(n,24).ngClassPristine,l.Pb(n,24).ngClassDirty,l.Pb(n,24).ngClassValid,l.Pb(n,24).ngClassInvalid,l.Pb(n,24).ngClassPending),e(n,41,0,l.Pb(n,42).required?"":null,l.Pb(n,43).pattern?l.Pb(n,43).pattern:null,l.Pb(n,49).ngClassUntouched,l.Pb(n,49).ngClassTouched,l.Pb(n,49).ngClassPristine,l.Pb(n,49).ngClassDirty,l.Pb(n,49).ngClassValid,l.Pb(n,49).ngClassInvalid,l.Pb(n,49).ngClassPending),e(n,56,0,!t.endCareAllowEdit),e(n,61,0,t.endCareAllowEdit)}))}function J(e){return l.Yb(0,[(e()(),l.Db(0,0,null,null,1,"app-end-of-care",[],null,null,null,G,x)),l.Cb(1,114688,null,0,E,[b,h.a,g.a,m.a,p.a,f.a,C.a,v.a,c.Ib],null,null)],(function(e,n){e(n,1,0)}),null)}var H=l.zb("app-end-of-care",E,J,{},{},[]),W=t("gRf5"),z=t("wMzM"),Z=t("t8sF"),K=t("/nUa"),X=t("j1ZV");t.d(n,"EndOfCarePageModuleNgFactory",(function(){return $}));var $=l.Ab(O,[],(function(e){return l.Mb([l.Nb(512,l.m,l.lb,[[8,[P.a,S.a,H]],[3,l.m],l.E]),l.Nb(4608,_.n,_.m,[l.A,[2,_.C]]),l.Nb(4608,y.w,y.w,[]),l.Nb(4608,c.b,c.b,[l.G,l.g]),l.Nb(4608,c.Jb,c.Jb,[c.b,l.m,l.w]),l.Nb(4608,c.Ob,c.Ob,[c.b,l.m,l.w]),l.Nb(4608,u.j,u.p,[_.d,l.J,u.n]),l.Nb(4608,u.q,u.q,[u.j,u.o]),l.Nb(5120,u.a,(function(e){return[e]}),[u.q]),l.Nb(4608,u.m,u.m,[]),l.Nb(6144,u.k,null,[u.m]),l.Nb(4608,u.i,u.i,[u.k]),l.Nb(6144,u.b,null,[u.i]),l.Nb(4608,u.f,u.l,[u.b,l.w]),l.Nb(4608,u.c,u.c,[u.f]),l.Nb(4608,W.a,W.a,[]),l.Nb(4608,z.a,z.a,[]),l.Nb(4608,Z.a,Z.a,[]),l.Nb(4608,N.a,N.a,[z.a,W.a,Z.a,K.a,p.a]),l.Nb(1073742336,_.c,_.c,[]),l.Nb(1073742336,y.v,y.v,[]),l.Nb(1073742336,y.i,y.i,[]),l.Nb(1073742336,c.Fb,c.Fb,[]),l.Nb(1073742336,M.q,M.q,[[2,M.v],[2,M.m]]),l.Nb(1073742336,u.e,u.e,[]),l.Nb(1073742336,u.d,u.d,[]),l.Nb(1073742336,X.a,X.a,[]),l.Nb(1073742336,O,O,[]),l.Nb(256,u.n,"XSRF-TOKEN",[]),l.Nb(256,u.o,"X-XSRF-TOKEN",[]),l.Nb(1024,M.k,(function(){return[[{path:"",component:E}]]}),[])])}))},z6cu:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var l=t("HDdC");function r(e,n){return new l.a(n?t=>n.schedule(o,0,{error:e,subscriber:t}):n=>n.error(e))}function o({error:e,subscriber:n}){n.error(e)}}}]);