{"version":3,"sources":["./src/app/pages/encounter-history/encounter-history.page.html","./src/app/app/services/alert-service.service.ts","./src/app/pages/encounter-history/encounter-history.module.ts","./src/app/pages/encounter-history/encounter-history.page.scss","./src/app/pages/encounter-history/encounter-history.page.ts","./src/app/services/encounter-history-api.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,8tBAA+pB,6ZAA6Z,wBAAwB,8IAA8I,oBAAoB,oGAAoG,oBAAoB,oGAAoG,oBAAoB,0EAA0E,qBAAqB,oUAAoU,0BAA0B,kDAAkD,wBAAwB,gX;;;;;;;;;;;;;;;;;;;ACAj9D;AACwC;AACJ;AAK/E,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;IAG9B,YACU,SAA0B,EAC1B,eAAgC,EAChC,eAAgC;QAFhC,cAAS,GAAT,SAAS,CAAiB;QAC1B,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;IACtC,CAAC;IAGC,UAAU,CAAC,OAAO;;YACtB,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC;YAC5C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,OAAO,EAAE,OAAO;gBAChB,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAEK,wBAAwB,CAAC,KAAa,EAAE,KAAa,EAAE,OAAe,EAAE,YAAY,EAAE,KAAa,MAAM,EAAE,UAAU,GAAG,CAAC,MAAM,EAAC,EAAE,GAAC,CAAC;;YACxI,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,4FAAe;gBAC1B,QAAQ,EAAE,2BAA2B;gBACrC,cAAc,EAAE;oBACd,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,YAAY;oBACZ,EAAE;iBACH;aACF,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBACnC,UAAU,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAEK,eAAe,CAAC,KAAa,EAAE,OAAe,EAAG,KAAa,MAAM,EAAE,UAAU,GAAG,CAAC,MAAM,EAAC,EAAE,GAAC,CAAC,EAAE,SAAiB,QAAQ,EAAE,cAAc,GAAG,CAAC,MAAM,EAAC,EAAE,GAAC,CAAC;;YAC7J,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,4FAAe;gBAC1B,QAAQ,EAAE,qBAAqB;gBAC/B,cAAc,EAAE;oBACd,MAAM;oBACN,KAAK;oBACL,OAAO;oBACP,MAAM;oBACN,EAAE;iBACH;aACF,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBACnC,UAAU,CAAC,MAAM,CAAC,CAAC;gBACnB,cAAc,CAAC,MAAM,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAGK,cAAc,CAAC,KAAa,EAAE,KAAa,EAAE,OAAe,EAAE,KAAa,MAAM,EAAE,UAAU,GAAG,CAAC,MAAM,EAAC,EAAE,GAAC,CAAC;;YAChH,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,4FAAe;gBAC1B,2BAA2B;gBAC3B,QAAQ,EAAE,qBAAqB;gBAC/B,cAAc,EAAE;oBACd,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,EAAE;iBACH;aACF,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBACnC,UAAU,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAGK,WAAW,CACf,MAAM,GAAC,EAAE,EACT,SAAS,GAAC,EAAE,EACZ,OAAO,GAAC,EAAE,EACV,MAAM,GAAC,EAAE,EACT,OAAO,GAAC,EAAE,EACV,eAAe,GAAC,IAAI,EACpB,aAAa,GAAC,IAAI;;YAGpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC3C,MAAM;gBACN,SAAS;gBACT,OAAO;gBACP,eAAe;gBACf,aAAa;gBACb,MAAM;gBACN,OAAO;aACR,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC7B,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAGK,gBAAgB,CACpB,MAAM,GAAC,EAAE,EACT,SAAS,GAAC,EAAE,EACZ,OAAO,GAAC,EAAE,EACV,eAAe,GAAC,IAAI,EACpB,aAAa,GAAC,IAAI,EAClB,MAAM,GAAC,EAAE,EACT,UAAc,EAAE,EAChB,UAAU,GAAG,GAAE,EAAE,GAAC,CAAC,EACnB,UAAU,GAAG,GAAE,EAAE,GAAC,CAAC;;YAGnB,IAAG,OAAO,CAAC,MAAM,IAAI,CAAC;gBACpB,OAAO,GAAG;oBACR;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,UAAU,EAAE,CAAC;wBACf,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,UAAU,EAAE,CAAC;wBACf,CAAC;qBACF;iBACF,CAAC;YAGJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC7C,MAAM,EAAC,EAAE;gBACT,SAAS,EAAC,EAAE;gBACZ,eAAe;gBACf,aAAa;gBACb,OAAO,EAAC,EAAE;gBACV,MAAM;gBACN,OAAO;aACR,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC7B,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;CAGF;;YAjJsB,8DAAe;YACT,8DAAe;YACf,8DAAe;;AAN/B,mBAAmB;IAH/B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;2EAKqB,8DAAe;QACT,8DAAe;QACf,8DAAe;GAN/B,mBAAmB,CAqJ/B;AArJ+B;;;;;;;;;;;;;;;;;;;;;;;;ACPS;AACM;AACF;AACU;AAEV;AAEmB;AACQ;AAExE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4EAAoB;KAChC;IACD;QACE,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,mBAAmB;gBACzB,YAAY,EAAE,0EAA0E;aACzF;SACF;KACF;CACF,CAAC;AAYF,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;CAAG;AAA7B,0BAA0B;IAVtC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,8EAAgB;SACjB;QACD,YAAY,EAAE,CAAC,4EAAoB,CAAC;KACrC,CAAC;GACW,0BAA0B,CAAG;AAAH;;;;;;;;;;;;;ACpCvC;AAAe,+EAAgB,eAAe,GAAG,2BAA2B,kCAAkC,GAAG,iBAAiB,wBAAwB,oCAAoC,GAAG,0BAA0B,gBAAgB,GAAG,oDAAoD,sBAAsB,wBAAwB,oCAAoC,uBAAuB,GAAG,6DAA6D,mCAAmC,GAAG,sEAAsE,yBAAyB,GAAG,8EAA8E,gBAAgB,GAAG,sFAAsF,mBAAmB,GAAG,oFAAoF,gBAAgB,qBAAqB,GAAG,sFAAsF,gBAAgB,GAAG,sGAAsG,wBAAwB,wBAAwB,+BAA+B,4BAA4B,uBAAuB,iCAAiC,mBAAmB,uBAAuB,GAAG,6CAA6C,uwI;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtzC;AACT;AACmD;AAE1B;AACyB;AAClB;AACf;AACI;AACI;AACS;AACF;AAEQ;AAOjF,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;IAQ/B,YACU,MAAc,EACd,YAAwC,EACxC,cAA8B,EAC9B,iBAAoC,EACpC,UAAsB,EACvB,YAA0B,EACzB,cAA8B,EAC9B,kBAAsC,EACtC,SAA8B,EAC9B,cAA8B,EAC9B,0BAAsD,EACtD,MAAc;QAXd,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,eAAU,GAAV,UAAU,CAAY;QACvB,iBAAY,GAAZ,YAAY,CAAc;QACzB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,cAAS,GAAT,SAAS,CAAqB;QAC9B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,WAAM,GAAN,MAAM,CAAQ;QAlBxB,kBAAa,GAAG,EAAE,CAAC;QAGnB,YAAO,GAAG,KAAK,CAAC;QAChB,aAAQ,GAAG,IAAI,CAAC;QAgBd,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,CAAC;QACnE,IAAI,CAAC,cAAc,GAAG,iBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CAAC;QAC5G,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACjC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC;QACxE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC,KAAK,CAAC,CAAC;QACxE,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;QAC7D,MAAM,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;QAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IAChC,CAAC;IAED,oBAAoB;QAClB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC9B,MAAM,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,kCAAkC,EAAE,CAAC;YACjF,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACnF,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;gBAC9B,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACpB,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,GAAG,CAAC,EAAE;gBACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrC,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oBAC/D,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;oBAC/D,MAAM,CAAC,GAAG,CAAC,CAAC;gBACd,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QACd,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAChC,MAAM,uBAAuB,GAAG,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC;QAC7E,IAAI,IAAI,CAAC,mBAAmB,KAAK,uBAAuB,EAAE;YACxD,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YACxC,IAAI,CAAC,mBAAmB,GAAG,uBAAuB,CAAC;YACnD,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QACnD,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QACtD,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,KAAa;QACvB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QACnE,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QAC/D,+GAA+G;QAC/G,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC9B,IAAI,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,MAA+B,EAAE,EAAE;gBACjH,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,cAAc,CAAC,kCAAkC,CAAC,MAAM,CAAC,CAAC;oBAC/D,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;oBAChE,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBAC3D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;oBAE5D,gCAAgC;oBAChC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,EAAE,EAAC,kBAAkB,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;gBAChG,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACT,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBACzB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrC,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oBAC/D,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;gBACjE,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,OAAO,EAAE;YACvB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC9B,IAAI,CAAC,iBAAiB,CAAC,6BAA6B,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,MAA+B,EAAE,EAAE;gBACzH,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,cAAc,CAAC,kCAAkC,CAAC,MAAM,CAAC,CAAC;oBAC/D,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;oBAChE,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBAC3D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;oBAC5D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,6BAA6B,CAAC,EAAE,EAAC,kBAAkB,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;gBACtG,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACT,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBACzB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACrC,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oBAC/D,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;gBACjE,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,yBAAyB,CAAC,KAAU;QAClC,IAAI,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;YACnC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;YACX,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;CAGF;;YAtHmB,sDAAM;YACA,kGAA0B;YACxB,wEAAc;YACX,+EAAiB;YACxB,gEAAU;YACT,oEAAY;YACT,wEAAc;YACV,kFAAkB;YAC3B,+FAAmB;YACd,8DAAc;YACF,iGAA0B;YAC9C,sDAAM;;AApBb,oBAAoB;IALhC,+DAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;QACjC,mPAA4C;;KAE7C,CAAC;2EAUkB,sDAAM;QACA,kGAA0B;QACxB,wEAAc;QACX,+EAAiB;QACxB,gEAAU;QACT,oEAAY;QACT,wEAAc;QACV,kFAAkB;QAC3B,+FAAmB;QACd,8DAAc;QACF,iGAA0B;QAC9C,sDAAM;GApBb,oBAAoB,CA+HhC;AA/HgC;;;;;;;;;;;;;;;;;;;;;;;ACpBU;AACe;AACN;AACuB;AAC7B;AACJ;AAK1C,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;IAKrC,YACU,UAAsB,EACtB,IAAU,EACV,QAAkB;QAFlB,eAAU,GAAV,UAAU,CAAY;QACtB,SAAI,GAAJ,IAAI,CAAM;QACV,aAAQ,GAAR,QAAQ,CAAU;QAPpB,QAAG,GAAG,uBAAuB,CAAC;QAE9B,yBAAoB,GAAG,gCAAgC,CAAC;IAM5D,CAAC;IAEE,MAAM,CAAC,GAAW;QACvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAEM,QAAQ,CAAC,KAAa;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAEM,gBAAgB,CAAC,GAAW;QACjC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC1D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,MAAM,MAAM,GAAG;gBACb,GAAG;aACJ,CAAC;YACF,MAAM,OAAO,GAAG;gBACd,MAAM,EAAE,kBAAkB;gBAC1B,cAAc,EAAE,kBAAkB;gBAClC,aAAa,EAAE,SAAS,GAAG,IAAI,CAAC,KAAK;aACtC,CAAC;YAEF,OAAO,iDAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,oBAAoB,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAClF,0DAAG,CAAC,CAAC,QAAa,EAAE,EAAE;gBACpB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC5C,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC;gBAC9C,OAAO,SAAS,CAAC;YACnB,CAAC,CAAC,EACF,iEAAU,CAAC,CAAC,GAAQ,EAAE,MAA4B,EAAE,EAAE;gBACpD,IAAI,OAAO,GAAG,CAAC,KAAK,KAAK,QAAQ,EAAE;oBACjC,IAAI;wBACF,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;qBACnC;oBAAC,OAAO,CAAC,EAAE;wBACV,aAAa;qBACd;iBACF;gBACD,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;gBACtD,OAAO,uDAAU,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC,CAAC,CACH,CAAC;SACL;aAAM;YACL,MAAM,WAAW,GAAG;gBAClB,MAAM,EAAE,IAAI,+DAAU,EAAE;qBACrB,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC;gBAClB,OAAO,EAAE,IAAI,gEAAW,CAAC;oBACvB,MAAM,EAAE,kBAAkB;oBAC1B,aAAa,EAAE,SAAS,GAAG,IAAI,CAAC,KAAK;oBACrC,6BAA6B,EAAE,GAAG;iBACnC,CAAC;aACH,CAAC;YACF,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAC,IAAI,CACnF,0DAAG,CAAC,CAAC,QAAa,EAAE,EAAE;gBACrB,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,QAAQ,CAAC,CAAC;gBACvD,OAAO,QAAQ,CAAC;YACjB,CAAC,CAAC,EACF,iEAAU,CAAC,CAAC,GAAQ,EAAE,MAA4B,EAAE,EAAE;gBACrD,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBACzB,OAAO,uDAAU,CAAC,GAAG,CAAC,CAAC;YACxB,CAAC,CAAC,CACF,CAAC;SACD;IACJ,CAAC;CACD;;YAjEuB,+DAAU;YAChB,2DAAI;YACA,uDAAQ;;AARjB,0BAA0B;IAHtC,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;2EAOsB,+DAAU;QAChB,2DAAI;QACA,uDAAQ;GARjB,0BAA0B,CAuEtC;AAvEsC","file":"encounter-history-encounter-history-module-es2015.js","sourcesContent":["export default \"<app-headerbar title=\\\"Encounter History\\\"></app-headerbar>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"doRefreshEncounterHistory($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"wrapper\\\">\\r\\n    <div class=\\\"testServer\\\" *ngIf=\\\"loginService.inTestServer\\\">\\r\\n      TEST SERVER CONECTED\\r\\n    </div>\\r\\n    <ion-list>\\r\\n      <div class=\\\"noresult\\\" *ngIf=\\\"(encounterList && encounterList.length < 1) || !(encounterList)\\\">\\r\\n        No History\\r\\n      </div>\\r\\n      <ion-item-sliding *ngFor=\\\"let encounter of encounterList; let i = index\\\">\\r\\n        <ion-item>\\r\\n          <ion-grid>\\r\\n            <ion-row class=\\\"smallestText\\\">\\r\\n              <ion-col size=\\\"4\\\">Encounter No.</ion-col>\\r\\n              <ion-col size=\\\"3\\\">Patient Type</ion-col>\\r\\n              <ion-col size=\\\"5\\\">Clinic/Department</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextBlack\\\">\\r\\n              <ion-col size=\\\"4\\\">{{encounter.encounter_no}}</ion-col>\\r\\n              <ion-col size=\\\"3\\\">\\r\\n                <div class=\\\"blueBackground\\\" *ngIf=\\\"encounter.deptenc_code == 'ope'\\\">{{defaultOptions.ope}}</div>\\r\\n                <div class=\\\"blueBackground\\\" *ngIf=\\\"encounter.deptenc_code == 'ipe'\\\">{{defaultOptions.ipe}}</div>\\r\\n                <div class=\\\"blueBackground\\\" *ngIf=\\\"encounter.deptenc_code == 'ere'\\\">{{defaultOptions.ere}}</div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"5\\\">{{encounter.area_desc}}</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallestText\\\">\\r\\n              <ion-col size=\\\"6\\\">Admission Date</ion-col>\\r\\n              <ion-col size=\\\"6\\\">Discharge Date</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextBlack\\\">\\r\\n              <ion-col size=\\\"6\\\">{{encounter.encounter_date}}</ion-col>\\r\\n              <ion-col size=\\\"6\\\">{{encounter.discharge_dt}}</ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </ion-item>\\r\\n        <ion-item-options side=\\\"end\\\">\\r\\n          <ion-item-option (click)=\\\"showDetails(i)\\\"><ion-icon ios=\\\"ios-eye\\\" md=\\\"md-eye\\\"></ion-icon></ion-item-option>\\r\\n        </ion-item-options>\\r\\n      </ion-item-sliding>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { Injectable } from '@angular/core';\r\nimport { ToastController, ModalController, AlertController } from '@ionic/angular';\r\nimport { PromptModalPage } from 'src/app/pages/prompt-modal/prompt-modal.page';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlertServiceService {\r\n  private nativeAlert;\r\n  \r\n  constructor(\r\n    private toastCtrl: ToastController,\r\n    private modalController: ModalController,\r\n    private alertController: AlertController,\r\n  ) { }\r\n    \r\n\r\n  async alertToast(message){\r\n    console.log('AlertToast Message:', message);\r\n    const toast = await this.toastCtrl.create({\r\n      message: message,\r\n      duration: 8000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async openAlertModalValidation(alert: string, title: string, message: string, messageArray, ok: string = 'Done', okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      cssClass: 'my-custom-modal-array-css',\r\n      componentProps: {\r\n        alert,\r\n        title,\r\n        message,\r\n        messageArray,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openPromptModal(title: string, message: string,  ok: string = 'Save', okCallBack = (result)=>{}, cancel: string = 'Cancel', cancelCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        prompt,\r\n        title,\r\n        message,\r\n        cancel,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n      cancelCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n  \r\n\r\n  async openAlertModal(alert: string, title: string, message: string, ok: string = 'Done', okCallBack = (result)=>{}) {\r\n    const modal = await this.modalController.create({\r\n      component: PromptModalPage,\r\n      // cssClass: 'auto-height',\r\n      cssClass: 'my-custom-modal-css',\r\n      componentProps: {\r\n        alert,\r\n        title,\r\n        message,\r\n        ok\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      okCallBack(result);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  async prompNAlert(\r\n    header='',\r\n    subHeader='',\r\n    message='',\r\n    inputs=[], \r\n    buttons=[],\r\n    backdropDismiss=true,\r\n    keyboardClose=true\r\n  ){\r\n  \r\n  this.nativeAlert = this.alertController.create({\r\n      header,\r\n      subHeader,\r\n      message,\r\n      backdropDismiss,\r\n      keyboardClose,\r\n      inputs,\r\n      buttons\r\n    }).then(alert => {\r\n      this.nativeAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n  async prompInputNAlert(\r\n    header='',\r\n    subHeader='',\r\n    message='',\r\n    backdropDismiss=true,\r\n    keyboardClose=true,\r\n    inputs=[], \r\n    buttons:any = [],\r\n    callBackOk = ()=>{}, \r\n    callBackNo = ()=>{}\r\n  ){\r\n    \r\n    if(buttons.length == 0)\r\n      buttons = [\r\n        {\r\n          text: 'OK',\r\n          handler: data => {\r\n            callBackOk();\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            callBackNo();\r\n          }\r\n        }\r\n      ];\r\n\r\n\r\n    this.nativeAlert = this.alertController.create({\r\n      header:'',\r\n      subHeader:'',\r\n      backdropDismiss,\r\n      keyboardClose,\r\n      message:'',\r\n      inputs,\r\n      buttons\r\n    }).then(alert => {\r\n      this.nativeAlert.present();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EncounterHistoryPage } from './encounter-history.page';\r\nimport { ComponentsModule } from './../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EncounterHistoryPage\r\n  },\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: 'encounter-details',\r\n        loadChildren: '../encounter-details/encounter-details.module#EncounterDetailsPageModule'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [EncounterHistoryPage]\r\n})\r\nexport class EncounterHistoryPageModule {}\r\n","export default \"ion-refresher {\\n  z-index: 1;\\n}\\n\\nion-refresher-content {\\n  background-color: transparent;\\n}\\n\\nion-content {\\n  background: #f9f9f9;\\n  --ion-background-color: #f9f9f9;\\n}\\n\\nion-content .wrapper {\\n  width: 100%;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding {\\n  background: white;\\n  --background: white;\\n  --ion-background-color: #ffffff;\\n  margin-bottom: 1vh;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item {\\n  border-left: solid 1vw #0096c6;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid {\\n  padding: 2vh 0 2vh 0;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row {\\n  width: 100%;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row ion-col {\\n  padding: unset;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallestText {\\n  color: #999;\\n  font-size: small;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack {\\n  color: #444;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .blueBackground {\\n  background: #0096c6;\\n  border-radius: 10px;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  padding: 0.5vh 2vw 0.5vh 2vw;\\n  color: #ffffff;\\n  font-size: x-small;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZW5jb3VudGVyLWhpc3RvcnkvRDpcXHByb2plY3RzXFxpb25pY3NcXGVoci1tb2JpbGUvc3JjXFxhcHBcXHBhZ2VzXFxlbmNvdW50ZXItaGlzdG9yeVxcZW5jb3VudGVyLWhpc3RvcnkucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9lbmNvdW50ZXItaGlzdG9yeS9lbmNvdW50ZXItaGlzdG9yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSw2QkFBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSwrQkFBQTtBQ0NGOztBRENFO0VBQ0UsV0FBQTtBQ0NKOztBREdNO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7QUNEUjs7QURHUTtFQUNFLDhCQUFBO0FDRFY7O0FER1U7RUFDRSxvQkFBQTtBQ0RaOztBREVZO0VBQ0UsV0FBQTtBQ0FkOztBREVjO0VBQ0UsY0FBQTtBQ0FoQjs7QURJWTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ0ZkOztBREtZO0VBQ0UsV0FBQTtBQ0hkOztBREtjO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FDSGhCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZW5jb3VudGVyLWhpc3RvcnkvZW5jb3VudGVyLWhpc3RvcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXJlZnJlc2hlciB7XHJcbiAgei1pbmRleDogMTtcclxufVxyXG5cclxuaW9uLXJlZnJlc2hlci1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuaW9uLWNvbnRlbnQge1xyXG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XHJcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuXHJcbiAgLndyYXBwZXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgaW9uLWxpc3Qge1xyXG5cclxuICAgICAgaW9uLWl0ZW0tc2xpZGluZyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDF2aDtcclxuXHJcbiAgICAgICAgaW9uLWl0ZW0ge1xyXG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xyXG5cclxuICAgICAgICAgIGlvbi1ncmlkIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMnZoIDAgMnZoIDA7XHJcbiAgICAgICAgICAgIGlvbi1yb3cge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAgICAgICBpb24tY29sIHtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IHVuc2V0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsZXN0VGV4dCB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM5OTk7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiBzbWFsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsVGV4dEJsYWNrIHtcclxuICAgICAgICAgICAgICBjb2xvcjogIzQ0NDtcclxuXHJcbiAgICAgICAgICAgICAgLmJsdWVCYWNrZ3JvdW5kIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDk2YzY7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41dmggMnZ3IDAuNXZoIDJ2dztcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuIiwiaW9uLXJlZnJlc2hlciB7XG4gIHotaW5kZXg6IDE7XG59XG5cbmlvbi1yZWZyZXNoZXItY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5pb24tY29udGVudCB7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG59XG5pb24tY29udGVudCAud3JhcHBlciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICBtYXJnaW4tYm90dG9tOiAxdmg7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIHtcbiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCB7XG4gIHBhZGRpbmc6IDJ2aCAwIDJ2aCAwO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCBpb24tcm93IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIGlvbi1yb3cgaW9uLWNvbCB7XG4gIHBhZGRpbmc6IHVuc2V0O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxlc3RUZXh0IHtcbiAgY29sb3I6ICM5OTk7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5zbWFsbFRleHRCbGFjayB7XG4gIGNvbG9yOiAjNDQ0O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxUZXh0QmxhY2sgLmJsdWVCYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZDogIzAwOTZjNjtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBwYWRkaW5nOiAwLjV2aCAydncgMC41dmggMnZ3O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgZm9udC1zaXplOiB4LXNtYWxsO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { EncounterHistoryApiService } from './../../services/encounter-history-api.service';\r\nimport { PatientBriefInformation } from './../../models/patient-brief-information';\r\nimport { PatientService } from './../../services/patient.service';\r\nimport { PermissionValidatorService } from './../../services/permission-validator.service';\r\nimport { PatientApiService } from './../../services/patient-api.service';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { LoginService } from './../../services/login.service';\r\nimport { LoadingService } from './../../services/loading.service';\r\nimport { StringUtilsService } from './../../services/string-utils.service';\r\nimport { ModalController, Events, MenuController } from '@ionic/angular';\r\nimport { PromptModalPage } from './../../pages/prompt-modal/prompt-modal.page';\r\nimport { AlertServiceService } from 'src/app/app/services/alert-service.service';\r\n\r\n@Component({\r\n  selector: 'app-encounter-history',\r\n  templateUrl: './encounter-history.page.html',\r\n  styleUrls: ['./encounter-history.page.scss'],\r\n})\r\nexport class EncounterHistoryPage implements OnInit {\r\n  selectedEncounterNo: string;\r\n  encounterList = [];\r\n  defaultOptions: any;\r\n\r\n  isNurse = false;\r\n  isDoctor = true;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private encounterApi: EncounterHistoryApiService,\r\n    private patientService: PatientService,\r\n    private patientApiService: PatientApiService,\r\n    private apiService: ApiService,\r\n    public loginService: LoginService,\r\n    private loadingService: LoadingService,\r\n    private stringUtilsService: StringUtilsService,\r\n    private alertServ: AlertServiceService,    \r\n    private menuController: MenuController,\r\n    private permissionValidatorService: PermissionValidatorService,\r\n    private events: Events\r\n  ) {\r\n    const configAndDefaults = this.loginService.getConfigAndDefaults();\r\n    this.defaultOptions = configAndDefaults.patientlist['m-patient-list']['default-options']['encounter-types'];\r\n    console.log(this.defaultOptions);\r\n    this.selectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    this.encounterApi.setUrl(this.apiService.getUrl());\r\n    this.encounterApi.setToken(this.loginService.getAuthentication().token);\r\n    const authentication = this.loginService.getAuthentication();\r\n    const role = authentication.user.role.role_name;\r\n    this.isNurse = role.toLocaleLowerCase().indexOf('nurse') !== -1;\r\n    this.isDoctor = !this.isNurse;\r\n  }\r\n\r\n  initEncounterHistory(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.loadingService.present();\r\n      const selectedPatient = this.patientService.getSelectedPatientBriefInformation();\r\n      console.log(selectedPatient.spin0.pid);\r\n      this.encounterApi.getEncounterList(selectedPatient.spin0.pid).subscribe((response) => {\r\n        this.encounterList = response;\r\n        this.loadingService.dismiss().then(_ => {\r\n          resolve(response);\r\n        });\r\n      }, err => {\r\n        console.log(err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n          reject(err);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    console.log('ionViewWillEnter');\r\n    const tempSelectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    if (this.selectedEncounterNo !== tempSelectedEncounterNo) {\r\n      console.log('selected patient changed');\r\n      this.selectedEncounterNo = tempSelectedEncounterNo;\r\n      this.initEncounterHistory();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.menuController.swipeGesture(true, 'mainMenu');\r\n    this.menuController.swipeGesture(true, 'accountMenu');\r\n    this.initEncounterHistory();\r\n  }\r\n\r\n  showDetails(index: number) {\r\n    const encounter = this.encounterList[index];\r\n    console.log(encounter);\r\n    this.patientService.setSelectedEncounterNo(encounter.encounter_no);\r\n    this.patientService.setTempEncounterNo(encounter.encounter_no);\r\n    // this.router.navigate(['/menu/encounter-history/encounter-details', {encounter_no: encounter.encounter_no}]);\r\n    if (this.isDoctor) {\r\n      this.loadingService.present();\r\n      this.patientApiService.getPatientProfileById(encounter.encounter_no).subscribe((result: PatientBriefInformation) => {\r\n        console.log(result);\r\n        this.loadingService.dismiss().then(_ => {\r\n          this.patientService.setSelectedPatientBriefInformation(result);\r\n          this.patientService.setSelectedEncounterNo(result.encounter_no);\r\n          this.permissionValidatorService.setSelectedPatient(result);\r\n          this.events.publish('patient:selected', result, Date.now());\r\n\r\n          // skipLocationChange replaceUrl\r\n          this.router.navigate(['/menu/patient-profile'], {skipLocationChange: true, replaceUrl: true});\r\n        });\r\n      }, (err) => {\r\n        console.log('err ', err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n        });\r\n      });\r\n    } else if (this.isNurse) {\r\n      this.loadingService.present();\r\n      this.patientApiService.getPatientProfileByIdForNurse(encounter.encounter_no).subscribe((result: PatientBriefInformation) => {\r\n        console.log(result);\r\n        this.loadingService.dismiss().then(_ => {\r\n          this.patientService.setSelectedPatientBriefInformation(result);\r\n          this.patientService.setSelectedEncounterNo(result.encounter_no);\r\n          this.permissionValidatorService.setSelectedPatient(result);\r\n          this.events.publish('patient:selected', result, Date.now());\r\n          this.router.navigate(['/menu/patient-profile-nurse'], {skipLocationChange: true, replaceUrl: true});\r\n        });\r\n      }, (err) => {\r\n        console.log('err ', err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  doRefreshEncounterHistory(event: any) {\r\n    this.initEncounterHistory().then(_ => {\r\n      event.target.complete();\r\n    }).catch(_ => {\r\n      event.target.complete();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { map, catchError, timeout } from 'rxjs/operators';\r\nimport { Observable, throwError, from } from 'rxjs';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EncounterHistoryApiService {\r\n  private url = 'http://localhost:3000';\r\n  private token: string;\r\n  private getEncounterListPath = '/api/doctor/patient/encounters';\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private http: HTTP,\r\n    private platform: Platform\r\n  ) { }\r\n\r\n  public setUrl(url: string) {\r\n    this.url = url;\r\n  }\r\n\r\n  public setToken(token: string) {\r\n    this.token = token;\r\n  }\r\n\r\n  public getEncounterList(pid: string): Observable<any> {\r\n    if (this.platform.is('ios') || this.platform.is('android')) {\r\n      console.log('native');\r\n      const params = {\r\n        pid\r\n      };\r\n      const headers = {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + this.token\r\n      };\r\n\r\n      return from(this.http.get(this.url + this.getEncounterListPath, params, headers)).pipe(\r\n          map((response: any) => {\r\n            const encounter = JSON.parse(response.data);\r\n            console.log('Encounter history: ', encounter);\r\n            return encounter;\r\n          }),\r\n          catchError((err: any, caught: Observable<Response>) => {\r\n            if (typeof err.error === 'string') {\r\n              try {\r\n                err.error = JSON.parse(err.error);\r\n              } catch (e) {\r\n                // do nothing\r\n              }\r\n            }\r\n            console.log('Encounter history error: ', err, caught);\r\n            return throwError(err);\r\n          })\r\n        );\r\n    } else {\r\n      const httpOptions = {\r\n        params: new HttpParams()\r\n          .set('pid', pid),\r\n        headers: new HttpHeaders({\r\n          Accept: 'application/json',\r\n          Authorization: 'Bearer ' + this.token,\r\n          'Access-Control-Allow-Origin': '*',\r\n        })\r\n      };\r\n      return this.httpClient.get(this.url + this.getEncounterListPath, httpOptions).pipe(\r\n  \t\t\tmap((response: any) => {\r\n  \t\t\t\tconsole.log('Entered getEncounterList API:', response);\r\n  \t\t\t\treturn response;\r\n  \t\t\t}),\r\n  \t\t\tcatchError((err: any, caught: Observable<Response>) => {\r\n  \t\t\t\tconsole.log(err, caught);\r\n  \t\t\t\treturn throwError(err);\r\n  \t\t\t})\r\n  \t\t);\r\n    }\r\n\t}\r\n}\r\n"],"sourceRoot":"webpack:///"}