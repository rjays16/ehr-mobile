function _defineProperties(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"/yGZ":function(e,n,i){"use strict";i.r(n);var t=i("8Y7J"),s=i("mrSG"),l=i("DdMz"),r=i("ZZ/e"),o=i("H+bZ"),a=i("Pasx"),u=i("n90K"),c=i("EFyh"),d=i("7ch9"),h=i("LDXv"),_=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),Object.assign(this,n)},p=i("ElRG"),m=i("uPsM"),g=i("GALt"),f=i("4zgz"),v=i("Hfim"),b=i("y2f/"),C=i("AytR"),y=i("8T+N"),P=function(){function e(n,i,t,s,l,r,o,a,u,c,d,h,p,m,g,f,v){var b=this;_classCallCheck(this,e),this.loginApiService=n,this.router=i,this.alertController=t,this.apiService=s,this.loginService=l,this.storageService=r,this.permissionValidatorService=o,this.platform=a,this.device=u,this.uid=c,this.androidPermissions=d,this.uniqueDeviceID=h,this.loadingService=p,this.stringUtilsService=m,this.navController=g,this.modalController=f,this.splashScreen=v,this.showPassword=!1,this.loginCredentials=new _,this.username="",this.password="",this.debugging=!1,this.env=C.a,this.platform.ready().then((function(){b.debugging=!C.a.production,console.log("this.debugging",b.debugging),b.storageService.get("url").then((function(e){e&&b.apiService.setUrl(e),b.platform.is("android")?b.androidPermissions.checkPermission(b.androidPermissions.PERMISSION.READ_PHONE_STATE).then((function(e){e.hasPermission?b.continueToApplication():b.androidPermissions.requestPermission(b.androidPermissions.PERMISSION.READ_PHONE_STATE).then((function(e){b.continueToApplication()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})):b.continueToApplication()}))}))}return _createClass(e,[{key:"ionViewWillEnter",value:function(){var e=this;this.platform.ready().then((function(){console.log("ionViewWillEnter"),window.addEventListener("native.keyboardshow",e.keyboardShowHandler),window.addEventListener("native.keyboardhide",e.keyboardHideHandler),window.addEventListener("touchstart",e.tapCoordinates)}))}},{key:"ionViewWillLeave",value:function(){console.log("ionViewWillLeave"),window.removeEventListener("native.keyboardshow",this.keyboardShowHandler),window.removeEventListener("native.keyboardhide",this.keyboardHideHandler),window.removeEventListener("touchstart",this.tapCoordinates),this.removeIonAppStyles()}},{key:"continueToApplication",value:function(){var e=this;this.loginApiService.setUrl(this.apiService.getUrl()),this.uniqueDeviceID.get().then((function(n){console.log(n),e.loginCredentials.device_device_unique_id=n})).catch((function(e){console.log(e)})),this.platform.ready().then((function(n){e.device&&(e.loginCredentials.device_platform=e.device.platform,e.loginCredentials.device_uuid=e.device.uuid,e.loginCredentials.device_model=e.device.model)})),this.storageService.get("isAutologin").then((function(n){console.log("isAutologin",n),"true"==n||null==n?e.storageService.getObject("authentication").then((function(n){console.log("authentication: ",n),n?(e.platform.is("android")||e.platform.is("ios")||e.loadingService.present(),e.loginApiService.setToken(n.token),e.loginApiService.getConfigAndDefaults().subscribe((function(i){e.loadingService.dismiss().then((function(t){console.log("configAndDefaults: ",i),i&&(i.code&&200!==i.code?(e.splashScreen.hide(),e.openAlertModal("fail","Failed",i.message,"Ok")):(e.loginService.setAuthentication(n),e.permissionValidatorService.setAuthentication(n),e.loginService.setConfigAndDefaults(i),e.loginService.setTestServerIdent(n.isTestServer),n.user.permissions=i["user-permissions"].map((function(e){return new y.a(e)})),e.storageService.set("authentication",JSON.stringify(n)),e.navController.navigateRoot("/menu").then((function(n){e.splashScreen.hide()}))))}))}),(function(n){console.log("Failed",n),e.loadingService.dismiss().then((function(i){e.splashScreen.hide(),e.storageService.remove("authentication");var t=e.stringUtilsService.parseErrorMessage(n);e.openAlertModal("fail","Failed",t,"Ok")}))}))):e.loadingService.dismiss().then((function(n){e.splashScreen.hide()}))})):e.loadingService.dismiss().then((function(n){e.splashScreen.hide()}))}))}},{key:"ngOnInit",value:function(){}},{key:"viewPassword",value:function(){var e=document.getElementById("password");"password"===e.type?(e.type="text",this.showPassword=!0):(e.type="password",this.showPassword=!1)}},{key:"generateRandomText",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=t.length,l=0;l<e;l++)n>0&&l>=n&&l%n==0&&(i+="-"),i+=t.charAt(Math.floor(Math.random()*s));return i}},{key:"addDefaultCredentials",value:function(){this.loginCredentials.device_uuid||(this.loginCredentials.device_uuid=this.generateRandomText(16,4)),this.loginCredentials.device_device_unique_id||(this.loginCredentials.device_device_unique_id=this.generateRandomText(16,4)),this.loginCredentials.device_model||(this.loginCredentials.device_model="model-"+this.generateRandomText(5)),this.loginCredentials.device_platform||(this.loginCredentials.device_platform="platform-"+this.generateRandomText(5))}},{key:"loginClick",value:function(){var e=this;this.loginCredentials.username=this.username,this.loginCredentials.password=this.password,this.addDefaultCredentials(),this.errorMessage="",this.loadingService.present(),console.log("login clicked",this.loginCredentials),this.loginApiService.login(this.loginCredentials).subscribe((function(n){console.log(n),n&&n.code&&200===n.code?(console.log("Success"),e.loginService.setAuthentication(n),e.loginService.setTestServerIdent(n.isTestServer),e.permissionValidatorService.setAuthentication(n),e.loginApiService.setToken(n.token),e.storageService.setObject("authentication",n).then((function(n){e.loginApiService.getConfigAndDefaults().subscribe((function(n){e.loadingService.dismiss().then((function(i){n&&n.code&&200!==n.code?e.openAlertModal("fail","Failed",n.message,"Ok"):(e.storageService.setObject("credentials",e.loginCredentials),e.loginService.setConfigAndDefaults(n),e.navController.navigateRoot("/menu"))}))}),(function(n){console.log("Failed",n),e.loadingService.dismiss().then((function(i){var t=e.stringUtilsService.parseErrorMessage(n);e.openAlertModal("fail","Failed",t,"Ok")}))}))})).catch((function(n){console.log("error",n),e.loadingService.dismiss()}))):(console.log("Login Failed"),e.loadingService.dismiss().then((function(i){e.openAlertModal("fail","Failed",n.message,"Ok")})))}),(function(n){console.log(n),e.loadingService.dismiss().then((function(i){var t=e.stringUtilsService.parseErrorMessage(n);401!==n.status?e.openAlertModal("fail","Failed",t,"Ok"):e.errorMessage=t}))}))}},{key:"onUsernameFocus",value:function(e){console.log("onUsernameFocus"),this.scrollTo("username")}},{key:"onPasswordFocus",value:function(e){console.log("onPasswordFocus"),this.scrollTo("password")}},{key:"setUrl",value:function(){this.presentPrompt()}},{key:"presentPrompt",value:function(){return s.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.apiService.getUrl())||(n="http://"),this.alertController.create({message:"Set Url",inputs:[{name:"url_online",type:"radio",label:"Online",value:C.a.url,checked:n==C.a.url},{name:"url_local",type:"radio",label:"Local",value:C.a.url_local,checked:n==C.a.url_local}],buttons:[{text:"Others",handler:function(e){console.log("Others clicked"),i.presentPromptOthersurl()}},{text:"Cancel",handler:function(e){console.log("Cancel clicked")}},{text:"OK",handler:function(e){var n=e;n.startsWith("http://")||(n="http://"+n),console.log(n),i.storageService.set("url",n).then((function(e){i.apiService.setUrl(n),i.loginApiService.setUrl(i.apiService.getUrl())}))}}]}).then((function(e){e.present()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presentPromptOthersurl",value:function(){return s.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.alertController.create({message:"Set Url",inputs:[{name:"url",label:"Others",type:"text",placeholder:"URL",value:"http://"}],buttons:[{text:"Cancel",handler:function(e){console.log("Cancel clicked")}},{text:"OK",handler:function(e){var i=e.url;i.startsWith("http://")||(i="http://"+i),console.log(i),n.storageService.set("url",i).then((function(e){n.apiService.setUrl(i),n.loginApiService.setUrl(n.apiService.getUrl())}))}}]}).then((function(e){e.present()}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"openAlertModal",value:function(e,n,i){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done";return s.b(this,void 0,void 0,regeneratorRuntime.mark((function s(){var l;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.modalController.create({component:v.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:n,message:i,ok:t}});case 2:return(l=s.sent).onDidDismiss().then((function(e){null!==e&&console.log("result.data: ",e.data)})),s.next=6,l.present();case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}}),s,this)})))}},{key:"tapCoordinates",value:function(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log("offset: ",this.offsetY)}},{key:"keyboardShowHandler",value:function(e){var n=e.keyboardHeight;console.log("show: ",e.keyboardHeight);var i=document.querySelector("ion-app").style;i.bottom=n+"px",console.log(i.bottom)}},{key:"keyboardHideHandler",value:function(){console.log("gone"),document.querySelector("ion-app").removeAttribute("style")}},{key:"removeIonAppStyles",value:function(){document.querySelector("ion-app").removeAttribute("style")}},{key:"scrollTo",value:function(e){var n=document.getElementById(e),i=n.offsetTop,t=n.offsetHeight;console.log("offsetTop: ",i),console.log("offsetHeight: ",t,2*t),this.content.scrollToPoint(0,i+2*t,500)}}]),e}(),w=function e(){_classCallCheck(this,e)},k=i("pMnS"),D=i("oBZk"),S=i("s7LF"),E=i("SVse"),M=i("iInd"),O=t.Bb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]{height:120px;z-index:1;background-color:var(--ion-color-primary)}ion-header[_ngcontent-%COMP%]   .imageCont[_ngcontent-%COMP%]{max-width:120px;padding:10px;background-color:#c1e8e4;border-radius:50%;z-index:1;position:relative;display:block;bottom:-60px;margin-left:auto;margin-right:auto}ion-header[_ngcontent-%COMP%]   .imageCont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:solid 5px var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]{font-family:sans-serif;max-height:100%;width:100%;--background:#fff url('gray-bg.57a3c9c7161fe815bfc6.jpg') no-repeat center center/cover}ion-content[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]{width:100%;position:absolute;top:120px}ion-content[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#fa385a;font-size:1.3em;text-align:center}ion-content[_ngcontent-%COMP%]   .bottomDiv[_ngcontent-%COMP%]{width:100%;position:absolute;-webkit-transform:translate(0,75%);transform:translate(0,75%)}ion-content[_ngcontent-%COMP%]   .bottomDiv[_ngcontent-%COMP%]   .formContainer[_ngcontent-%COMP%]{border:1px solid #ddd;width:90%;margin:auto;background-color:#fff}ion-content[_ngcontent-%COMP%]   .bottomDiv[_ngcontent-%COMP%]   .formContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#629efc;font-weight:600;font-size:1.1em}ion-content[_ngcontent-%COMP%]   .bottomDiv[_ngcontent-%COMP%]   .formContainer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{background-color:#629efc;color:#fff}ion-content[_ngcontent-%COMP%]   .bottomDiv[_ngcontent-%COMP%]   .formContainer[_ngcontent-%COMP%]   .left-icon[_ngcontent-%COMP%]{color:#629efc;margin-right:10px}ion-content[_ngcontent-%COMP%]   .bottomDiv[_ngcontent-%COMP%]   .formContainer[_ngcontent-%COMP%]   .uncoverPassword[_ngcontent-%COMP%]{color:#ccc}ion-content[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{font-size:.75em;width:100%;margin-top:10px;text-align:center}.settings[_ngcontent-%COMP%]{position:fixed;top:0;right:0;margin-top:calc(10px + var(--ion-safe-area-top,0));margin-right:10px;z-index:2}"]],data:{}});function I(e){return t.Yb(0,[(e()(),t.Db(0,0,null,null,4,"ion-chip",[["mode","ios"]],null,null,null,D.kb,D.i)),t.Cb(1,49152,null,0,r.t,[t.j,t.p,t.G],{mode:[0,"mode"]},null),(e()(),t.Db(2,0,null,0,2,"ion-label",[["color","danger"]],null,null,null,D.Eb,D.C)),t.Cb(3,49152,null,0,r.O,[t.j,t.p,t.G],{color:[0,"color"]},null),(e()(),t.Wb(4,0,["",""]))],(function(e,n){e(n,1,0,"ios"),e(n,3,0,"danger")}),(function(e,n){e(n,4,0,n.component.errorMessage)}))}function x(e){return t.Yb(0,[(e()(),t.Db(0,0,null,null,1,"ion-icon",[["class","uncoverPassword"],["ios","ios-eye"],["md","md-eye"]],null,[[null,"click"]],(function(e,n,i){var t=!0;return"click"===n&&(t=!1!==e.component.viewPassword()&&t),t}),D.ub,D.s)),t.Cb(1,49152,null,0,r.D,[t.j,t.p,t.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(e,n){e(n,1,0,"ios-eye","md-eye")}),null)}function A(e){return t.Yb(0,[(e()(),t.Db(0,0,null,null,1,"ion-icon",[["class","uncoverPassword"],["ios","ios-eye-off"],["md","md-eye-off"]],null,[[null,"click"]],(function(e,n,i){var t=!0;return"click"===n&&(t=!1!==e.component.viewPassword()&&t),t}),D.ub,D.s)),t.Cb(1,49152,null,0,r.D,[t.j,t.p,t.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(e,n){e(n,1,0,"ios-eye-off","md-eye-off")}),null)}function T(e){return t.Yb(0,[t.Ub(671088640,1,{content:0}),(e()(),t.Db(1,0,null,null,7,"ion-header",[],null,null,null,D.tb,D.r)),t.Cb(2,49152,null,0,r.C,[t.j,t.p,t.G],null,null),(e()(),t.Db(3,0,null,0,1,"div",[["class","imageCont"]],null,null,null,null,null)),(e()(),t.Db(4,0,null,null,0,"img",[["alt","logo"],["src","../../../assets/images/logo.jpg"]],null,null,null,null,null)),(e()(),t.Db(5,0,null,0,3,"ion-button",[["class","settings"]],null,[[null,"click"]],(function(e,n,i){var t=!0;return"click"===n&&(t=!1!==e.component.setUrl()&&t),t}),D.fb,D.d)),t.Cb(6,49152,null,0,r.l,[t.j,t.p,t.G],null,null),(e()(),t.Db(7,0,null,0,1,"ion-icon",[["name","settings"]],null,null,null,D.ub,D.s)),t.Cb(8,49152,null,0,r.D,[t.j,t.p,t.G],{name:[0,"name"]},null),(e()(),t.Db(9,0,null,null,67,"ion-content",[["class","background"]],null,null,null,D.mb,D.k)),t.Cb(10,49152,[[1,4],["content",4]],0,r.v,[t.j,t.p,t.G],null,null),(e()(),t.Db(11,0,null,0,4,"div",[["class","pageTitle"]],null,null,null,null,null)),(e()(),t.Db(12,0,null,null,3,"h4",[],null,null,null,null,null)),(e()(),t.Wb(-1,null,["SOUTHERN PHILIPPINES"])),(e()(),t.Db(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t.Wb(-1,null,["MEDICAL CENTER"])),(e()(),t.Db(16,0,null,0,60,"div",[["class","bottomDiv"]],null,null,null,null,null)),(e()(),t.Db(17,0,null,null,54,"div",[["class","formContainer"]],null,null,null,null,null)),(e()(),t.Db(18,0,null,null,53,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,n,i){var s=!0;return"submit"===n&&(s=!1!==t.Pb(e,20).onSubmit(i)&&s),"reset"===n&&(s=!1!==t.Pb(e,20).onReset()&&s),s}),null,null)),t.Cb(19,16384,null,0,S.y,[],null,null),t.Cb(20,4210688,[["form",4]],0,S.p,[[8,null],[8,null]],null,null),t.Tb(2048,null,S.b,null,[S.p]),t.Cb(22,16384,null,0,S.o,[[4,S.b]],null,null),(e()(),t.Db(23,0,null,null,48,"ion-grid",[],null,null,null,D.sb,D.q)),t.Cb(24,49152,null,0,r.B,[t.j,t.p,t.G],null,null),(e()(),t.Db(25,0,null,0,46,"ion-row",[["class","ion-justify-content-center"],["color","primary"]],null,null,null,D.Ob,D.M)),t.Cb(26,49152,null,0,r.kb,[t.j,t.p,t.G],null,null),(e()(),t.Db(27,0,null,0,44,"ion-col",[["class","ion-align-self-center"],["size-lg","5"],["size-md","6"],["size-xs","12"]],null,null,null,D.lb,D.j)),t.Cb(28,49152,null,0,r.u,[t.j,t.p,t.G],null,null),(e()(),t.Db(29,0,null,0,2,"div",[["class","ion-text-center"]],null,null,null,null,null)),(e()(),t.Db(30,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),t.Wb(-1,null,["LOGIN TO YOUR ACCOUNT"])),(e()(),t.Db(32,0,null,0,2,"div",[["class","ion-text-center"]],null,null,null,null,null)),(e()(),t.sb(16777216,null,null,1,null,I)),t.Cb(34,16384,null,0,E.l,[t.Y,t.U],{ngIf:[0,"ngIf"]},null),(e()(),t.Db(35,0,null,0,32,"div",[["class","ion-padding"]],null,null,null,null,null)),(e()(),t.Db(36,0,null,null,13,"ion-item",[],null,null,null,D.Db,D.w)),t.Cb(37,49152,null,0,r.I,[t.j,t.p,t.G],null,null),(e()(),t.Db(38,0,null,0,1,"ion-icon",[["class","left-icon"],["ios","ios-person"],["md","md-person"]],null,null,null,D.ub,D.s)),t.Cb(39,49152,null,0,r.D,[t.j,t.p,t.G],{ios:[0,"ios"],md:[1,"md"]},null),(e()(),t.Db(40,0,null,0,9,"ion-input",[["id","username"],["minlength","1"],["name","username"],["placeholder","Username"],["required",""]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionFocus"],[null,"ionBlur"],[null,"ionChange"]],(function(e,n,i){var s=!0,l=e.component;return"ionBlur"===n&&(s=!1!==t.Pb(e,44)._handleBlurEvent(i.target)&&s),"ionChange"===n&&(s=!1!==t.Pb(e,44)._handleInputEvent(i.target)&&s),"ngModelChange"===n&&(s=!1!==(l.username=i)&&s),"ionFocus"===n&&(s=!1!==l.onUsernameFocus(i)&&s),s}),D.xb,D.v)),t.Cb(41,16384,null,0,S.t,[],{required:[0,"required"]},null),t.Cb(42,540672,null,0,S.j,[],{minlength:[0,"minlength"]},null),t.Tb(1024,null,S.k,(function(e,n){return[e,n]}),[S.t,S.j]),t.Cb(44,16384,null,0,r.Sb,[t.p],null,null),t.Tb(1024,null,S.l,(function(e){return[e]}),[r.Sb]),t.Cb(46,671744,null,0,S.q,[[2,S.b],[6,S.k],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,S.m,null,[S.q]),t.Cb(48,16384,null,0,S.n,[[4,S.m]],null,null),t.Cb(49,49152,null,0,r.H,[t.j,t.p,t.G],{minlength:[0,"minlength"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"]},null),(e()(),t.Db(50,0,null,null,17,"ion-item",[],null,null,null,D.Db,D.w)),t.Cb(51,49152,null,0,r.I,[t.j,t.p,t.G],null,null),(e()(),t.Db(52,0,null,0,1,"ion-icon",[["class","left-icon"],["ios","ios-lock"],["md","md-lock"]],null,null,null,D.ub,D.s)),t.Cb(53,49152,null,0,r.D,[t.j,t.p,t.G],{ios:[0,"ios"],md:[1,"md"]},null),(e()(),t.Db(54,0,null,0,9,"ion-input",[["id","password"],["minlength","1"],["name","password"],["placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionFocus"],[null,"ionBlur"],[null,"ionChange"]],(function(e,n,i){var s=!0,l=e.component;return"ionBlur"===n&&(s=!1!==t.Pb(e,58)._handleBlurEvent(i.target)&&s),"ionChange"===n&&(s=!1!==t.Pb(e,58)._handleInputEvent(i.target)&&s),"ngModelChange"===n&&(s=!1!==(l.password=i)&&s),"ionFocus"===n&&(s=!1!==l.onPasswordFocus(i)&&s),s}),D.xb,D.v)),t.Cb(55,16384,null,0,S.t,[],{required:[0,"required"]},null),t.Cb(56,540672,null,0,S.j,[],{minlength:[0,"minlength"]},null),t.Tb(1024,null,S.k,(function(e,n){return[e,n]}),[S.t,S.j]),t.Cb(58,16384,null,0,r.Sb,[t.p],null,null),t.Tb(1024,null,S.l,(function(e){return[e]}),[r.Sb]),t.Cb(60,671744,null,0,S.q,[[2,S.b],[6,S.k],[8,null],[6,S.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Tb(2048,null,S.m,null,[S.q]),t.Cb(62,16384,null,0,S.n,[[4,S.m]],null,null),t.Cb(63,49152,null,0,r.H,[t.j,t.p,t.G],{minlength:[0,"minlength"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"],type:[4,"type"]},null),(e()(),t.sb(16777216,null,0,1,null,x)),t.Cb(65,16384,null,0,E.l,[t.Y,t.U],{ngIf:[0,"ngIf"]},null),(e()(),t.sb(16777216,null,0,1,null,A)),t.Cb(67,16384,null,0,E.l,[t.Y,t.U],{ngIf:[0,"ngIf"]},null),(e()(),t.Db(68,0,null,0,3,"div",[["class","ion-padding"]],null,null,null,null,null)),(e()(),t.Db(69,0,null,null,2,"ion-button",[["expand","block"],["size","default"]],null,[[null,"click"]],(function(e,n,i){var t=!0;return"click"===n&&(t=!1!==e.component.loginClick()&&t),t}),D.fb,D.d)),t.Cb(70,49152,null,0,r.l,[t.j,t.p,t.G],{disabled:[0,"disabled"],expand:[1,"expand"],size:[2,"size"]},null),(e()(),t.Wb(-1,0,["Login"])),(e()(),t.Db(72,0,null,null,4,"div",[["class","copyright"]],null,null,null,null,null)),(e()(),t.Db(73,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),t.Wb(-1,null,["2019 \xa9 Segworks Technologies Corporation"])),(e()(),t.Db(75,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t.Wb(76,null,["Build ",""]))],(function(e,n){var i=n.component;e(n,8,0,"settings"),e(n,34,0,i.errorMessage),e(n,39,0,"ios-person","md-person"),e(n,41,0,""),e(n,42,0,"1"),e(n,46,0,"username",i.username),e(n,49,0,"1","username","Username",""),e(n,53,0,"ios-lock","md-lock"),e(n,55,0,""),e(n,56,0,"1"),e(n,60,0,"password",i.password),e(n,63,0,"1","password","\u2022\u2022\u2022\u2022\u2022\u2022\u2022","","password"),e(n,65,0,!i.showPassword),e(n,67,0,i.showPassword),e(n,70,0,t.Pb(n,20).invalid,"block","default")}),(function(e,n){var i=n.component;e(n,18,0,t.Pb(n,22).ngClassUntouched,t.Pb(n,22).ngClassTouched,t.Pb(n,22).ngClassPristine,t.Pb(n,22).ngClassDirty,t.Pb(n,22).ngClassValid,t.Pb(n,22).ngClassInvalid,t.Pb(n,22).ngClassPending),e(n,40,0,t.Pb(n,41).required?"":null,t.Pb(n,42).minlength?t.Pb(n,42).minlength:null,t.Pb(n,48).ngClassUntouched,t.Pb(n,48).ngClassTouched,t.Pb(n,48).ngClassPristine,t.Pb(n,48).ngClassDirty,t.Pb(n,48).ngClassValid,t.Pb(n,48).ngClassInvalid,t.Pb(n,48).ngClassPending),e(n,54,0,t.Pb(n,55).required?"":null,t.Pb(n,56).minlength?t.Pb(n,56).minlength:null,t.Pb(n,62).ngClassUntouched,t.Pb(n,62).ngClassTouched,t.Pb(n,62).ngClassPristine,t.Pb(n,62).ngClassDirty,t.Pb(n,62).ngClassValid,t.Pb(n,62).ngClassInvalid,t.Pb(n,62).ngClassPending),e(n,76,0,null==i.env?null:i.env.build)}))}var H=t.zb("app-login",P,(function(e){return t.Yb(0,[(e()(),t.Db(0,0,null,null,1,"app-login",[],null,null,null,T,O)),t.Cb(1,114688,null,0,P,[l.a,M.m,r.a,o.a,c.a,u.a,h.a,r.Nb,p.a,g.a,f.a,m.a,d.a,a.a,r.Kb,r.Jb,b.a],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);i.d(n,"LoginPageModuleNgFactory",(function(){return U}));var U=t.Ab(w,[],(function(e){return t.Mb([t.Nb(512,t.m,t.lb,[[8,[k.a,H]],[3,t.m],t.E]),t.Nb(4608,E.n,E.m,[t.A,[2,E.C]]),t.Nb(4608,S.w,S.w,[]),t.Nb(4608,r.b,r.b,[t.G,t.g]),t.Nb(4608,r.Jb,r.Jb,[r.b,t.m,t.w]),t.Nb(4608,r.Ob,r.Ob,[r.b,t.m,t.w]),t.Nb(1073742336,E.c,E.c,[]),t.Nb(1073742336,S.v,S.v,[]),t.Nb(1073742336,S.i,S.i,[]),t.Nb(1073742336,r.Fb,r.Fb,[]),t.Nb(1073742336,M.q,M.q,[[2,M.v],[2,M.m]]),t.Nb(1073742336,w,w,[]),t.Nb(1024,M.k,(function(){return[[{path:"",component:P}]]}),[])])}))},EFyh:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("8Y7J"),s=function(){var e=function(){function e(){_classCallCheck(this,e),this.inTestServer=!1}return _createClass(e,[{key:"getCredentials",value:function(){return this.credentials}},{key:"setTestServerIdent",value:function(e){this.inTestServer=1==e,console.log("this.inTestServer",this.inTestServer)}},{key:"setCredentials",value:function(e){this.credentials=e}},{key:"getAuthentication",value:function(){return this.authentication}},{key:"setAuthentication",value:function(e){this.authentication=e}},{key:"getConfigAndDefaults",value:function(){return this.configAndDefaults}},{key:"setConfigAndDefaults",value:function(e){this.configAndDefaults=e}}]),e}();return e.ngInjectableDef=t.bc({factory:function(){return new e},token:e,providedIn:"root"}),e}()},"H+bZ":function(e,n,i){"use strict";i.d(n,"a",(function(){return l}));var t=i("AytR"),s=i("8Y7J"),l=function(){var e=function(){function e(){_classCallCheck(this,e),this.url=t.a.url}return _createClass(e,[{key:"getUrl",value:function(){return this.url}},{key:"setUrl",value:function(e){this.url=e}}]),e}();return e.ngInjectableDef=s.bc({factory:function(){return new e},token:e,providedIn:"root"}),e}()},LDXv:function(e,n,i){"use strict";var t,s=i("8Y7J"),l=((t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"compare",value:function(e,n){var i={};return e.forEach((function(e){return n.forEach((function(n){e.id===n.id&&(i[e.id]=i[e.id]+1||1)}))})),Object.keys(i)}}]),e}()).ngInjectableDef=s.bc({factory:function(){return new t},token:t,providedIn:"root"}),t);i.d(n,"a",(function(){return o}));var r,o=((r=function(){function e(n){_classCallCheck(this,e),this.arrayComparatorService=n,this.throwsErrorCode=5011,this.perms={allPermission:"_a_0_all",manageEhr:"_a_1_ehr_sudomanage",viewAllDept:"_a_2_ehr_view_all_dept",viewOwnDept:"_a_3_ehr_view_own_dept",editAllDept:"_a_2_ehr_edit_all_dept",editOwnDept:"_a_3_ehr_edit_own_dept",overideInct:"_a_2_ehr_override_my_patient",overideInctSoap:"_a_3_ehr_soap",overideInctSoapDiag:"_a_2_ehr_override_final_dx",overideInctSoapDiag2:"_a_4_ehr_override_final_dx",overideInctPastMed:"_a_3_ehr_past_medical_history",overideInctPsigns:"_a_3_ehr_pertinent_signs_and_symptoms",overideInctHciRef:"_a_3_ehr_referred_hci",overideInctPhysExam:"_a_3_ehr_physical_examination",overideInctMedicat:"_a_3_ehr_medication",overideInctPlanMan:"_a_3_ehr_plan_management",overideInctEndCare:"_a_3_ehr_end_of_care"},this.portlets={soap:"soap",soapDiag:"soapDiag",pastMed:"pastMed",pSigns:"pSings",refHci:"refHci",physExam:"physExam",medict:"medict",planMan:"planMan",endCare:"endCare"}}return _createClass(e,[{key:"setAuthentication",value:function(e){this.authentication=e}},{key:"setSelectedPatient",value:function(e){this.selectedPatient=e}},{key:"validateRole",value:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log("user roleName: ",this.roleName);var s=e.role_name,l=e["other-permissions"],r=!1;if(this.authentication.user.permissions.map((function(n){"all"===e[0]?r="_a_0_all"===n.permission_id:"sudomanage"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id:"view_all_dept"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_view_all_dept"===n.permission_id:"view_own_dept"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_view_all_dept"===n.permission_id||"_a_3_ehr_view_own_dept"===n.permission_id:"edit_all_dept"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_edit_all_dept"===n.permission_id:"edit_own_dept"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_edit_all_dept"===n.permission_id||"_a_3_ehr_edit_own_dept"===n.permission_id:"override_my_patient"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id:"soap"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_soap"===n.permission_id:"override_final_dx"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_4_ehr_override_final_dx"===n.permission_id||"_a_3_ehr_soap"===n.permission_id:"past_medical_history"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_past_medical_history"===n.permission_id:"pertinent_signs_and_symptoms"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_pertinent_signs_and_symptoms"===n.permission_id:"referred_hci"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_referred_hci"===n.permission_id:"physical_examination"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_physical_examination"===n.permission_id:"medication"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_medication"===n.permission_id:"plan_managem"===e[0]?r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_plan_management"===n.permission_id:"end_of_care"===e[0]&&(r="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_end_of_care"===n.permission_id)})),t)return r;console.log("roleNames: ",s);var o=!0;if(Array.isArray(s)&&s.length>0){var a=s.findIndex((function(e){return console.log("element: ",e," this.roleName: ",n.roleName),-1!=n.roleName.toUpperCase().indexOf(e.toUpperCase())}));console.log("index: ",a),o=a>=0}console.log("validRole: ",o);var u=!1;return Array.isArray(l)&&l.length>0&&(u=this.arrayComparatorService.compare(l,this.permissions).length>0),console.log("validOtherPermission: ",u),!i||(console.log("selectedPatient: ",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log("is_discharged"),u)}},{key:"hasAllPermission",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.allPermission}))}},{key:"hasManageEhr",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.manageEhr}))}},{key:"hasEdit",value:function(){var e=this;return!!this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.editAllDept}))||this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.editOwnDept}))&&this.selectedPatient.isInMyDept}},{key:"hasView",value:function(){var e=this;return!!this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.viewAllDept}))||this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.viewOwnDept}))&&this.selectedPatient.isInMyDept}},{key:"hasHigherPermission",value:function(){return this.hasAllPermission()||this.hasManageEhr()}},{key:"hasOverInct",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.overideInct}))}},{key:"hasDischPerm",value:function(e){var n=this;if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(e){case this.portlets.soap:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctSoap}));case this.portlets.soapDiag:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctSoapDiag||e.permission_id==n.perms.overideInctSoapDiag2}));case this.portlets.pastMed:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPastMed}));case this.portlets.pSigns:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPsigns}));case this.portlets.refHci:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctHciRef}));case this.portlets.physExam:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPhysExam}));case this.portlets.medict:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctMedicat}));case this.portlets.planMan:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPlanMan}));case this.portlets.endCare:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctEndCare}))}return!1}},{key:"isDischarged",value:function(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}},{key:"hasSoapEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}},{key:"hasSoapDiagEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}},{key:"hasSoapView",value:function(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}},{key:"hasPastMedEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}},{key:"hasPastView",value:function(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}},{key:"hasPSignsEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}},{key:"hasPSingsView",value:function(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}},{key:"hasVitalSignsView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasRefHciEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}},{key:"hasRefHciView",value:function(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}},{key:"hasPhysExamEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}},{key:"hasPhysExamView",value:function(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}},{key:"hasResultView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasDrugsMedsEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}},{key:"hasDrugsMedsView",value:function(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}},{key:"hasEncHistView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasReferalsView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasEndCareEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}},{key:"hasEndCareView",value:function(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}},{key:"hasPlanManEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}},{key:"hasPlanManView",value:function(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}]),e}()).ngInjectableDef=s.bc({factory:function(){return new r(s.cc(l))},token:r,providedIn:"root"}),r)},Pasx:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("8Y7J"),s=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parseErrorMessage",value:function(e){var n="";return e.error?n=e.error.message?e.error.message:e.error:e.message&&(n=e.message),n}},{key:"parseErrorArrayMessage",value:function(e){var n="";return e.error?n=e.error.mandatories?e.error.mandatories:e.error:e.mandatories&&(n=e.mandatories),n}}]),e}();return e.ngInjectableDef=t.bc({factory:function(){return new e},token:e,providedIn:"root"}),e}()},z6cu:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("HDdC");function s(e,n){return new t.a(n?function(i){return n.schedule(l,0,{error:e,subscriber:i})}:function(n){return n.error(e)})}function l(e){var n=e.error;e.subscriber.error(n)}}}]);