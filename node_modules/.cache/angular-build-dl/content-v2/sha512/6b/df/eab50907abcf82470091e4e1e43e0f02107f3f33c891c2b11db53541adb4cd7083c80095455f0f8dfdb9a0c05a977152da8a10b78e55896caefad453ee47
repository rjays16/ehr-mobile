{"version":3,"sources":["src/app/pages/drugs-and-medicines/drugs-and-medicines.page.html","src/app/pages/drugs-and-medicines/drugs-and-medicines.module.ts","src/app/pages/drugs-and-medicines/drugs-and-medicines.page.scss","src/app/pages/drugs-and-medicines/drugs-and-medicines.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,ovFAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,sDAAA,CAAA,uBAAA;AAFb,KADqB,EAKrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,QAAQ,EAAE,CACR;AACE,QAAA,IAAI,EAAE,0BADR;AAEE,QAAA,YAAY,EAAE;AAFhB,OADQ;AAFZ,KALqB,CAAvB;;AA0BA,QAAa,2BAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,2BAA2B,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAVvC,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,aAAA,CAFO,EAGP,2CAAA,CAAA,aAAA,CAHO,EAIP,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CAJO,EAKP,0DAAA,CAAA,kBAAA,CALO,CADD;AAQR,MAAA,YAAY,EAAE,CAAC,sDAAA,CAAA,uBAAA,CAAD;AARN,KAAT,CAUuC,CAAA,EAA3B,2BAA2B,CAA3B;;;;;;;;;;;;;;;;ACpCb,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,miSAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmBf,QAAa,qBAAb;AAAA;AAAA;AAME,qCACU,MADV,EAEU,QAFV,EAGU,kCAHV,EAIU,cAJV,EAKU,UALV,EAMS,YANT,EAOU,kBAPV,EAQU,0BARV,EASU,cATV,EAUU,SAVV,EAWU,cAXV,EAWwC;AAAA;;AAV9B,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,QAAA,GAAA,QAAA;AACA,aAAA,kCAAA,GAAA,kCAAA;AACA,aAAA,cAAA,GAAA,cAAA;AACA,aAAA,UAAA,GAAA,UAAA;AACD,aAAA,YAAA,GAAA,YAAA;AACC,aAAA,kBAAA,GAAA,kBAAA;AACA,aAAA,0BAAA,GAAA,0BAAA;AACA,aAAA,cAAA,GAAA,cAAA;AACA,aAAA,SAAA,GAAA,SAAA;AACA,aAAA,cAAA,GAAA,cAAA;AAdV,aAAA,eAAA,GAAkB,IAAlB;AAgBE,aAAK,mBAAL,GAA2B,KAAK,cAAL,CAAoB,sBAApB,EAA3B;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAK,mBAAjB;AACA,aAAK,QAAL,CAAc,MAAd,CAAqB,KAAK,UAAL,CAAgB,MAAhB,EAArB;AACA,aAAK,QAAL,CAAc,QAAd,CAAuB,KAAK,YAAL,CAAkB,iBAAlB,GAAsC,KAA7D;AACA,aAAK,2BAAL,GAAmC,KAAK,YAAL,CAAkB,oBAAlB,GAAyC,UAA5E;AAED;;AAzBH;AAAA;AAAA,8CA2BqB;AAAA;;AACjB,cAAG,KAAK,2BAAL,CAAiC,sBAAjC,EAAyD,iBAAzD,EAA4E,MAA5E,CAAmF,MAAnF,IAA6F,CAAhG,EAAkG;AAChG,iBAAK,QAAL,CAAc,2BAAd,GAA4C,SAA5C,CAAsD,UAAC,QAAD,EAAa;AACjE,cAAA,KAAI,CAAC,YAAL,CAAkB,oBAAlB,GAAyC,UAAzC,CAAoD,sBAApD,EAA4E,iBAA5E,IAAiG,QAAjG;AACA,cAAA,KAAI,CAAC,2BAAL,GAAmC,KAAI,CAAC,YAAL,CAAkB,oBAAlB,GAAyC,UAA5E;AACD,aAHD,EAGG,UAAC,GAAD,EAAQ;AACT,cAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,cAAA,KAAI,CAAC,cAAL,CAAoB,OAApB,GAA8B,IAA9B,CAAmC,UAAA,CAAC,EAAG;AACrC,oBAAM,OAAO,GAAG,KAAI,CAAC,kBAAL,CAAwB,iBAAxB,CAA0C,GAA1C,CAAhB;;AACA,gBAAA,KAAI,CAAC,SAAL,CAAe,cAAf,CAA8B,MAA9B,EAAsC,QAAtC,EAAgD,OAAhD,EAAyD,IAAzD;AACD,eAHD;AAID,aATD;AAUD;AACF;AAxCH;AAAA;AAAA,kDA0CyB;AACrB;AACA,eAAK,eAAL,GAAuB,KAAK,0BAAL,CAAgC,gBAAhC,EAAvB;AACD;AA7CH;AAAA;AAAA,mCA+CU;AACN,eAAK,cAAL,CAAoB,YAApB,CAAiC,IAAjC,EAAuC,UAAvC;AACA,eAAK,cAAL,CAAoB,YAApB,CAAiC,IAAjC,EAAuC,aAAvC;AACA,eAAK,uBAAL;AACA,eAAK,qBAAL;AAEA,eAAK,mBAAL;AACD;AAtDH;AAAA;AAAA,2CAwDkB;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ;AACA,cAAM,uBAAuB,GAAG,KAAK,cAAL,CAAoB,sBAApB,EAAhC;;AACA,cAAI,KAAK,mBAAL,KAA6B,uBAAjC,EAA0D;AACxD,YAAA,OAAO,CAAC,GAAR,CAAY,0BAAZ;AACA,iBAAK,mBAAL,GAA2B,uBAA3B;AACA,iBAAK,uBAAL;AACA,iBAAK,qBAAL;AACD;;AAED,cAAM,cAAc,GAAG,KAAK,kCAAL,CAAwC,UAAxC,EAAvB;;AACA,cAAI,cAAJ,EAAoB;AAClB,gBAAM,YAAY,GAAG,KAAK,WAAL,CAAiB,IAAjB,CAAsB,UAAA,OAAO,EAAG;AACnD,qBAAO,OAAO,CAAC,KAAR,IAAiB,cAAc,CAAC,KAAhC,IAAyC,OAAO,CAAC,OAAR,IAAmB,cAAc,CAAC,OAAlF;AACD,aAFoB,CAArB;;AAGA,gBAAI,YAAJ,EAAkB;AAChB,cAAA,YAAY,CAAC,KAAb,GAAqB,cAAc,CAAC,KAApC;AACA,cAAA,YAAY,CAAC,SAAb,GAAyB,cAAc,CAAC,SAAxC;AACA,cAAA,YAAY,CAAC,MAAb,GAAsB,cAAc,CAAC,MAArC;AACD;;AACD,iBAAK,kCAAL,CAAwC,UAAxC,CAAmD,IAAnD;AACD;AACF;AA9EH;AAAA;AAAA,gDAgFuB;AAAA;;AACnB,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AACrC,YAAA,MAAI,CAAC,cAAL,CAAoB,OAApB;;AACA,YAAA,MAAI,CAAC,QAAL,CAAc,oBAAd,CAAmC,MAAI,CAAC,mBAAxC,EAA6D,SAA7D,CAAuE,UAAC,QAAD,EAAa;AAClF,cAAA,MAAI,CAAC,WAAL,GAAmB,QAAnB;;AACA,cAAA,MAAI,CAAC,cAAL,CAAoB,OAApB,GAA8B,IAA9B,CAAmC,UAAA,CAAC,EAAG;AACrC,gBAAA,OAAO,CAAC,QAAD,CAAP;AACD,eAFD;AAGD,aALD,EAKG,UAAA,GAAG,EAAG;AACP,cAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,cAAA,MAAI,CAAC,cAAL,CAAoB,OAApB,GAA8B,IAA9B,CAAmC,UAAA,CAAC,EAAG;AACrC,oBAAM,OAAO,GAAG,MAAI,CAAC,kBAAL,CAAwB,iBAAxB,CAA0C,GAA1C,CAAhB;;AACA,gBAAA,MAAI,CAAC,SAAL,CAAe,cAAf,CAA8B,MAA9B,EAAsC,QAAtC,EAAgD,OAAhD,EAAyD,IAAzD;;AACA,gBAAA,MAAM,CAAC,GAAD,CAAN;AACD,eAJD;AAKD,aAZD;AAaD,WAfM,CAAP;AAgBD;AAjGH;AAAA;AAAA,4CAmGsB,KAnGtB,EAmGmC;AAC/B,cAAM,IAAI,GAAG,KAAK,WAAL,CAAiB,KAAjB,CAAb;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,eAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,oDAAD,EACnB;AACE,YAAA,YAAY,EAAE,IAAI,CAAC,YADrB;AAEE,YAAA,KAAK,EAAE,IAAI,CAAC,KAFd;AAGE,YAAA,OAAO,EAAE,IAAI,CAAC,OAHhB;AAIE,YAAA,SAAS,EAAE,IAAI,CAAC,SAJlB;AAKE,YAAA,YAAY,EAAE,IAAI,CAAC,YALrB;AAME,YAAA,SAAS,EAAE,IAAI,CAAC,SANlB;AAOE,YAAA,KAAK,EAAE,IAAI,CAAC,KAPd;AAQE,YAAA,SAAS,EAAE,IAAI,CAAC,SARlB;AASE,YAAA,MAAM,EAAE,IAAI,CAAC,MATf;AAUE,YAAA,MAAM,EAAE,IAAI,CAAC;AAVf,WADmB,CAArB;AAaD;AAnHH;AAAA;AAAA,mDAqH6B,KArH7B,EAqHuC;AACnC,eAAK,qBAAL,GAA6B,IAA7B,CAAkC,UAAA,CAAC,EAAG;AACpC,YAAA,KAAK,CAAC,MAAN,CAAa,QAAb;AACD,WAFD,EAEG,KAFH,CAES,UAAA,CAAC,EAAG;AACX,YAAA,KAAK,CAAC,MAAN,CAAa,QAAb;AACD,WAJD;AAKD;AA3HH;;AAAA;AAAA,OAAA;;;;cAOoB,4CAAA,CAAA,QAAA;;cACE,sEAAA,CAAA,6BAAA;;cAC0B,8EAAA,CAAA,oCAAA;;cACpB,sDAAA,CAAA,gBAAA;;cACJ,kDAAA,CAAA,YAAA;;cACC,oDAAA,CAAA,cAAA;;cACO,4DAAA,CAAA,oBAAA;;cACQ,mEAAA,CAAA,4BAAA;;cACZ,sDAAA,CAAA,gBAAA;;cACL,wEAAA,CAAA,qBAAA;;cACK,4CAAA,CAAA,gBAAA;;;;AAjBf,IAAA,qBAAqB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CALjC,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACT,MAAA,QAAQ,EAAE,yBADD;AAET,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,+GAAA,CAAA,EAAA,OAFS;;;;AAAA,KAAV,CAKiC,E,uEAOd,4CAAA,CAAA,QAAA,C,EACE,sEAAA,CAAA,6BAAA,C,EAC0B,8EAAA,CAAA,oCAAA,C,EACpB,sDAAA,CAAA,gBAAA,C,EACJ,kDAAA,CAAA,YAAA,C,EACC,oDAAA,CAAA,cAAA,C,EACO,4DAAA,CAAA,oBAAA,C,EACQ,mEAAA,CAAA,4BAAA,C,EACZ,sDAAA,CAAA,gBAAA,C,EACL,wEAAA,CAAA,qBAAA,C,EACK,4CAAA,CAAA,gBAAA,C,EAjBM,CAAA,EAArB,qBAAqB,CAArB","sourcesContent":["export default \"<app-headerbar title=\\\"Drugs and Medicines\\\"></app-headerbar>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"doRefreshDrugsAndMedicines($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"testServer\\\" *ngIf=\\\"loginService.inTestServer\\\">\\r\\n    TEST SERVER CONNECTED\\r\\n  </div>\\r\\n  <div class=\\\"wrapper\\\" style=\\\"margin-top: 10px\\\">\\r\\n    <div class=\\\"noresult\\\" *ngIf=\\\"(medications && medications.length < 1) || !(medications)\\\">\\r\\n      No Medication Found\\r\\n    </div>\\r\\n    <ion-list>\\r\\n      <ion-item-sliding *ngFor=\\\"let med of medications; let i = index\\\">\\r\\n        <ion-item [color]=\\\"med.drug_code == '' || med.drug_code == null ? null:'light' \\\">\\r\\n          <ion-grid>\\r\\n            <ion-row class=\\\"normalText\\\">\\r\\n              <ion-col>{{med.refno}} - {{med.area}} <span style=\\\"float:right\\\">{{med.orderdate_tmps  * 1000 | date:'MMM dd, yyyy hh:mm a'}}</span></ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"blueText\\\">\\r\\n              <ion-col><span style=\\\"font-weight: bolder;font-size: 20px;\\\">[{{med.item_id}}]</span> {{med.item_name}} <app-modified-b-toast [modifiedBy]=\\\"med.modified_by\\\" [modifiedDate]=\\\"\\\"></app-modified-b-toast></ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextGrey\\\">\\r\\n              <ion-col>{{med.generic_name}}</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallestText\\\" style=\\\"margin-top: 5px;\\\">\\r\\n              <ion-col size=\\\"4\\\">Dosage</ion-col>\\r\\n              <ion-col size=\\\"2.5\\\">Frequency</ion-col>\\r\\n              <ion-col size=\\\"4\\\">Route</ion-col>\\r\\n              <ion-col size=\\\"1.5\\\">Quantity</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextBlack\\\">\\r\\n              <ion-col size=\\\"4\\\" class=\\\"blueBackground\\\">{{med.dosage}}</ion-col>\\r\\n              <ion-col size=\\\"2.5\\\"  class=\\\"blueBackground\\\">{{med.frequency}}</ion-col>\\r\\n              <ion-col size=\\\"4\\\"  class=\\\"blueBackground\\\">{{med.route}}</ion-col>\\r\\n              <ion-col size=\\\"1.5\\\" class=\\\"blueBackground\\\">{{med.quantity}}</ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </ion-item>\\r\\n        <ion-item-options *ngIf=\\\"med.refno!=''\\\" side=\\\"end\\\">\\r\\n          <ion-item-option *ngIf=\\\"pMedicationSave\\\" (click)=\\\"viewDrugAndMedicine(i)\\\"><ion-icon ios=\\\"ios-create\\\" md=\\\"md-create\\\"></ion-icon></ion-item-option>\\r\\n          <ion-item-option *ngIf=\\\"!pMedicationSave\\\" (click)=\\\"viewDrugAndMedicine(i)\\\"><ion-icon ios=\\\"ios-eye\\\" md=\\\"md-eye\\\"></ion-icon></ion-item-option>\\r\\n        </ion-item-options>\\r\\n      </ion-item-sliding>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DrugsAndMedicinesPage } from './drugs-and-medicines.page';\r\nimport { ComponentsModule } from './../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DrugsAndMedicinesPage\r\n  },\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: 'drugs-and-medicines-view',\r\n        loadChildren: '../drugs-and-medicines-view/drugs-and-medicines-view.module#DrugsAndMedicinesViewPageModule'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [DrugsAndMedicinesPage]\r\n})\r\nexport class DrugsAndMedicinesPageModule {}\r\n","export default \"ion-refresher {\\n  z-index: 1;\\n}\\n\\nion-refresher-content {\\n  background-color: transparent;\\n}\\n\\n.paginationText {\\n  font-style: italic;\\n  margin-left: 5vw;\\n  margin-bottom: 0;\\n  font-size: small;\\n}\\n\\nion-content {\\n  background: #f9f9f9;\\n  --ion-background-color: #f9f9f9;\\n}\\n\\nion-content .wrapper {\\n  width: 100%;\\n}\\n\\nion-content .wrapper .noFoundLabel {\\n  font-size: 1em;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding {\\n  --ion-background-color: #ffffff;\\n  margin-bottom: 1vh;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item {\\n  border-left: solid 1vw #0096c6;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid {\\n  padding: 2vh 0 2vh 0;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row {\\n  width: 100%;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row ion-col {\\n  padding: unset;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .normalText {\\n  color: #444;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .blueText {\\n  font-weight: bold;\\n  color: #0096c6;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextGrey {\\n  font-size: smaller;\\n  color: #999;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallestText {\\n  color: #444;\\n  font-size: x-small;\\n  font-weight: bold;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack {\\n  color: #444;\\n  font-size: small;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .blueBackground {\\n  background: #0096c6;\\n  border-radius: 25px;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  padding: 0.5vh 2vw 0.5vh 2vw;\\n  color: #ffffff;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .right {\\n  background: #0096c6;\\n  border-radius: 25px;\\n  width: auto;\\n  padding: 0.5vh 2vw 0.5vh 2vw;\\n  color: #ffffff;\\n  right: 0;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item-options ion-item-option {\\n  --background: #3cb979;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZHJ1Z3MtYW5kLW1lZGljaW5lcy9EOlxccHJvamVjdHNcXGlvbmljc1xcZWhyLW1vYmlsZS9zcmNcXGFwcFxccGFnZXNcXGRydWdzLWFuZC1tZWRpY2luZXNcXGRydWdzLWFuZC1tZWRpY2luZXMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9kcnVncy1hbmQtbWVkaWNpbmVzL2RydWdzLWFuZC1tZWRpY2luZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsNkJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLCtCQUFBO0FDQ0Y7O0FERUU7RUFDRSxXQUFBO0FDQUo7O0FERUk7RUFDRSxjQUFBO0FDQU47O0FES007RUFDRSwrQkFBQTtFQUNBLGtCQUFBO0FDSFI7O0FES1E7RUFDRSw4QkFBQTtBQ0hWOztBREtVO0VBQ0Usb0JBQUE7QUNIWjs7QURJWTtFQUNFLFdBQUE7QUNGZDs7QURJYztFQUNFLGNBQUE7QUNGaEI7O0FETVk7RUFDRSxXQUFBO0FDSmQ7O0FET1k7RUFDRSxpQkFBQTtFQUNBLGNBQUE7QUNMZDs7QURRWTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtBQ05kOztBRFNZO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNQZDs7QURVWTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ1JkOztBRFVjO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtBQ1JoQjs7QURZYztFQUNFLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsNEJBQUE7RUFDQSxjQUFBO0VBQ0EsUUFBQTtBQ1ZoQjs7QURpQlU7RUFDRSxxQkFBQTtBQ2ZaIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZHJ1Z3MtYW5kLW1lZGljaW5lcy9kcnVncy1hbmQtbWVkaWNpbmVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1yZWZyZXNoZXIge1xyXG4gIHotaW5kZXg6IDE7XHJcbn1cclxuXHJcbmlvbi1yZWZyZXNoZXItY29udGVudCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi5wYWdpbmF0aW9uVGV4dCB7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gIG1hcmdpbi1sZWZ0OiA1dnc7XHJcbiAgbWFyZ2luLWJvdHRvbTogMDtcclxuICBmb250LXNpemU6IHNtYWxsO1xyXG59XHJcblxyXG5pb24tY29udGVudCB7XHJcbiAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcclxuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xyXG4gIFxyXG5cclxuICAud3JhcHBlciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAubm9Gb3VuZExhYmVsIHtcclxuICAgICAgZm9udC1zaXplOiAxZW07XHJcbiAgICB9XHJcblxyXG4gICAgaW9uLWxpc3Qge1xyXG5cclxuICAgICAgaW9uLWl0ZW0tc2xpZGluZyB7XHJcbiAgICAgICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxdmg7XHJcblxyXG4gICAgICAgIGlvbi1pdGVtIHtcclxuICAgICAgICAgIGJvcmRlci1sZWZ0OiBzb2xpZCAxdncgIzAwOTZjNjtcclxuXHJcbiAgICAgICAgICBpb24tZ3JpZCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDJ2aCAwIDJ2aCAwO1xyXG4gICAgICAgICAgICBpb24tcm93IHtcclxuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgICAgICAgaW9uLWNvbCB7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB1bnNldDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5ub3JtYWxUZXh0IHtcclxuICAgICAgICAgICAgICBjb2xvcjogIzQ0NDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmJsdWVUZXh0IHtcclxuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICAgICAgICBjb2xvcjogIzAwOTZjNjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsVGV4dEdyZXkge1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogc21hbGxlcjtcclxuICAgICAgICAgICAgICBjb2xvcjogIzk5OTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnNtYWxsZXN0VGV4dCB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM0NDQ7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuc21hbGxUZXh0QmxhY2sge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjNDQ0O1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogc21hbGw7XHJcblxyXG4gICAgICAgICAgICAgIC5ibHVlQmFja2dyb3VuZCB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDA5NmM2O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjVweDtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXZoIDJ2dyAwLjV2aCAydnc7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICAgICAgICAgIC8vIG1heC13aWR0aDogMjV2dztcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC5yaWdodCB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDA5NmM2O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjVweDtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41dmggMnZ3IDAuNXZoIDJ2dztcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taXRlbS1vcHRpb25zIHtcclxuICAgICAgICAgIGlvbi1pdGVtLW9wdGlvbiB7XHJcbiAgICAgICAgICAgIC0tYmFja2dyb3VuZDogIzNjYjk3OTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfVxyXG59XHJcbiIsImlvbi1yZWZyZXNoZXIge1xuICB6LWluZGV4OiAxO1xufVxuXG5pb24tcmVmcmVzaGVyLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuLnBhZ2luYXRpb25UZXh0IHtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBtYXJnaW4tbGVmdDogNXZ3O1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBmb250LXNpemU6IHNtYWxsO1xufVxuXG5pb24tY29udGVudCB7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG59XG5pb24tY29udGVudCAud3JhcHBlciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgLm5vRm91bmRMYWJlbCB7XG4gIGZvbnQtc2l6ZTogMWVtO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIG1hcmdpbi1ib3R0b206IDF2aDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0ge1xuICBib3JkZXItbGVmdDogc29saWQgMXZ3ICMwMDk2YzY7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIHtcbiAgcGFkZGluZzogMnZoIDAgMnZoIDA7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIGlvbi1yb3cge1xuICB3aWR0aDogMTAwJTtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgaW9uLXJvdyBpb24tY29sIHtcbiAgcGFkZGluZzogdW5zZXQ7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5ub3JtYWxUZXh0IHtcbiAgY29sb3I6ICM0NDQ7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5ibHVlVGV4dCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwOTZjNjtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgLnNtYWxsVGV4dEdyZXkge1xuICBmb250LXNpemU6IHNtYWxsZXI7XG4gIGNvbG9yOiAjOTk5O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxlc3RUZXh0IHtcbiAgY29sb3I6ICM0NDQ7XG4gIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5zbWFsbFRleHRCbGFjayB7XG4gIGNvbG9yOiAjNDQ0O1xuICBmb250LXNpemU6IHNtYWxsO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxUZXh0QmxhY2sgLmJsdWVCYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZDogIzAwOTZjNjtcbiAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBwYWRkaW5nOiAwLjV2aCAydncgMC41dmggMnZ3O1xuICBjb2xvcjogI2ZmZmZmZjtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgLnNtYWxsVGV4dEJsYWNrIC5yaWdodCB7XG4gIGJhY2tncm91bmQ6ICMwMDk2YzY7XG4gIGJvcmRlci1yYWRpdXM6IDI1cHg7XG4gIHdpZHRoOiBhdXRvO1xuICBwYWRkaW5nOiAwLjV2aCAydncgMC41dmggMnZ3O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgcmlnaHQ6IDA7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtLW9wdGlvbnMgaW9uLWl0ZW0tb3B0aW9uIHtcbiAgLS1iYWNrZ3JvdW5kOiAjM2NiOTc5O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DrugsAndMedicinesApiService } from './../../services/drugs-and-medicines-api.service';\r\nimport { DrugsAndMedicinesDetailDataService } from './../../services/drugs-and-medicines-detail-data.service';\r\nimport { PatientService } from './../../services/patient.service';\r\nimport { PermissionValidatorService } from './../../services/permission-validator.service';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { LoginService } from './../../services/login.service';\r\nimport { LoadingService } from './../../services/loading.service';\r\nimport { StringUtilsService } from './../../services/string-utils.service';\r\nimport { PromptModalPage } from './../../pages/prompt-modal/prompt-modal.page';\r\nimport { ModalController, MenuController } from '@ionic/angular';\r\nimport { AlertServiceService } from 'src/app/app/services/alert-service.service';\r\n\r\n@Component({\r\n  selector: 'app-drugs-and-medicines',\r\n  templateUrl: './drugs-and-medicines.page.html',\r\n  styleUrls: ['./drugs-and-medicines.page.scss'],\r\n})\r\nexport class DrugsAndMedicinesPage implements OnInit {\r\n  selectedEncounterNo: string;\r\n  medications: any[];\r\n  pMedicationSave = true;\r\n  meidcationConfigAndDefaults: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private drugsApi: DrugsAndMedicinesApiService,\r\n    private drugsAndMedicinesDetailDataService: DrugsAndMedicinesDetailDataService,\r\n    private patientService: PatientService,\r\n    private apiService: ApiService,\r\n    public loginService: LoginService,\r\n    private stringUtilsService: StringUtilsService,\r\n    private permissionValidatorService: PermissionValidatorService,\r\n    private loadingService: LoadingService,\r\n    private alertServ: AlertServiceService,\r\n    private menuController: MenuController\r\n  ) {\r\n    this.selectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    console.log(this.selectedEncounterNo);\r\n    this.drugsApi.setUrl(this.apiService.getUrl());\r\n    this.drugsApi.setToken(this.loginService.getAuthentication().token);\r\n    this.meidcationConfigAndDefaults = this.loginService.getConfigAndDefaults().medication;\r\n\r\n  }\r\n\r\n  fetchDefaultOptions(){\r\n    if(this.meidcationConfigAndDefaults['m-patient-medication']['default-options'].routes.length == 0){\r\n      this.drugsApi.getMedicationDefaultOptions().subscribe((response) => {\r\n        this.loginService.getConfigAndDefaults().medication['m-patient-medication']['default-options'] = response;\r\n        this.meidcationConfigAndDefaults = this.loginService.getConfigAndDefaults().medication;\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  initUserInterfaceByRole() {\r\n    // tslint:disable-next-line: max-line-length\r\n    this.pMedicationSave = this.permissionValidatorService.hasDrugsMedsEdit();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.menuController.swipeGesture(true, 'mainMenu');\r\n    this.menuController.swipeGesture(true, 'accountMenu');\r\n    this.initUserInterfaceByRole();\r\n    this.initDrugsAndMedicines();\r\n\r\n    this.fetchDefaultOptions();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    console.log('ionViewWillEnter');\r\n    const tempSelectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    if (this.selectedEncounterNo !== tempSelectedEncounterNo) {\r\n      console.log('selected patient changed');\r\n      this.selectedEncounterNo = tempSelectedEncounterNo;\r\n      this.initUserInterfaceByRole();\r\n      this.initDrugsAndMedicines();\r\n    }\r\n\r\n    const updatedDetails = this.drugsAndMedicinesDetailDataService.getDetails();\r\n    if (updatedDetails) {\r\n      const selectedItem = this.medications.find(element => {\r\n        return element.refno == updatedDetails.refno && element.item_id == updatedDetails.item_id;\r\n      });\r\n      if (selectedItem) {\r\n        selectedItem.route = updatedDetails.route;\r\n        selectedItem.frequency = updatedDetails.frequency;\r\n        selectedItem.dosage = updatedDetails.dosage;\r\n      }\r\n      this.drugsAndMedicinesDetailDataService.setDetails(null);\r\n    }\r\n  }\r\n\r\n  initDrugsAndMedicines(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.loadingService.present();\r\n      this.drugsApi.getDrugsAndMedicines(this.selectedEncounterNo).subscribe((response) => {\r\n        this.medications = response;\r\n        this.loadingService.dismiss().then(_ => {\r\n          resolve(response);\r\n        });\r\n      }, err => {\r\n        console.log(err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n          reject(err);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  viewDrugAndMedicine(index: number) {\r\n    const data = this.medications[index];\r\n    console.log(data);\r\n    this.router.navigate(['/menu/drugs-and-medicines/drugs-and-medicines-view',\r\n      { \r\n        encounter_no: data.encounter_nr, \r\n        refno: data.refno, \r\n        item_id: data.item_id, \r\n        drug_code: data.drug_code,\r\n        generic_name: data.generic_name,\r\n        item_name: data.item_name,\r\n        route: data.route,\r\n        frequency: data.frequency,\r\n        dosage: data.dosage,\r\n        source: data.meds\r\n      }]);\r\n  }\r\n\r\n  doRefreshDrugsAndMedicines(event: any) {\r\n    this.initDrugsAndMedicines().then(_ => {\r\n      event.target.complete();\r\n    }).catch(_ => {\r\n      event.target.complete();\r\n    });\r\n  }\r\n  \r\n}\r\n"],"sourceRoot":"webpack:///","file":"drugs-and-medicines-drugs-and-medicines-module-es5.js"}