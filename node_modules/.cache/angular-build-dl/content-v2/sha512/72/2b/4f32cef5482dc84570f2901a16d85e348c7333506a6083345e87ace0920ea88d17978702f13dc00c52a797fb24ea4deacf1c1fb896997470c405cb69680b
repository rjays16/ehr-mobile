function _possibleConstructorReturn(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(n):e}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _get(n,e,t){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,e,t){var l=_superPropBase(n,e);if(l){var r=Object.getOwnPropertyDescriptor(l,e);return r.get?r.get.call(t):r.value}})(n,e,t||n)}function _superPropBase(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=_getPrototypeOf(n)););return n}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_setPrototypeOf(n,e)}function _setPrototypeOf(n,e){return(_setPrototypeOf=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"7wfR":function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var l=t("8Y7J"),r=function(){var n=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"getSelectedEncounterNo",value:function(){return this.selectedEncounterNo}},{key:"setSelectedEncounterNo",value:function(n){this.selectedEncounterNo=n}},{key:"getTempEncounterNo",value:function(){return this.tempEncounterNo}},{key:"setTempEncounterNo",value:function(n){this.tempEncounterNo=n}},{key:"getSelectedPatientBriefInformation",value:function(){return this.selectedPatientInformation}},{key:"setSelectedPatientBriefInformation",value:function(n){this.selectedPatientInformation=n}},{key:"getPatientList",value:function(){return this.patients}},{key:"setPatientList",value:function(n){this.patients=n}},{key:"getMyPatientList",value:function(){return this.myPatients}},{key:"setMyPatientList",value:function(n){this.myPatients=n}},{key:"getNursePatientList",value:function(){return this.nursePatients}},{key:"setNursePatientList",value:function(n){this.nursePatients=n}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(n){this.type=n}},{key:"getWard",value:function(){return this.ward}},{key:"setWard",value:function(n){this.ward=n}},{key:"getSearchKeyword",value:function(){return this.searchKeyword}},{key:"setSearchKeyword",value:function(n){this.searchKeyword=n}}]),n}();return n.ngInjectableDef=l.bc({factory:function(){return new n},token:n,providedIn:"root"}),n}()},ChBM:function(n,e,t){"use strict";var l=t("8Y7J"),r=t("oBZk"),o=t("ZZ/e");t("RRim"),t("iInd"),t("gly3"),t("7wfR"),t("EFyh"),t("H+bZ"),t("Fzct"),t("7ch9"),t("Pasx"),t("9B/o"),t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return u}));var i=l.Bb({encapsulation:0,styles:[[".titleDiv[_ngcontent-%COMP%]{overflow-x:scroll;white-space:nowrap;text-align:center;margin:auto}.titleDiv[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:relative;color:#0096c6;font-size:1em;padding-left:4px;padding-right:4px;display:inline-block}.menuIcon[_ngcontent-%COMP%]{--padding-top:0px!important;--padding-end:0px!important;--padding-bottom:0px!important;--padding-start:0px!important;--border-radius:50%!important;width:36px!important;height:36px!important;margin:0!important}.subIcons[_ngcontent-%COMP%]{--padding-top:4px!important;--padding-end:4px!important;--padding-bottom:4px!important;--padding-start:4px!important;--border-radius:50%!important;width:30px!important;height:30px!important;margin:0 2px 0 0!important}"]],data:{}});function u(n){return l.Yb(0,[(n()(),l.Db(0,0,null,null,31,"ion-header",[],null,null,null,r.tb,r.r)),l.Cb(1,49152,null,0,o.C,[l.j,l.p,l.G],null,null),(n()(),l.Db(2,0,null,0,29,"ion-toolbar",[],null,null,null,r.cc,r.ab)),l.Cb(3,49152,null,0,o.Db,[l.j,l.p,l.G],null,null),(n()(),l.Db(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,r.gb,r.e)),l.Cb(5,49152,null,0,o.m,[l.j,l.p,l.G],null,null),(n()(),l.Db(6,0,null,0,1,"ion-menu-button",[["class","menuIcon"],["menu","mainMenu"]],null,null,null,r.Hb,r.G)),l.Cb(7,49152,null,0,o.S,[l.j,l.p,l.G],{menu:[0,"menu"]},null),(n()(),l.Db(8,0,null,0,3,"div",[["class","titleDiv"]],null,null,null,null,null)),(n()(),l.Db(9,0,null,null,2,"ion-title",[],null,null,null,r.ac,r.Y)),l.Cb(10,49152,null,0,o.Bb,[l.j,l.p,l.G],null,null),(n()(),l.Wb(11,0,["",""])),(n()(),l.Db(12,0,null,0,19,"ion-buttons",[["slot","end"]],null,null,null,r.gb,r.e)),l.Cb(13,49152,null,0,o.m,[l.j,l.p,l.G],null,null),(n()(),l.Db(14,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.showNotifications()&&l),l}),r.fb,r.d)),l.Cb(15,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(16,0,null,0,1,"ion-icon",[["ios","ios-notifications"],["md","md-notifications"],["slot","icon-only"]],null,null,null,r.ub,r.s)),l.Cb(17,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),l.Db(18,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.search()&&l),l}),r.fb,r.d)),l.Cb(19,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(20,0,null,0,1,"ion-icon",[["ios","ios-search"],["md","md-search"],["slot","icon-only"]],null,null,null,r.ub,r.s)),l.Cb(21,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),l.Db(22,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.print()&&l),l}),r.fb,r.d)),l.Cb(23,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(24,0,null,0,1,"ion-icon",[["ios","ios-print"],["md","md-print"],["slot","icon-only"]],null,null,null,r.ub,r.s)),l.Cb(25,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),l.Db(26,0,null,0,5,"ion-menu-toggle",[["menu","accountMenu"]],null,null,null,r.Ib,r.H)),l.Cb(27,49152,null,0,o.T,[l.j,l.p,l.G],{menu:[0,"menu"]},null),(n()(),l.Db(28,0,null,0,3,"ion-button",[["class","subIcons"]],null,null,null,r.fb,r.d)),l.Cb(29,49152,null,0,o.l,[l.j,l.p,l.G],null,null),(n()(),l.Db(30,0,null,0,1,"ion-icon",[["ios","ios-contact"],["md","md-contact"],["slot","icon-only"]],null,null,null,r.ub,r.s)),l.Cb(31,49152,null,0,o.D,[l.j,l.p,l.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(n,e){n(e,7,0,"mainMenu"),n(e,17,0,"ios-notifications","md-notifications"),n(e,21,0,"ios-search","md-search"),n(e,25,0,"ios-print","md-print"),n(e,27,0,"accountMenu"),n(e,31,0,"ios-contact","md-contact")}),(function(n,e){n(e,11,0,e.component.titleToUse)}))}},EFyh:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var l=t("8Y7J"),r=function(){var n=function(){function n(){_classCallCheck(this,n),this.inTestServer=!1}return _createClass(n,[{key:"getCredentials",value:function(){return this.credentials}},{key:"setTestServerIdent",value:function(n){this.inTestServer=1==n,console.log("this.inTestServer",this.inTestServer)}},{key:"setCredentials",value:function(n){this.credentials=n}},{key:"getAuthentication",value:function(){return this.authentication}},{key:"setAuthentication",value:function(n){this.authentication=n}},{key:"getConfigAndDefaults",value:function(){return this.configAndDefaults}},{key:"setConfigAndDefaults",value:function(n){this.configAndDefaults=n}}]),n}();return n.ngInjectableDef=l.bc({factory:function(){return new n},token:n,providedIn:"root"}),n}()},"H+bZ":function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var l=t("AytR"),r=t("8Y7J"),o=function(){var n=function(){function n(){_classCallCheck(this,n),this.url=l.a.url}return _createClass(n,[{key:"getUrl",value:function(){return this.url}},{key:"setUrl",value:function(n){this.url=n}}]),n}();return n.ngInjectableDef=r.bc({factory:function(){return new n},token:n,providedIn:"root"}),n}()},Pasx:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var l=t("8Y7J"),r=function(){var n=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"parseErrorMessage",value:function(n){var e="";return n.error?e=n.error.message?n.error.message:n.error:n.message&&(e=n.message),e}},{key:"parseErrorArrayMessage",value:function(n){var e="";return n.error?e=n.error.mandatories?n.error.mandatories:n.error:n.mandatories&&(e=n.mandatories),e}}]),n}();return n.ngInjectableDef=l.bc({factory:function(){return new n},token:n,providedIn:"root"}),n}()},RRim:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var l=t("mrSG"),r=(t("gly3"),t("7wfR"),t("EFyh"),t("H+bZ"),t("7ch9"),t("Pasx"),t("Fzct"),t("9B/o"),t("ZZ/e"),t("Hfim")),o=function(){function n(e,t,l,r,o,i,u,a,s,c,p,f){_classCallCheck(this,n),this.router=e,this.cf4ApiService=t,this.patientService=l,this.loginService=r,this.apiService=o,this.pdfViewerService=i,this.loadingService=u,this.stringUtilsService=a,this.platform=s,this.inAppBrowser=c,this.modalController=p,this.alertCtrl=f,this.options={location:"yes",hidden:"no",clearcache:"yes",clearsessioncache:"yes",zoom:"yes",hardwareback:"yes",mediaPlaybackRequiresUserAction:"no",shouldPauseOnSuspend:"no",closebuttoncaption:"Close",disallowoverscroll:"no",toolbar:"yes",enableViewportScale:"no",allowInlineMediaPlayback:"no",presentationstyle:"pagesheet",fullscreen:"yes"},this.showPDF=!1,this.cf4ApiService.setUrl(this.apiService.getUrl()),this.cf4ApiService.setToken(this.loginService.getAuthentication().token),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo()}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"showNotifications",value:function(){}},{key:"search",value:function(){this.router.navigate(["/menu/quick-search"])}},{key:"print",value:function(){var n=this;this.loadingService.present(),this.cf4ApiService.getCf4(this.selectedEncounterNo).subscribe((function(e){console.log("result: ",e),n.loadingService.dismiss().then((function(t){e&&e.filepath&&(e.check.mandatories?n.openAlertModalValidation("fail","Missing Required Fields!",e.check.message,e.check.mandatories,e,"Ok",e.filepath):n.openWithInAppBrowser(e.filepath))}))}),(function(e){console.log(e),n.loadingService.dismiss().then((function(t){var l=n.stringUtilsService.parseErrorMessage(e);n.openAlertModal("fail","Failed",l,"Ok")}))}))}},{key:"openWithInAppBrowser",value:function(n){return l.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"View CF4?",message:"Would you like to view the CF4 printout?",buttons:[{text:"No",handler:function(){console.log("Cancel clicked")}},{text:"Yes",handler:function(){l.inAppBrowser.create(n,"_system",l.options)}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"openAlertModal",value:function(n,e,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done";return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:r.a,cssClass:"my-custom-modal-css",componentProps:{alert:n,title:e,message:t,ok:o}});case 2:return(i=l.sent).onDidDismiss().then((function(n){null!==n&&console.log("result.data: ",n.data)})),l.next=6,i.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}},{key:"openAlertModalValidation",value:function(n,e,t,o,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Done",a=arguments.length>6?arguments[6]:void 0;return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var i,s=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:r.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:n,title:e,message:t,messageArray:o,ok:u}});case 2:return(i=l.sent).onDidDismiss().then((function(n){null!==n&&(console.log("result.data: ",n.data),s.showPDF=!0),s.openWithInAppBrowser(a)})),l.next=6,i.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}}]),n}()},VM0z:function(n,e,t){"use strict";t.d(e,"a",(function(){return u}));var l=t("mrSG"),r=t("ZZ/e"),o=t("Hfim"),i=t("8Y7J"),u=function(){var n=function(){function n(e,t,l){_classCallCheck(this,n),this.toastCtrl=e,this.modalController=t,this.alertController=l}return _createClass(n,[{key:"alertToast",value:function(n){return l.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AlertToast Message:",n),e.next=3,this.toastCtrl.create({message:n,duration:8e3});case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"openAlertModalValidation",value:function(n,e,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Done",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(n){};return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var a;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:o.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:n,title:e,message:t,messageArray:r,ok:i}});case 2:return(a=l.sent).onDidDismiss().then((function(n){u(n)})),l.next=6,a.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}},{key:"openPromptModal",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(n){},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Cancel",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(n){};return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var a;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{prompt:prompt,title:n,message:e,cancel:i,ok:t}});case 2:return(a=l.sent).onDidDismiss().then((function(n){r(n),u(n)})),l.next=6,a.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}},{key:"openAlertModal",value:function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(n){};return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var u;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{alert:n,title:e,message:t,ok:r}});case 2:return(u=l.sent).onDidDismiss().then((function(n){i(n)})),l.next=6,u.present();case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}),l,this)})))}},{key:"prompNAlert",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var a=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.nativeAlert=this.alertController.create({header:n,subHeader:e,message:t,backdropDismiss:i,keyboardClose:u,inputs:r,buttons:o}).then((function(n){a.nativeAlert.present()}));case 1:case"end":return l.stop()}}),l,this)})))}},{key:"prompInputNAlert",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],e=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){};return l.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var u=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:0==r.length&&(r=[{text:"OK",handler:function(n){o()}},{text:"Cancel",handler:function(n){i()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:n,keyboardClose:e,message:"",inputs:t,buttons:r}).then((function(n){u.nativeAlert.present()}));case 1:case"end":return l.stop()}}),l,this)})))}}]),n}();return n.ngInjectableDef=i.bc({factory:function(){return new n(i.cc(r.Tb),i.cc(r.Jb),i.cc(r.a))},token:n,providedIn:"root"}),n}()},gly3:function(n,e,t){"use strict";t.d(e,"a",(function(){return f}));var l=t("tS1D"),r=t("lJxs"),o=t("JIr8"),i=t("Cfvw"),u=t("z6cu"),a=t("IheW"),s=t("ZZ/e"),c=t("yp2w"),p=t("8Y7J"),f=function(){var n=function(){function n(e,t,l){_classCallCheck(this,n),this.platform=e,this.httpClient=t,this.http=l,this.url="http://localhost:3000",this.getcf4Path="/api/cf4/file/path"}return _createClass(n,[{key:"setUrl",value:function(n){this.url=n}},{key:"setToken",value:function(n){this.token=n}},{key:"getCf4",value:function(n){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var e={encounter_nr:n},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(i.a)(this.http.get(this.url+this.getcf4Path,e,t)).pipe(Object(l.a)(3e4),Object(r.a)((function(n){var e=JSON.parse(n.data);return console.log("CF4: ",e),e})),Object(o.a)((function(n,e){if("string"==typeof n.error)try{n.error=JSON.parse(n.error)}catch(t){}return console.log("CF4 error: ",n,e),Object(u.a)(n)})))}console.log("browser");var s=(new a.h).set("encounter_nr",n);console.log("params: ",s);var c={params:s,headers:new a.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",c),this.httpClient.get(this.url+this.getcf4Path,c).pipe(Object(l.a)(3e4),Object(r.a)((function(n){return console.log("CF4: ",n),n})),Object(o.a)((function(n,e){return console.log("CF4 error: ",n,e),Object(u.a)(n)})))}}]),n}();return n.ngInjectableDef=p.bc({factory:function(){return new n(p.cc(s.Nb),p.cc(a.c),p.cc(c.a))},token:n,providedIn:"root"}),n}()},sXoX:function(n,e,t){"use strict";t.r(e);var l,r=t("8Y7J"),o=t("IheW"),i=t("Cfvw"),u=t("z6cu"),a=t("tS1D"),s=t("lJxs"),c=t("JIr8"),p=t("ZZ/e"),f=t("yp2w"),h=((l=function(){function n(e,t,l){_classCallCheck(this,n),this.platform=e,this.httpClient=t,this.http=l,this.url="http://localhost:3000",this.referralListPath="/api/doctor/patient/referrals/data"}return _createClass(n,[{key:"setUrl",value:function(n){this.url=n}},{key:"setToken",value:function(n){this.token=n}},{key:"getReferralsList",value:function(n){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var e={id:n},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(i.a)(this.http.get(this.url+this.referralListPath,e,t)).pipe(Object(a.a)(3e4),Object(s.a)((function(n){var e=JSON.parse(n.data);return console.log("Referrals: ",e),e})),Object(c.a)((function(n,e){if("string"==typeof n.error)try{n.error=JSON.parse(n.error)}catch(t){console.log("err.error parse failed: ",t)}return console.log("Referrals error: ",n,e),Object(u.a)(n)})))}console.log("browser");var l=(new o.h).set("id",n);console.log("params: ",l);var r={params:l,headers:new o.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",r),this.httpClient.get(this.url+this.referralListPath,r).pipe(Object(a.a)(3e4),Object(s.a)((function(n){return console.log(n),n})),Object(c.a)((function(n,e){return console.log(e),console.error(n),Object(u.a)(n)})))}}]),n}()).ngInjectableDef=r.bc({factory:function(){return new l(r.cc(p.Nb),r.cc(o.c),r.cc(f.a))},token:l,providedIn:"root"}),l),b=t("7wfR"),d=t("7ch9"),g=t("H+bZ"),m=t("EFyh"),v=t("Pasx"),C=t("VM0z"),y=function(){function n(e,t,l,r,o,i,u,a){_classCallCheck(this,n),this.referralsApiService=e,this.patientService=t,this.apiService=l,this.loginService=r,this.loadingService=o,this.alertServ=i,this.stringUtilsService=u,this.menuController=a,this.pPatientReferralSave=!0,this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.referralsApiService.setUrl(this.apiService.getUrl()),this.referralsApiService.setToken(this.loginService.getAuthentication().token),this.referralConfigAndDefaults=this.loginService.getConfigAndDefaults().referral}return _createClass(n,[{key:"initReferrals",value:function(){var n=this;return new Promise((function(e,t){n.loadingService.present(),n.referralsApiService.getReferralsList(n.selectedEncounterNo).subscribe((function(t){console.log("result: ",t),t&&t.length>0&&(n.referrals=t),n.loadingService.dismiss().then((function(n){e(t)}))}),(function(e){console.log("err ",e),n.loadingService.dismiss().then((function(l){var r=n.stringUtilsService.parseErrorMessage(e);n.alertServ.openAlertModal("fail","Failed",r,"Ok"),t(e)}))}))}))}},{key:"ngOnInit",value:function(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initReferrals()}},{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter");var n=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==n&&(console.log("selected patient changed"),this.selectedEncounterNo=n,this.initReferrals())}},{key:"doRefreshReferrals",value:function(n){this.initReferrals().then((function(e){n.target.complete()})).catch((function(e){n.target.complete()}))}}]),n}(),k=function n(){_classCallCheck(this,n)},w=t("pMnS"),O=t("Jt+7"),_=t("oBZk"),P=t("SVse"),M=t("ChBM"),D=t("RRim"),x=t("iInd"),j=t("gly3"),S=t("Fzct"),N=t("9B/o"),R=r.Bb({encapsulation:0,styles:[["ion-title[_ngcontent-%COMP%]{text-align:center;color:#0096c6;font-size:2.3vh}ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8c8c8;font-style:italic}[_ngcontent-%COMP%]::placeholder{color:#c8c8c8;font-style:italic}.headerIcons[_ngcontent-%COMP%]{top:2.2vh;right:2.5vw;position:fixed;font-size:2.8vh}.headerIcons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:.6vw}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-top:2vh;width:100%;margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]{border-left:1vw solid #0096c6;--ion-background-color:white}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0!important;margin:0!important}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   .textSubLabel[_ngcontent-%COMP%]{color:#949494;font-size:x-small;text-align:left;-webkit-box-align:left;align-items:left;justify-items:left;margin-bottom:-.5vh!important;padding:0!important}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{color:#888;padding:0;text-align:left;display:inline-block}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium;word-break:break-all;white-space:normal}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #date[_ngcontent-%COMP%]{display:inline-grid;-webkit-box-align:left;align-items:left;justify-items:left;margin-left:4vw}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #department[_ngcontent-%COMP%]{display:inline-grid;margin-left:4vw;-webkit-box-align:left;align-items:left;justify-items:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #department[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;background-color:#63b5ed;text-align:left;padding-left:2vw;padding-right:2vw;font-size:small;display:inline-block;word-break:break-all;white-space:normal;border-radius:1vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #to[_ngcontent-%COMP%]{display:inline-grid;margin-left:2vw;-webkit-box-align:left;align-items:left;justify-items:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #to[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;background-color:#63b5ed;padding-left:2vw;padding-right:2vw;text-align:left;font-size:small;display:inline-block;word-break:break-all;white-space:normal;border-radius:1vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   #listItem[_ngcontent-%COMP%]   #reason[_ngcontent-%COMP%]{display:inline-grid;margin-left:4vw;-webkit-box-align:left;align-items:left;justify-items:left}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .paginationTextLabel[_ngcontent-%COMP%]{font-size:small;display:-webkit-box;display:flex;text-align:left;color:#000;margin-left:2vh;margin-right:2vh;padding:0}"]],data:{}});function I(n){return r.Yb(0,[(n()(),r.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(n()(),r.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function A(n){return r.Yb(0,[(n()(),r.Db(0,0,null,null,1,"div",[["class","noresult"]],null,null,null,null,null)),(n()(),r.Wb(-1,null,[" No Referrals found "]))],null,null)}function E(n){return r.Yb(0,[(n()(),r.Db(0,0,null,null,49,"ion-item",[["class","ion-no-padding"],["id","listItem"]],null,null,null,_.Db,_.w)),r.Cb(1,49152,null,0,p.I,[r.j,r.p,r.G],null,null),(n()(),r.Db(2,0,null,0,47,"ion-grid",[],null,null,null,_.sb,_.q)),r.Cb(3,49152,null,0,p.B,[r.j,r.p,r.G],null,null),(n()(),r.Db(4,0,null,0,11,"ion-row",[],null,null,null,_.Ob,_.M)),r.Cb(5,49152,null,0,p.kb,[r.j,r.p,r.G],null,null),(n()(),r.Db(6,0,null,0,9,"ion-col",[],null,null,null,_.lb,_.j)),r.Cb(7,49152,null,0,p.u,[r.j,r.p,r.G],null,null),(n()(),r.Db(8,0,null,0,7,"ion-label",[["id","date"]],null,null,null,_.Eb,_.C)),r.Cb(9,49152,null,0,p.O,[r.j,r.p,r.G],null,null),(n()(),r.Db(10,0,null,0,1,"p",[["class","textSubLabel"]],null,null,null,null,null)),(n()(),r.Wb(-1,null,["Date"])),(n()(),r.Db(12,0,null,0,3,"div",[["class","textLabel"]],null,null,null,null,null)),(n()(),r.Db(13,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),r.Wb(14,null,[""," ",""])),r.Sb(15,2),(n()(),r.Db(16,0,null,0,22,"ion-row",[],null,null,null,_.Ob,_.M)),r.Cb(17,49152,null,0,p.kb,[r.j,r.p,r.G],null,null),(n()(),r.Db(18,0,null,0,11,"ion-col",[["size","5"]],null,null,null,_.lb,_.j)),r.Cb(19,49152,null,0,p.u,[r.j,r.p,r.G],{size:[0,"size"]},null),(n()(),r.Db(20,0,null,0,9,"ion-label",[["id","department"]],null,null,null,_.Eb,_.C)),r.Cb(21,49152,null,0,p.O,[r.j,r.p,r.G],null,null),(n()(),r.Db(22,0,null,0,1,"p",[["class","textSubLabel"]],null,null,null,null,null)),(n()(),r.Wb(-1,null,["Referred by Department"])),(n()(),r.Db(24,0,null,0,5,"div",[["class","label"]],null,null,null,null,null)),(n()(),r.Db(25,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),r.Wb(26,null,["",""])),(n()(),r.Db(27,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),r.Db(28,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),r.Wb(29,null,["",""])),(n()(),r.Db(30,0,null,0,8,"ion-col",[["size","7"]],null,null,null,_.lb,_.j)),r.Cb(31,49152,null,0,p.u,[r.j,r.p,r.G],{size:[0,"size"]},null),(n()(),r.Db(32,0,null,0,6,"ion-label",[["id","to"]],null,null,null,_.Eb,_.C)),r.Cb(33,49152,null,0,p.O,[r.j,r.p,r.G],null,null),(n()(),r.Db(34,0,null,0,1,"p",[["class","textSubLabel"]],null,null,null,null,null)),(n()(),r.Wb(-1,null,["Referred To"])),(n()(),r.Db(36,0,null,0,2,"div",[["class","label"]],null,null,null,null,null)),(n()(),r.Db(37,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),r.Wb(38,null,["",""])),(n()(),r.Db(39,0,null,0,10,"ion-row",[],null,null,null,_.Ob,_.M)),r.Cb(40,49152,null,0,p.kb,[r.j,r.p,r.G],null,null),(n()(),r.Db(41,0,null,0,8,"ion-col",[],null,null,null,_.lb,_.j)),r.Cb(42,49152,null,0,p.u,[r.j,r.p,r.G],null,null),(n()(),r.Db(43,0,null,0,6,"ion-label",[["id","reason"]],null,null,null,_.Eb,_.C)),r.Cb(44,49152,null,0,p.O,[r.j,r.p,r.G],null,null),(n()(),r.Db(45,0,null,0,1,"p",[["class","textSubLabel"]],null,null,null,null,null)),(n()(),r.Wb(-1,null,["Reason"])),(n()(),r.Db(47,0,null,0,2,"div",[["class","textLabel"]],null,null,null,null,null)),(n()(),r.Db(48,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),r.Wb(49,null,["",""]))],(function(n,e){n(e,19,0,"5"),n(e,31,0,"7")}),(function(n,e){var t=r.Xb(e,14,0,n(e,15,0,r.Pb(e.parent,0),e.context.$implicit.data.referral_date_strtotime,"MMM dd, yyyy"));n(e,14,0,t,e.context.$implicit.data.referral_time_ampm),n(e,26,0,e.context.$implicit.referto_doctor_desc),n(e,29,0,e.context.$implicit.data.area_desc),n(e,38,0,e.context.$implicit.data.department_desc),n(e,49,0,e.context.$implicit.data.reason_desc)}))}function T(n){return r.Yb(0,[r.Qb(0,P.e,[r.A]),(n()(),r.Db(1,0,null,null,1,"app-headerbar",[["title","Referrals"]],null,null,null,M.b,M.a)),r.Cb(2,114688,null,0,D.a,[x.m,j.a,b.a,m.a,g.a,S.a,d.a,v.a,p.Nb,N.a,p.Jb,p.a],{titleToUse:[0,"titleToUse"]},null),(n()(),r.Db(3,0,null,null,14,"ion-content",[],null,null,null,_.mb,_.k)),r.Cb(4,49152,null,0,p.v,[r.j,r.p,r.G],null,null),(n()(),r.Db(5,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,e,t){var l=!0;return"ionRefresh"===e&&(l=!1!==n.component.doRefreshReferrals(t)&&l),l}),_.Nb,_.K)),r.Cb(6,49152,null,0,p.eb,[r.j,r.p,r.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(n()(),r.Db(7,0,null,0,1,"ion-refresher-content",[],null,null,null,_.Mb,_.L)),r.Cb(8,49152,null,0,p.fb,[r.j,r.p,r.G],null,null),(n()(),r.sb(16777216,null,0,1,null,I)),r.Cb(10,16384,null,0,P.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(n()(),r.Db(11,0,null,0,6,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),r.Db(12,0,null,null,5,"ion-list",[],null,null,null,_.Gb,_.D)),r.Cb(13,49152,null,0,p.P,[r.j,r.p,r.G],null,null),(n()(),r.sb(16777216,null,0,1,null,A)),r.Cb(15,16384,null,0,P.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(n()(),r.sb(16777216,null,0,1,null,E)),r.Cb(17,278528,null,0,P.k,[r.Y,r.U,r.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,2,0,"Referrals"),n(e,6,0,"0.5","200","100"),n(e,10,0,t.loginService.inTestServer),n(e,15,0,t.referrals&&t.referrals.length<1||!t.referrals),n(e,17,0,t.referrals)}),null)}var G=r.zb("app-referrals",y,(function(n){return r.Yb(0,[(n()(),r.Db(0,0,null,null,1,"app-referrals",[],null,null,null,T,R)),r.Cb(1,114688,null,0,y,[h,b.a,g.a,m.a,d.a,C.a,v.a,p.Ib],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),F=t("s7LF"),z=t("gRf5"),B=t("wMzM"),J=t("t8sF"),L=t("/nUa"),W=t("j1ZV");t.d(e,"ReferralsPageModuleNgFactory",(function(){return U}));var U=r.Ab(k,[],(function(n){return r.Mb([r.Nb(512,r.m,r.lb,[[8,[w.a,O.a,G]],[3,r.m],r.E]),r.Nb(4608,P.n,P.m,[r.A,[2,P.C]]),r.Nb(4608,F.w,F.w,[]),r.Nb(4608,p.b,p.b,[r.G,r.g]),r.Nb(4608,p.Jb,p.Jb,[p.b,r.m,r.w]),r.Nb(4608,p.Ob,p.Ob,[p.b,r.m,r.w]),r.Nb(4608,o.j,o.p,[P.d,r.J,o.n]),r.Nb(4608,o.q,o.q,[o.j,o.o]),r.Nb(5120,o.a,(function(n){return[n]}),[o.q]),r.Nb(4608,o.m,o.m,[]),r.Nb(6144,o.k,null,[o.m]),r.Nb(4608,o.i,o.i,[o.k]),r.Nb(6144,o.b,null,[o.i]),r.Nb(4608,o.f,o.l,[o.b,r.w]),r.Nb(4608,o.c,o.c,[o.f]),r.Nb(4608,z.a,z.a,[]),r.Nb(4608,B.a,B.a,[]),r.Nb(4608,J.a,J.a,[]),r.Nb(4608,S.a,S.a,[B.a,z.a,J.a,L.a,d.a]),r.Nb(1073742336,P.c,P.c,[]),r.Nb(1073742336,F.v,F.v,[]),r.Nb(1073742336,F.i,F.i,[]),r.Nb(1073742336,p.Fb,p.Fb,[]),r.Nb(1073742336,x.q,x.q,[[2,x.v],[2,x.m]]),r.Nb(1073742336,o.e,o.e,[]),r.Nb(1073742336,o.d,o.d,[]),r.Nb(1073742336,W.a,W.a,[]),r.Nb(1073742336,k,k,[]),r.Nb(256,o.n,"XSRF-TOKEN",[]),r.Nb(256,o.o,"X-XSRF-TOKEN",[]),r.Nb(1024,x.k,(function(){return[[{path:"",component:y}]]}),[])])}))},tS1D:function(n,e,t){"use strict";var l=t("D0XW"),r=function(){function n(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return n.prototype=Object.create(Error.prototype),n}(),o=t("l7GE"),i=t("ZUHj"),u=function(){function n(e,t,l,r){_classCallCheck(this,n),this.waitFor=e,this.absoluteTimeout=t,this.withObservable=l,this.scheduler=r}return _createClass(n,[{key:"call",value:function(n,e){return e.subscribe(new a(n,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),n}(),a=function(n){function e(n,t,l,r,o){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).absoluteTimeout=t,i.waitFor=l,i.withObservable=r,i.scheduler=o,i.action=null,i.scheduleTimeout(),i}return _inherits(e,n),_createClass(e,[{key:"scheduleTimeout",value:function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(n){this.absoluteTimeout||this.scheduleTimeout(),_get(_getPrototypeOf(e.prototype),"_next",this).call(this,n)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(n){var e=n.withObservable;n._unsubscribeAndRecycle(),n.add(Object(i.a)(n,e))}}]),e}(o.a),s=t("z6cu");function c(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a;return function(l){var r,o=(r=n)instanceof Date&&!isNaN(+r),i=o?+n-t.now():Math.abs(n);return l.lift(new u(i,o,e,t))}}(n,Object(s.a)(new r),e)}t.d(e,"a",(function(){return c}))},z6cu:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var l=t("HDdC");function r(n,e){return new l.a(e?function(t){return e.schedule(o,0,{error:n,subscriber:t})}:function(e){return e.error(n)})}function o(n){var e=n.error;n.subscriber.error(e)}}}]);