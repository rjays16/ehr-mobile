{"version":3,"sources":["./src/app/pages/drugs-and-medicines/drugs-and-medicines.page.html","./src/app/pages/drugs-and-medicines/drugs-and-medicines.module.ts","./src/app/pages/drugs-and-medicines/drugs-and-medicines.page.scss","./src/app/pages/drugs-and-medicines/drugs-and-medicines.page.ts"],"names":[],"mappings":"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","file":"drugs-and-medicines-drugs-and-medicines-module-es2015.js","sourcesContent":["export default \"<app-headerbar title=\\\"Drugs and Medicines\\\"></app-headerbar>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"doRefreshDrugsAndMedicines($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"testServer\\\" *ngIf=\\\"loginService.inTestServer\\\">\\r\\n    TEST SERVER CONNECTED\\r\\n  </div>\\r\\n  <div class=\\\"wrapper\\\" style=\\\"margin-top: 10px\\\">\\r\\n    <div class=\\\"noresult\\\" *ngIf=\\\"(medications && medications.length < 1) || !(medications)\\\">\\r\\n      No Medication Found\\r\\n    </div>\\r\\n    <ion-list>\\r\\n      <ion-item-sliding *ngFor=\\\"let med of medications; let i = index\\\">\\r\\n        <ion-item >\\r\\n          <ion-grid>\\r\\n            <ion-row class=\\\"normalText\\\">\\r\\n              <ion-col>\\r\\n                <ion-grid class=\\\"meds-header\\\" style=\\\"padding: 0px;\\\">\\r\\n                  <ion-row>\\r\\n                    <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\">\\r\\n                      {{med.refno}} - {{med.area}} \\r\\n                    </ion-col>\\r\\n                    <ion-col class=\\\"meds-date\\\" size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\">\\r\\n                      {{med.orderdate_tmps  * 1000 | date:'MMM dd, yyyy hh:mm a'}}\\r\\n                    </ion-col>\\r\\n                  </ion-row>\\r\\n                </ion-grid>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"blueText\\\">\\r\\n              <ion-col><span style=\\\"font-weight: bolder;font-size: 20px;\\\">[{{med.item_id}}]</span> {{med.item_name}} <app-modified-b-toast [modifiedBy]=\\\"med.modified_by\\\" [modifiedDate]=\\\"\\\"></app-modified-b-toast></ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextGrey\\\">\\r\\n              <ion-col>{{med.generic_name}}</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallestText\\\" style=\\\"margin-top: 5px;\\\">\\r\\n              <ion-col size=\\\"4\\\">Dosage</ion-col>\\r\\n              <ion-col size=\\\"2.5\\\">Frequency</ion-col>\\r\\n              <ion-col size=\\\"4\\\">Route</ion-col>\\r\\n              <ion-col size=\\\"1.5\\\">Quantity</ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row class=\\\"smallTextBlack\\\">\\r\\n              <ion-col size=\\\"4\\\" class=\\\"blueBackground\\\">{{med.dosage}}</ion-col>\\r\\n              <ion-col size=\\\"2.5\\\"  class=\\\"blueBackground\\\">{{med.frequency}}</ion-col>\\r\\n              <ion-col size=\\\"4\\\"  class=\\\"blueBackground\\\">{{med.route}}</ion-col>\\r\\n              <ion-col size=\\\"1.5\\\" class=\\\"blueBackground\\\">{{med.quantity}}</ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </ion-item>\\r\\n        <ion-item-options *ngIf=\\\"med.refno!=''\\\" side=\\\"end\\\">\\r\\n          <ion-item-option *ngIf=\\\"pMedicationSave\\\" (click)=\\\"viewDrugAndMedicine(i)\\\"><ion-icon ios=\\\"ios-create\\\" md=\\\"md-create\\\"></ion-icon></ion-item-option>\\r\\n          <ion-item-option *ngIf=\\\"!pMedicationSave\\\" (click)=\\\"viewDrugAndMedicine(i)\\\"><ion-icon ios=\\\"ios-eye\\\" md=\\\"md-eye\\\"></ion-icon></ion-item-option>\\r\\n        </ion-item-options>\\r\\n      </ion-item-sliding>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DrugsAndMedicinesPage } from './drugs-and-medicines.page';\r\nimport { ComponentsModule } from './../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DrugsAndMedicinesPage\r\n  },\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: 'drugs-and-medicines-view',\r\n        loadChildren: '../drugs-and-medicines-view/drugs-and-medicines-view.module#DrugsAndMedicinesViewPageModule'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [DrugsAndMedicinesPage]\r\n})\r\nexport class DrugsAndMedicinesPageModule {}\r\n","export default \"ion-refresher {\\n  z-index: 1;\\n}\\n\\nion-refresher-content {\\n  background-color: transparent;\\n}\\n\\n.paginationText {\\n  font-style: italic;\\n  margin-left: 5vw;\\n  margin-bottom: 0;\\n  font-size: small;\\n}\\n\\n@media only screen and (min-width: 768px) {\\n  .meds-header .meds-date {\\n    text-align: right;\\n    font-size: inherit !important;\\n  }\\n}\\n\\n.meds-header .meds-date {\\n  font-size: 1.3vh;\\n}\\n\\nion-content {\\n  background: #f9f9f9;\\n  --ion-background-color: #f9f9f9;\\n}\\n\\nion-content .wrapper {\\n  width: 100%;\\n}\\n\\nion-content .wrapper .noFoundLabel {\\n  font-size: 1em;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding {\\n  --ion-background-color: #ffffff;\\n  margin-bottom: 1vh;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item {\\n  border-left: solid 1vw #0096c6;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid {\\n  padding: 2vh 0 2vh 0;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row {\\n  width: 100%;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid ion-row ion-col {\\n  padding: unset;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .normalText {\\n  color: #444;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .blueText {\\n  font-weight: bold;\\n  color: #0096c6;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextGrey {\\n  font-size: smaller;\\n  color: #999;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallestText {\\n  color: #444;\\n  font-size: x-small;\\n  font-weight: bold;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack {\\n  color: #444;\\n  font-size: small;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .blueBackground {\\n  background: #0096c6;\\n  border-radius: 25px;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  padding: 0.5vh 2vw 0.5vh 2vw;\\n  color: #ffffff;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item ion-grid .smallTextBlack .right {\\n  background: #0096c6;\\n  border-radius: 25px;\\n  width: auto;\\n  padding: 0.5vh 2vw 0.5vh 2vw;\\n  color: #ffffff;\\n  right: 0;\\n}\\n\\nion-content .wrapper ion-list ion-item-sliding ion-item-options ion-item-option {\\n  --background: #3cb979;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZHJ1Z3MtYW5kLW1lZGljaW5lcy9EOlxccHJvamVjdHNcXGlvbmljc1xcZWhyLW1vYmlsZS9zcmNcXGFwcFxccGFnZXNcXGRydWdzLWFuZC1tZWRpY2luZXNcXGRydWdzLWFuZC1tZWRpY2luZXMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9kcnVncy1hbmQtbWVkaWNpbmVzL2RydWdzLWFuZC1tZWRpY2luZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtBQ0NGOztBREVBO0VBQ0UsNkJBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRTtJQUNJLGlCQUFBO0lBQ0EsNkJBQUE7RUNDSjtBQUNGOztBREVBO0VBQ0UsZ0JBQUE7QUNBRjs7QURHQTtFQUNFLG1CQUFBO0VBQ0EsK0JBQUE7QUNBRjs7QURHRTtFQUNFLFdBQUE7QUNESjs7QURHSTtFQUNFLGNBQUE7QUNETjs7QURNTTtFQUNFLCtCQUFBO0VBQ0Esa0JBQUE7QUNKUjs7QURNUTtFQUNFLDhCQUFBO0FDSlY7O0FETVU7RUFDRSxvQkFBQTtBQ0paOztBREtZO0VBQ0UsV0FBQTtBQ0hkOztBREtjO0VBQ0UsY0FBQTtBQ0hoQjs7QURPWTtFQUNFLFdBQUE7QUNMZDs7QURRWTtFQUNFLGlCQUFBO0VBQ0EsY0FBQTtBQ05kOztBRFNZO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0FDUGQ7O0FEVVk7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQ1JkOztBRFdZO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0FDVGQ7O0FEV2M7RUFDRSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsNEJBQUE7RUFDQSxjQUFBO0FDVGhCOztBRGFjO0VBQ0UsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSw0QkFBQTtFQUNBLGNBQUE7RUFDQSxRQUFBO0FDWGhCOztBRGtCVTtFQUNFLHFCQUFBO0FDaEJaIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZHJ1Z3MtYW5kLW1lZGljaW5lcy9kcnVncy1hbmQtbWVkaWNpbmVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1yZWZyZXNoZXIge1xyXG4gIHotaW5kZXg6IDE7XHJcbn1cclxuXHJcbmlvbi1yZWZyZXNoZXItY29udGVudCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi5wYWdpbmF0aW9uVGV4dCB7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gIG1hcmdpbi1sZWZ0OiA1dnc7XHJcbiAgbWFyZ2luLWJvdHRvbTogMDtcclxuICBmb250LXNpemU6IHNtYWxsO1xyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XHJcbiAgLm1lZHMtaGVhZGVyIC5tZWRzLWRhdGV7XHJcbiAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgICBmb250LXNpemU6IGluaGVyaXQgIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuXHJcbi5tZWRzLWhlYWRlciAubWVkcy1kYXRle1xyXG4gIGZvbnQtc2l6ZTogMS4zdmg7XHJcbn1cclxuXHJcbmlvbi1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kOiAjZjlmOWY5O1xyXG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgXHJcblxyXG4gIC53cmFwcGVyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgIC5ub0ZvdW5kTGFiZWwge1xyXG4gICAgICBmb250LXNpemU6IDFlbTtcclxuICAgIH1cclxuXHJcbiAgICBpb24tbGlzdCB7XHJcblxyXG4gICAgICBpb24taXRlbS1zbGlkaW5nIHtcclxuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDF2aDtcclxuXHJcbiAgICAgICAgaW9uLWl0ZW0ge1xyXG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IHNvbGlkIDF2dyAjMDA5NmM2O1xyXG5cclxuICAgICAgICAgIGlvbi1ncmlkIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMnZoIDAgMnZoIDA7XHJcbiAgICAgICAgICAgIGlvbi1yb3cge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAgICAgICBpb24tY29sIHtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IHVuc2V0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLm5vcm1hbFRleHQge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjNDQ0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuYmx1ZVRleHQge1xyXG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjMDA5NmM2O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuc21hbGxUZXh0R3JleSB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiBzbWFsbGVyO1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjOTk5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuc21hbGxlc3RUZXh0IHtcclxuICAgICAgICAgICAgICBjb2xvcjogIzQ0NDtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IHgtc21hbGw7XHJcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5zbWFsbFRleHRCbGFjayB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICM0NDQ7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiBzbWFsbDtcclxuXHJcbiAgICAgICAgICAgICAgLmJsdWVCYWNrZ3JvdW5kIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDk2YzY7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC41dmggMnZ3IDAuNXZoIDJ2dztcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgLy8gbWF4LXdpZHRoOiAyNXZ3O1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLnJpZ2h0IHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDk2YzY7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGF1dG87XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjV2aCAydncgMC41dmggMnZ3O1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICAgICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlvbi1pdGVtLW9wdGlvbnMge1xyXG4gICAgICAgICAgaW9uLWl0ZW0tb3B0aW9uIHtcclxuICAgICAgICAgICAgLS1iYWNrZ3JvdW5kOiAjM2NiOTc5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuIiwiaW9uLXJlZnJlc2hlciB7XG4gIHotaW5kZXg6IDE7XG59XG5cbmlvbi1yZWZyZXNoZXItY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4ucGFnaW5hdGlvblRleHQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIG1hcmdpbi1sZWZ0OiA1dnc7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgLm1lZHMtaGVhZGVyIC5tZWRzLWRhdGUge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIGZvbnQtc2l6ZTogaW5oZXJpdCAhaW1wb3J0YW50O1xuICB9XG59XG4ubWVkcy1oZWFkZXIgLm1lZHMtZGF0ZSB7XG4gIGZvbnQtc2l6ZTogMS4zdmg7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5pb24tY29udGVudCAud3JhcHBlciAubm9Gb3VuZExhYmVsIHtcbiAgZm9udC1zaXplOiAxZW07XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIHtcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgbWFyZ2luLWJvdHRvbTogMXZoO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSB7XG4gIGJvcmRlci1sZWZ0OiBzb2xpZCAxdncgIzAwOTZjNjtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQge1xuICBwYWRkaW5nOiAydmggMCAydmggMDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgaW9uLXJvdyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCBpb24tcm93IGlvbi1jb2wge1xuICBwYWRkaW5nOiB1bnNldDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgLm5vcm1hbFRleHQge1xuICBjb2xvcjogIzQ0NDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgLmJsdWVUZXh0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMDA5NmM2O1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxUZXh0R3JleSB7XG4gIGZvbnQtc2l6ZTogc21hbGxlcjtcbiAgY29sb3I6ICM5OTk7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5zbWFsbGVzdFRleHQge1xuICBjb2xvcjogIzQ0NDtcbiAgZm9udC1zaXplOiB4LXNtYWxsO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0gaW9uLWdyaWQgLnNtYWxsVGV4dEJsYWNrIHtcbiAgY29sb3I6ICM0NDQ7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5pb24tY29udGVudCAud3JhcHBlciBpb24tbGlzdCBpb24taXRlbS1zbGlkaW5nIGlvbi1pdGVtIGlvbi1ncmlkIC5zbWFsbFRleHRCbGFjayAuYmx1ZUJhY2tncm91bmQge1xuICBiYWNrZ3JvdW5kOiAjMDA5NmM2O1xuICBib3JkZXItcmFkaXVzOiAyNXB4O1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gIHBhZGRpbmc6IDAuNXZoIDJ2dyAwLjV2aCAydnc7XG4gIGNvbG9yOiAjZmZmZmZmO1xufVxuaW9uLWNvbnRlbnQgLndyYXBwZXIgaW9uLWxpc3QgaW9uLWl0ZW0tc2xpZGluZyBpb24taXRlbSBpb24tZ3JpZCAuc21hbGxUZXh0QmxhY2sgLnJpZ2h0IHtcbiAgYmFja2dyb3VuZDogIzAwOTZjNjtcbiAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgd2lkdGg6IGF1dG87XG4gIHBhZGRpbmc6IDAuNXZoIDJ2dyAwLjV2aCAydnc7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICByaWdodDogMDtcbn1cbmlvbi1jb250ZW50IC53cmFwcGVyIGlvbi1saXN0IGlvbi1pdGVtLXNsaWRpbmcgaW9uLWl0ZW0tb3B0aW9ucyBpb24taXRlbS1vcHRpb24ge1xuICAtLWJhY2tncm91bmQ6ICMzY2I5Nzk7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DrugsAndMedicinesApiService } from './../../services/drugs-and-medicines-api.service';\r\nimport { DrugsAndMedicinesDetailDataService } from './../../services/drugs-and-medicines-detail-data.service';\r\nimport { PatientService } from './../../services/patient.service';\r\nimport { PermissionValidatorService } from './../../services/permission-validator.service';\r\nimport { ApiService } from './../../services/api.service';\r\nimport { LoginService } from './../../services/login.service';\r\nimport { LoadingService } from './../../services/loading.service';\r\nimport { StringUtilsService } from './../../services/string-utils.service';\r\nimport { PromptModalPage } from './../../pages/prompt-modal/prompt-modal.page';\r\nimport { ModalController, MenuController } from '@ionic/angular';\r\nimport { AlertServiceService } from 'src/app/app/services/alert-service.service';\r\n\r\n@Component({\r\n  selector: 'app-drugs-and-medicines',\r\n  templateUrl: './drugs-and-medicines.page.html',\r\n  styleUrls: ['./drugs-and-medicines.page.scss'],\r\n})\r\nexport class DrugsAndMedicinesPage implements OnInit {\r\n  selectedEncounterNo: string;\r\n  medications: any[];\r\n  pMedicationSave = true;\r\n  meidcationConfigAndDefaults: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private drugsApi: DrugsAndMedicinesApiService,\r\n    private drugsAndMedicinesDetailDataService: DrugsAndMedicinesDetailDataService,\r\n    private patientService: PatientService,\r\n    private apiService: ApiService,\r\n    public loginService: LoginService,\r\n    private stringUtilsService: StringUtilsService,\r\n    private permissionValidatorService: PermissionValidatorService,\r\n    private loadingService: LoadingService,\r\n    private alertServ: AlertServiceService,\r\n    private menuController: MenuController\r\n  ) {\r\n    this.selectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    console.log(this.selectedEncounterNo);\r\n    this.drugsApi.setUrl(this.apiService.getUrl());\r\n    this.drugsApi.setToken(this.loginService.getAuthentication().token);\r\n    this.meidcationConfigAndDefaults = this.loginService.getConfigAndDefaults().medication;\r\n\r\n  }\r\n\r\n  fetchDefaultOptions(){\r\n    if(this.meidcationConfigAndDefaults['m-patient-medication']['default-options'].routes.length == 0){\r\n      this.drugsApi.getMedicationDefaultOptions().subscribe((response) => {\r\n        this.loginService.getConfigAndDefaults().medication['m-patient-medication']['default-options'] = response;\r\n        this.meidcationConfigAndDefaults = this.loginService.getConfigAndDefaults().medication;\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  initUserInterfaceByRole() {\r\n    // tslint:disable-next-line: max-line-length\r\n    this.pMedicationSave = this.permissionValidatorService.hasDrugsMedsEdit();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.menuController.swipeGesture(true, 'mainMenu');\r\n    this.menuController.swipeGesture(true, 'accountMenu');\r\n    this.initUserInterfaceByRole();\r\n    this.initDrugsAndMedicines();\r\n\r\n    this.fetchDefaultOptions();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    console.log('ionViewWillEnter');\r\n    const tempSelectedEncounterNo = this.patientService.getSelectedEncounterNo();\r\n    if (this.selectedEncounterNo !== tempSelectedEncounterNo) {\r\n      console.log('selected patient changed');\r\n      this.selectedEncounterNo = tempSelectedEncounterNo;\r\n      this.initUserInterfaceByRole();\r\n      this.initDrugsAndMedicines();\r\n    }\r\n\r\n    const updatedDetails = this.drugsAndMedicinesDetailDataService.getDetails();\r\n    if (updatedDetails) {\r\n      const selectedItem = this.medications.find(element => {\r\n        return element.refno == updatedDetails.refno && element.item_id == updatedDetails.item_id;\r\n      });\r\n      if (selectedItem) {\r\n        selectedItem.route = updatedDetails.route;\r\n        selectedItem.frequency = updatedDetails.frequency;\r\n        selectedItem.dosage = updatedDetails.dosage;\r\n      }\r\n      this.drugsAndMedicinesDetailDataService.setDetails(null);\r\n    }\r\n  }\r\n\r\n  initDrugsAndMedicines(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.loadingService.present();\r\n      this.drugsApi.getDrugsAndMedicines(this.selectedEncounterNo).subscribe((response) => {\r\n        this.medications = response;\r\n        this.loadingService.dismiss().then(_ => {\r\n          resolve(response);\r\n        });\r\n      }, err => {\r\n        console.log(err);\r\n        this.loadingService.dismiss().then(_ => {\r\n          const message = this.stringUtilsService.parseErrorMessage(err);\r\n          this.alertServ.openAlertModal('fail', 'Failed', message, 'Ok');\r\n          reject(err);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  viewDrugAndMedicine(index: number) {\r\n    const data = this.medications[index];\r\n    console.log(data);\r\n    this.router.navigate(['/menu/drugs-and-medicines/drugs-and-medicines-view',\r\n      { \r\n        encounter_no: data.encounter_nr, \r\n        refno: data.refno, \r\n        item_id: data.item_id, \r\n        drug_code: data.drug_code,\r\n        generic_name: data.generic_name,\r\n        item_name: data.item_name,\r\n        route: data.route,\r\n        frequency: data.frequency,\r\n        dosage: data.dosage,\r\n        source: data.meds\r\n      }]);\r\n  }\r\n\r\n  doRefreshDrugsAndMedicines(event: any) {\r\n    this.initDrugsAndMedicines().then(_ => {\r\n      event.target.complete();\r\n    }).catch(_ => {\r\n      event.target.complete();\r\n    });\r\n  }\r\n  \r\n}\r\n"],"sourceRoot":"webpack:///"}