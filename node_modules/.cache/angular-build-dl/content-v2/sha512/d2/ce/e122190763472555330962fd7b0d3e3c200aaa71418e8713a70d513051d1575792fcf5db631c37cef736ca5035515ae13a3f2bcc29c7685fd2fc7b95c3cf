function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{LDXv:function(e,n,t){"use strict";var i,r=t("8Y7J"),l=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"compare",value:function(e,n){var t={};return e.forEach((function(e){return n.forEach((function(n){e.id===n.id&&(t[e.id]=t[e.id]+1||1)}))})),Object.keys(t)}}]),e}()).ngInjectableDef=r.bc({factory:function(){return new i},token:i,providedIn:"root"}),i);t.d(n,"a",(function(){return a}));var o,a=((o=function(){function e(n){_classCallCheck(this,e),this.arrayComparatorService=n,this.throwsErrorCode=5011,this.perms={allPermission:"_a_0_all",manageEhr:"_a_1_ehr_sudomanage",viewAllDept:"_a_2_ehr_view_all_dept",viewOwnDept:"_a_3_ehr_view_own_dept",editAllDept:"_a_2_ehr_edit_all_dept",editOwnDept:"_a_3_ehr_edit_own_dept",overideInct:"_a_2_ehr_override_my_patient",overideInctSoap:"_a_3_ehr_soap",overideInctSoapDiag:"_a_2_ehr_override_final_dx",overideInctSoapDiag2:"_a_4_ehr_override_final_dx",overideInctPastMed:"_a_3_ehr_past_medical_history",overideInctPsigns:"_a_3_ehr_pertinent_signs_and_symptoms",overideInctHciRef:"_a_3_ehr_referred_hci",overideInctPhysExam:"_a_3_ehr_physical_examination",overideInctMedicat:"_a_3_ehr_medication",overideInctPlanMan:"_a_3_ehr_plan_management",overideInctEndCare:"_a_3_ehr_end_of_care"},this.portlets={soap:"soap",soapDiag:"soapDiag",pastMed:"pastMed",pSigns:"pSings",refHci:"refHci",physExam:"physExam",medict:"medict",planMan:"planMan",endCare:"endCare"}}return _createClass(e,[{key:"setAuthentication",value:function(e){this.authentication=e}},{key:"setSelectedPatient",value:function(e){this.selectedPatient=e}},{key:"validateRole",value:function(e){var n=this,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log("user roleName: ",this.roleName);var r=e.role_name,l=e["other-permissions"],o=!1;if(this.authentication.user.permissions.map((function(n){"all"===e[0]?o="_a_0_all"===n.permission_id:"sudomanage"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id:"view_all_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_view_all_dept"===n.permission_id:"view_own_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_view_all_dept"===n.permission_id||"_a_3_ehr_view_own_dept"===n.permission_id:"edit_all_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_edit_all_dept"===n.permission_id:"edit_own_dept"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_edit_all_dept"===n.permission_id||"_a_3_ehr_edit_own_dept"===n.permission_id:"override_my_patient"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id:"soap"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_soap"===n.permission_id:"override_final_dx"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_4_ehr_override_final_dx"===n.permission_id||"_a_3_ehr_soap"===n.permission_id:"past_medical_history"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_past_medical_history"===n.permission_id:"pertinent_signs_and_symptoms"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_pertinent_signs_and_symptoms"===n.permission_id:"referred_hci"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_referred_hci"===n.permission_id:"physical_examination"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_physical_examination"===n.permission_id:"medication"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_medication"===n.permission_id:"plan_managem"===e[0]?o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_plan_management"===n.permission_id:"end_of_care"===e[0]&&(o="_a_0_all"===n.permission_id||"_a_1_ehr_sudomanage"===n.permission_id||"_a_2_ehr_override_my_patient"===n.permission_id||"_a_3_ehr_end_of_care"===n.permission_id)})),i)return o;console.log("roleNames: ",r);var a=!0;if(Array.isArray(r)&&r.length>0){var s=r.findIndex((function(e){return console.log("element: ",e," this.roleName: ",n.roleName),-1!=n.roleName.toUpperCase().indexOf(e.toUpperCase())}));console.log("index: ",s),a=s>=0}console.log("validRole: ",a);var u=!1;return Array.isArray(l)&&l.length>0&&(u=this.arrayComparatorService.compare(l,this.permissions).length>0),console.log("validOtherPermission: ",u),!t||(console.log("selectedPatient: ",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log("is_discharged"),u)}},{key:"hasAllPermission",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.allPermission}))}},{key:"hasManageEhr",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.manageEhr}))}},{key:"hasEdit",value:function(){var e=this;return!!this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.editAllDept}))||this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.editOwnDept}))&&this.selectedPatient.isInMyDept}},{key:"hasView",value:function(){var e=this;return!!this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.viewAllDept}))||this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.viewOwnDept}))&&this.selectedPatient.isInMyDept}},{key:"hasHigherPermission",value:function(){return this.hasAllPermission()||this.hasManageEhr()}},{key:"hasOverInct",value:function(){var e=this;return this.authentication.user.permissions.some((function(n){return n.permission_id==e.perms.overideInct}))}},{key:"hasDischPerm",value:function(e){var n=this;if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(e){case this.portlets.soap:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctSoap}));case this.portlets.soapDiag:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctSoapDiag||e.permission_id==n.perms.overideInctSoapDiag2}));case this.portlets.pastMed:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPastMed}));case this.portlets.pSigns:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPsigns}));case this.portlets.refHci:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctHciRef}));case this.portlets.physExam:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPhysExam}));case this.portlets.medict:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctMedicat}));case this.portlets.planMan:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctPlanMan}));case this.portlets.endCare:return this.authentication.user.permissions.some((function(e){return e.permission_id==n.perms.overideInctEndCare}))}return!1}},{key:"isDischarged",value:function(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}},{key:"hasSoapEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}},{key:"hasSoapDiagEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}},{key:"hasSoapView",value:function(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}},{key:"hasPastMedEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}},{key:"hasPastView",value:function(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}},{key:"hasPSignsEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}},{key:"hasPSingsView",value:function(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}},{key:"hasVitalSignsView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasRefHciEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}},{key:"hasRefHciView",value:function(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}},{key:"hasPhysExamEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}},{key:"hasPhysExamView",value:function(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}},{key:"hasResultView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasDrugsMedsEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}},{key:"hasDrugsMedsView",value:function(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}},{key:"hasEncHistView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasReferalsView",value:function(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}},{key:"hasEndCareEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}},{key:"hasEndCareView",value:function(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}},{key:"hasPlanManEdit",value:function(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}},{key:"hasPlanManView",value:function(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}]),e}()).ngInjectableDef=r.bc({factory:function(){return new o(r.cc(l))},token:o,providedIn:"root"}),o)},VM0z:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),r=t("ZZ/e"),l=t("Hfim"),o=t("ucGT"),a=t("8Y7J"),s=function(){var e=function(){function e(n,t,i){_classCallCheck(this,e),this.toastCtrl=n,this.modalController=t,this.alertController=i}return _createClass(e,[{key:"alertToast",value:function(e){return i.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("AlertToast Message:",e),n.next=3,this.toastCtrl.create({message:e,duration:8e3});case 3:(t=n.sent).onclick=function(e){t.dismiss()},t.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"openAlertModalValidation",value:function(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Done",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){};return i.b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:l.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:e,title:n,message:t,messageArray:r,ok:o}});case 2:return(s=i.sent).onDidDismiss().then((function(e){a(e)})),i.next=6,s.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"openSearchModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Enter here...",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){};return i.b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{searchData:{isForSearch:!0,libs:e,searchQuery:n,maxLength:r,placeholder:t}}});case 2:return(a=i.sent).onDidDismiss().then((function(e){l(e)})),i.next=6,a.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"openPromptModal",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Cancel",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){};return i.b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:l.a,cssClass:"my-custom-modal-css",componentProps:{prompt:prompt,title:e,message:n,cancel:o,ok:t}});case 2:return(s=i.sent).onDidDismiss().then((function(e){r(e),a(e)})),i.next=6,s.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"openAlertModal",value:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Done",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){};return i.b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:l.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:n,message:t,ok:r}});case 2:return(a=i.sent).onDidDismiss().then((function(e){o(e)})),i.next=6,a.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"prompNAlert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var s=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.nativeAlert=this.alertController.create({header:e,subHeader:n,message:t,backdropDismiss:o,keyboardClose:a,inputs:r,buttons:l}).then((function(e){s.nativeAlert.present()}));case 1:case"end":return i.stop()}}),i,this)})))}},{key:"prompInputNAlert",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){};return i.b(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:0==r.length&&(r=[{text:"OK",handler:function(e){l()}},{text:"Cancel",handler:function(e){o()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:e,keyboardClose:n,message:"",inputs:t,buttons:r}).then((function(e){a.nativeAlert.present()}));case 1:case"end":return i.stop()}}),i,this)})))}}]),e}();return e.ngInjectableDef=a.bc({factory:function(){return new e(a.cc(r.Tb),a.cc(r.Jb),a.cc(r.a))},token:e,providedIn:"root"}),e}()},"dz+s":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("mrSG");t("ZZ/e");var r=function(){function e(n){_classCallCheck(this,e),this.toastCtrl=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){return i.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:this.modifiedBy,duration:5e3});case 2:(n=e.sent).onclick=function(e){n.dismiss()},n.present();case 4:case"end":return e.stop()}}),e,this)})))}}]),e}()},h7h0:function(e,n,t){"use strict";var i=t("8Y7J"),r=t("oBZk"),l=t("ZZ/e");t("dz+s"),t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return a}));var o=i.Bb({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{background:0 0;padding:0;margin:0}button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:25px;font-size:25px}"]],data:{}});function a(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"ion-icon",[["color","primary"],["name","information-circle-outline"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.onClick()&&i),i}),r.ub,r.s)),i.Cb(1,49152,null,0,l.D,[i.j,i.p,i.G],{color:[0,"color"],name:[1,"name"]},null)],(function(e,n){e(n,1,0,"primary","information-circle-outline")}),(function(e,n){var t=n.component;e(n,0,0,!(null!=t.modifiedDate&&""!=t.modifiedDate||null!=t.modifiedBy&&""!=t.modifiedBy))}))}},vz1Q:function(e,n,t){"use strict";t.r(n);var i,r=t("8Y7J"),l=t("tS1D"),o=t("lJxs"),a=t("JIr8"),s=t("Cfvw"),u=t("z6cu"),d=t("IheW"),c=t("ZZ/e"),h=t("yp2w"),m=((i=function(){function e(n,t,i){_classCallCheck(this,e),this.platform=n,this.httpClient=t,this.http=i,this.url="http://localhost:3000",this.getEndOfCarelPath="/api/doctor/patient/endcare/getdata",this.saveEndOfCarePath="/api/doctor/patient/endcare/action"}return _createClass(e,[{key:"setUrl",value:function(e){this.url=e}},{key:"setToken",value:function(e){this.token=e}},{key:"saveEndOfCare",value:function(e){var n=e.encounter_no;if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var t={treatment:e.treatment,reason:e.reason,doc_advice:e.doc_advice},i={Accept:"application/json",Authorization:"Bearer "+this.token};return this.http.setDataSerializer("json"),Object(s.a)(this.http.post(this.url+this.saveEndOfCarePath+"?id="+n,t,i)).pipe(Object(l.a)(3e4),Object(o.a)((function(e){var n=JSON.parse(e.data);return console.log("End of Care: ",n),n})),Object(a.a)((function(e,n){if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("End of Care error: ",e,n),Object(u.a)(e)})))}var r=new FormData;r.append("treatment",e.treatment),r.append("reason",e.reason),r.append("doc_advice",e.doc_advice);var c={params:(new d.h).set("id",n),headers:new d.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return this.httpClient.post(this.url+this.saveEndOfCarePath,r,c).pipe(Object(l.a)(3e4),Object(o.a)((function(e){return console.log(e),e})),Object(a.a)((function(e,n){return console.log(n),console.error(e),Object(u.a)(e)})))}},{key:"getEndOfCare",value:function(e){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");var n={id:e},t={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(s.a)(this.http.get(this.url+this.getEndOfCarelPath,n,t)).pipe(Object(l.a)(3e4),Object(o.a)((function(e){var n=JSON.parse(e.data);return console.log("End of Care: ",n),n})),Object(a.a)((function(e,n){if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(t){}return console.log("End of Care error: ",e,n),Object(u.a)(e)})))}console.log("browser");var i={params:(new d.h).set("id",e),headers:new d.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",i),this.httpClient.get(this.url+this.getEndOfCarelPath,i).pipe(Object(l.a)(3e4),Object(o.a)((function(e){return console.log(e),e})),Object(a.a)((function(e,n){return console.log(n),console.error(e),Object(u.a)(e)})))}}]),e}()).ngInjectableDef=r.bc({factory:function(){return new i(r.cc(c.Nb),r.cc(d.c),r.cc(h.a))},token:i,providedIn:"root"}),i),p=t("7wfR"),_=t("7ch9"),f=t("H+bZ"),g=t("EFyh"),v=t("Pasx"),b=t("LDXv"),C=t("VM0z"),y=t("s7LF"),E=function(){function e(n,t,i,r,l,o,a,s,u,d){var c=this;_classCallCheck(this,e),this.endOfCareApiService=n,this.patientService=t,this.apiService=i,this.loginService=r,this.loadingService=l,this.stringUtilsService=o,this.permissionValidatorService=a,this.alertServ=s,this.formBuilder=u,this.menuController=d,this.reason="",this.doctors_advice="",this.pEndOfCareSave=!0,this.outcomeList=[],this.endCareAllowEdit=!0,this.endCaremodified={modified_by:null,modified_dt:null},this.SAVE_END_OF_CARE=1,this.currentUser=this.loginService.getAuthentication().user,this.endOfCareApiService.setToken(this.loginService.getAuthentication().token),this.endOfCareApiService.setUrl(this.apiService.getUrl()),this.patientService.getSelectedPatientBriefInformation(),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.endCareConfig=this.loginService.getConfigAndDefaults().endcare;var h=this.endCareConfig["m-patient-endofcare"]["default-options"].outcome;Object.keys(h).forEach((function(e){c.outcomeList.push({id:e,name:h[e]})})),console.log("this.outcomeList: ",this.outcomeList)}return _createClass(e,[{key:"initUserInterfaceByRole",value:function(){this.pEndOfCareSave=this.permissionValidatorService.hasEndCareEdit()}},{key:"resetForm",value:function(){this.endCareAllowEdit=!0,this.endCaremodified={modified_by:null,modified_dt:null}}},{key:"initEndOfCare",value:function(){var e=this;return new Promise((function(n,t){e.loadingService.present(),e.endOfCareApiService.getEndOfCare(e.selectedEncounterNo).subscribe((function(t){console.log("result: ",t),e.loadingService.dismiss().then((function(i){if(e.resetForm(),t.model&&t.model.id){e.doctors_advice=t.model.doc_advice?t.model.doc_advice:"";var r=e.outcomeList.find((function(e){return e.id===t.model.treatment||"string"==typeof t.model.treatment&&e.id===Number(t.model.treatment)||e.name===t.model.treatment.toLocaleLowerCase()||e.name===t.model.treatment.toLocaleUpperCase()}));r&&(e.outcome_treatment=r.id),e.reason=t.model.reason?t.model.reason:"",e.endCaremodified.modified_by=t.data.encoded,e.endCaremodified.modified_dt=t.data.encoded_dt,e.endCareAllowEdit=!e.reason}e.initFormRules(),n(t)}))}),(function(n){console.log("err ",n),e.loadingService.dismiss().then((function(i){var r=e.stringUtilsService.parseErrorMessage(n);e.alertServ.openAlertModal("fail","Failed",r,"Ok"),t(n)}))}))}))}},{key:"getFormRules",value:function(){var e={doctors_advice:["",y.u.compose([y.u.required,y.u.maxLength(2e3)])],outcome_treatment:["",y.u.compose([y.u.required])]};return 5==this.outcome_treatment&&(e.reason=["",y.u.compose([y.u.required,y.u.maxLength(2e3)])]),console.error("form rules",e),e}},{key:"initFormRules",value:function(){var e=this;this.form=this.formBuilder.group(this.getFormRules()),this.form.get("outcome_treatment").valueChanges.subscribe((function(n){console.error("outcome_treatment changes",n),e.outcome_treatment=e.form.get("outcome_treatment").value,"5"==n||5==n?e.form.addControl("reason",new y.e("",y.u.compose([y.u.required,y.u.maxLength(2e3)]))):e.form.removeControl("reason")})),this.form.get("doctors_advice").setValue(this.doctors_advice),this.form.get("outcome_treatment").setValue(this.outcome_treatment),this.form.get("reason")&&this.form.get("reason").setValue(this.reason),console.error("this.form",this.form)}},{key:"ngOnInit",value:function(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initUserInterfaceByRole(),this.initEndOfCare(),this.initFormRules()}},{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter");var e=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==e&&(console.log("selected patient changed"),this.selectedEncounterNo=e,this.initUserInterfaceByRole(),this.initEndOfCare()),window.addEventListener("native.keyboardshow",this.keyboardShowHandler),window.addEventListener("native.keyboardhide",this.keyboardHideHandler)}},{key:"ionViewWillLeave",value:function(){console.log("ionViewWillLeave"),window.removeEventListener("native.keyboardshow",this.keyboardShowHandler),window.removeEventListener("native.keyboardhide",this.keyboardHideHandler),this.removeIonAppStyles()}},{key:"saveEndOfCare",value:function(){this.openPromptModal(this.SAVE_END_OF_CARE,{},"End of Care","Would you like to save your changes?")}},{key:"saveEndOfCareFunction",value:function(){var e=this;console.log(this.reason),console.log(this.doctors_advice);var n={encounter_no:this.selectedEncounterNo,reason:this.form.get("reason")?this.form.get("reason").value:"",doc_advice:this.form.get("doctors_advice").value,treatment:this.form.get("outcome_treatment").value};console.log("endOfCare: ",n),this.loadingService.present(),this.endOfCareApiService.saveEndOfCare(n).subscribe((function(n){console.log("result: ",n),e.loadingService.dismiss().then((function(t){n&&n.code&&200===n.code?(e.endCaremodified.modified_by=n.data.encoded,e.endCaremodified.modified_dt=n.data.encoded_dt,e.endCareAllowEdit=!1,e.alertServ.openAlertModal("success","Success",n.message)):303===n.code?(console.log(n),e.openAlertModalValidation("fail","Missing Required Fields!",n.message,n.mandatories,"Ok")):e.alertServ.openAlertModal("fail","Failed",n.message,"Ok")}))}),(function(n){console.log("err ",n),e.loadingService.dismiss().then((function(t){var i=e.stringUtilsService.parseErrorMessage(n),r=e.stringUtilsService.parseErrorArrayMessage(n);e.openAlertModalValidation("fail","Missing Required Fields!",i,r,"Ok")}))}))}},{key:"outcomeTreatmentChange",value:function(e){}},{key:"doRefreshEndOfCare",value:function(e){this.initEndOfCare().then((function(n){e.target.complete()})).catch((function(n){e.target.complete()}))}},{key:"openPromptModal",value:function(e,n,t,i){var r=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Save";arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.alertServ.openPromptModal(t,i,l,(function(n){null!==n&&(console.log("result.data: ",n.data),n.data&&"Save"===n.data.button&&e===r.SAVE_END_OF_CARE&&r.saveEndOfCareFunction())}))}},{key:"openAlertModalValidation",value:function(e,n,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Done";this.alertServ.openAlertModalValidation(e,n,t,i,r,(function(e){null!==e&&console.log("result.data: ",e.data)}))}},{key:"tapCoordinates",value:function(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log("offset: ",this.offsetY)}},{key:"keyboardShowHandler",value:function(e){var n=e.keyboardHeight;console.log("show: ",e.keyboardHeight);var t=document.querySelector("ion-app").style;t.bottom=n+"px",console.log(t.bottom)}},{key:"keyboardHideHandler",value:function(){console.log("gone"),document.querySelector("ion-app").removeAttribute("style")}},{key:"removeIonAppStyles",value:function(){document.querySelector("ion-app").removeAttribute("style")}}]),e}(),k=function e(){_classCallCheck(this,e)},P=t("pMnS"),w=t("Jt+7"),D=t("oBZk"),O=t("SVse"),S=t("ChBM"),x=t("RRim"),M=t("iInd"),A=t("gly3"),I=t("Fzct"),N=t("9B/o"),R=t("h7h0"),V=t("dz+s"),j=r.Bb({encapsulation:0,styles:[["ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:20px;width:100%;margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]{margin-bottom:2vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{background:#fff;width:100%;border:none;margin-top:10px;padding:10px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{padding-left:0!important;font-size:medium}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}ion-radio[_ngcontent-%COMP%]{--color-checked:#9f9f9f;margin-right:10px!important;margin-left:0!important}"]],data:{}});function H(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function B(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,8,"ion-item",[["class","ion-no-padding"],["lines","none"]],null,null,null,D.Db,D.w)),r.Cb(1,49152,null,0,c.I,[r.j,r.p,r.G],{lines:[0,"lines"]},null),(e()(),r.Db(2,0,null,0,2,"ion-label",[],null,null,null,D.Eb,D.C)),r.Cb(3,49152,null,0,c.O,[r.j,r.p,r.G],null,null),(e()(),r.Wb(4,0,["",""])),(e()(),r.Db(5,0,null,0,3,"ion-radio",[["slot","start"]],null,[[null,"ionBlur"],[null,"ionSelect"]],(function(e,n,t){var i=!0;return"ionBlur"===n&&(i=!1!==r.Pb(e,8)._handleBlurEvent(t.target)&&i),"ionSelect"===n&&(i=!1!==r.Pb(e,8)._handleIonSelect(t.target)&&i),i}),D.Lb,D.I)),r.Tb(5120,null,y.l,(function(e){return[e]}),[c.Pb]),r.Cb(7,49152,null,0,c.bb,[r.j,r.p,r.G],{disabled:[0,"disabled"],value:[1,"value"]},null),r.Cb(8,16384,null,0,c.Pb,[r.p],null,null)],(function(e,n){var t=n.component;e(n,1,0,"none"),e(n,7,0,!t.pEndOfCareSave||!t.endCareAllowEdit,r.Hb(1,"",n.context.$implicit.id,""))}),(function(e,n){e(n,4,0,n.context.$implicit.name)}))}function F(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["Outcome is required."]))],null,null)}function T(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["You have reach the maximum character limit."]))],null,null)}function q(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["Reason is required."]))],null,null)}function Y(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.sb(16777216,null,null,1,null,T)),r.Cb(2,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(16777216,null,null,1,null,q)),r.Cb(4,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component,i=null;e(n,2,0,null==(i=t.form.get("reason"))?null:i.hasError("maxlength"));var r=null;e(n,4,0,null==(r=t.form.get("reason"))?null:r.hasError("required"))}),null)}function U(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,12,"div",[["class","textSection"]],null,null,null,null,null)),(e()(),r.Db(1,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,D.Eb,D.C)),r.Cb(2,49152,null,0,c.O,[r.j,r.p,r.G],{color:[0,"color"]},null),(e()(),r.Wb(-1,0,["Reason *"])),(e()(),r.Db(4,0,null,null,6,"ion-textarea",[["class","textarea"],["formControlName","reason"],["name","transferred-reason"],["placeholder","Enter your reason here..."],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(e,n,t){var i=!0;return"ionBlur"===n&&(i=!1!==r.Pb(e,5)._handleBlurEvent(t.target)&&i),"ionChange"===n&&(i=!1!==r.Pb(e,5)._handleInputEvent(t.target)&&i),i}),D.Zb,D.X)),r.Cb(5,16384,null,0,c.Sb,[r.p],null,null),r.Tb(1024,null,y.l,(function(e){return[e]}),[c.Sb]),r.Cb(7,671744,null,0,y.f,[[3,y.b],[8,null],[8,null],[6,y.l],[2,y.x]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),r.Tb(2048,null,y.m,null,[y.f]),r.Cb(9,16384,null,0,y.n,[[4,y.m]],null,null),r.Cb(10,49152,null,0,c.zb,[r.j,r.p,r.G],{disabled:[0,"disabled"],name:[1,"name"],placeholder:[2,"placeholder"],rows:[3,"rows"],value:[4,"value"]},null),(e()(),r.sb(16777216,null,null,1,null,Y)),r.Cb(12,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t,i=n.component;e(n,2,0,null!=(t=i.form.get("reason"))&&t.valid?"dark":"danger"),e(n,7,0,"reason",!i.pEndOfCareSave||!i.endCareAllowEdit),e(n,10,0,!i.pEndOfCareSave||!i.endCareAllowEdit,"transferred-reason","Enter your reason here...","10",i.reason),e(n,12,0,5===i.outcome_treatment||"5"===i.outcome_treatment)}),(function(e,n){e(n,4,0,r.Pb(n,9).ngClassUntouched,r.Pb(n,9).ngClassTouched,r.Pb(n,9).ngClassPristine,r.Pb(n,9).ngClassDirty,r.Pb(n,9).ngClassValid,r.Pb(n,9).ngClassInvalid,r.Pb(n,9).ngClassPending)}))}function L(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["Doctors Advice is required."]))],null,null)}function G(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"p",[["class","warning-message"]],null,null,null,null,null)),(e()(),r.Wb(-1,null,["You have reach the maximum character limit."]))],null,null)}function z(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"app-headerbar",[["title","End of Care"]],null,null,null,S.b,S.a)),r.Cb(1,114688,null,0,x.a,[M.m,A.a,p.a,g.a,f.a,I.a,_.a,v.a,c.Nb,N.a,c.Jb,c.a],{titleToUse:[0,"titleToUse"]},null),(e()(),r.Db(2,0,null,null,64,"ion-content",[],null,null,null,D.mb,D.k)),r.Cb(3,49152,null,0,c.v,[r.j,r.p,r.G],null,null),(e()(),r.Db(4,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(e,n,t){var i=!0;return"ionRefresh"===n&&(i=!1!==e.component.doRefreshEndOfCare(t)&&i),i}),D.Nb,D.K)),r.Cb(5,49152,null,0,c.eb,[r.j,r.p,r.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(e()(),r.Db(6,0,null,0,1,"ion-refresher-content",[],null,null,null,D.Mb,D.L)),r.Cb(7,49152,null,0,c.fb,[r.j,r.p,r.G],null,null),(e()(),r.sb(16777216,null,0,1,null,H)),r.Cb(9,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.Db(10,0,null,0,56,"div",[["class","wrapper"]],null,null,null,null,null)),(e()(),r.Db(11,0,null,null,55,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,n,t){var i=!0;return"submit"===n&&(i=!1!==r.Pb(e,13).onSubmit(t)&&i),"reset"===n&&(i=!1!==r.Pb(e,13).onReset()&&i),i}),null,null)),r.Cb(12,16384,null,0,y.y,[],null,null),r.Cb(13,540672,null,0,y.h,[[8,null],[8,null]],{form:[0,"form"]},null),r.Tb(2048,null,y.b,null,[y.h]),r.Cb(15,16384,null,0,y.o,[[4,y.b]],null,null),(e()(),r.Db(16,0,null,null,20,"div",[["class","textSection"]],null,null,null,null,null)),(e()(),r.Db(17,0,null,null,17,"ion-radio-group",[["formControlName","outcome_treatment"],["name","outcome-treatment"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(e,n,t){var i=!0,l=e.component;return"ionBlur"===n&&(i=!1!==r.Pb(e,20)._handleBlurEvent(t.target)&&i),"ionChange"===n&&(i=!1!==r.Pb(e,20)._handleChangeEvent(t.target)&&i),"ionChange"===n&&(i=!1!==l.outcomeTreatmentChange(t)&&i),i}),D.Kb,D.J)),r.Cb(18,16384,null,0,y.t,[],{required:[0,"required"]},null),r.Tb(1024,null,y.k,(function(e){return[e]}),[y.t]),r.Cb(20,16384,null,0,c.Rb,[r.p],null,null),r.Tb(1024,null,y.l,(function(e){return[e]}),[c.Rb]),r.Cb(22,671744,null,0,y.f,[[3,y.b],[6,y.k],[8,null],[6,y.l],[2,y.x]],{name:[0,"name"]},null),r.Tb(2048,null,y.m,null,[y.f]),r.Cb(24,16384,null,0,y.n,[[4,y.m]],null,null),r.Cb(25,49152,null,0,c.cb,[r.j,r.p,r.G],{name:[0,"name"],value:[1,"value"]},null),(e()(),r.Db(26,0,null,0,6,"ion-list-header",[["class","textLabel"]],null,null,null,D.Fb,D.E)),r.Cb(27,49152,null,0,c.Q,[r.j,r.p,r.G],null,null),(e()(),r.Db(28,0,null,0,2,"ion-label",[],null,null,null,D.Eb,D.C)),r.Cb(29,49152,null,0,c.O,[r.j,r.p,r.G],{color:[0,"color"]},null),(e()(),r.Wb(-1,0,["Outcome Treatment *"])),(e()(),r.Db(31,0,null,0,1,"app-modified-b-toast",[],null,null,null,R.b,R.a)),r.Cb(32,114688,null,0,V.a,[c.Tb],{modifiedBy:[0,"modifiedBy"],modifiedDate:[1,"modifiedDate"]},null),(e()(),r.sb(16777216,null,0,1,null,B)),r.Cb(34,278528,null,0,O.k,[r.Y,r.U,r.y],{ngForOf:[0,"ngForOf"]},null),(e()(),r.sb(16777216,null,null,1,null,F)),r.Cb(36,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(16777216,null,null,1,null,U)),r.Cb(38,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.Db(39,0,null,null,16,"div",[["class","textSection"]],null,null,null,null,null)),(e()(),r.Db(40,0,null,null,2,"ion-label",[["class","textLabel"]],null,null,null,D.Eb,D.C)),r.Cb(41,49152,null,0,c.O,[r.j,r.p,r.G],{color:[0,"color"]},null),(e()(),r.Wb(-1,0,["Doctors Advice *"])),(e()(),r.Db(43,0,null,null,8,"ion-textarea",[["class","textarea"],["formControlName","doctors_advice"],["name","doctor-advice"],["placeholder","Enter your advice here..."],["required",""],["rows","10"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(e,n,t){var i=!0;return"ionBlur"===n&&(i=!1!==r.Pb(e,46)._handleBlurEvent(t.target)&&i),"ionChange"===n&&(i=!1!==r.Pb(e,46)._handleInputEvent(t.target)&&i),i}),D.Zb,D.X)),r.Cb(44,16384,null,0,y.t,[],{required:[0,"required"]},null),r.Tb(1024,null,y.k,(function(e){return[e]}),[y.t]),r.Cb(46,16384,null,0,c.Sb,[r.p],null,null),r.Tb(1024,null,y.l,(function(e){return[e]}),[c.Sb]),r.Cb(48,671744,null,0,y.f,[[3,y.b],[6,y.k],[8,null],[6,y.l],[2,y.x]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),r.Tb(2048,null,y.m,null,[y.f]),r.Cb(50,16384,null,0,y.n,[[4,y.m]],null,null),r.Cb(51,49152,null,0,c.zb,[r.j,r.p,r.G],{disabled:[0,"disabled"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"],rows:[4,"rows"],value:[5,"value"]},null),(e()(),r.sb(16777216,null,null,1,null,L)),r.Cb(53,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(16777216,null,null,1,null,G)),r.Cb(55,16384,null,0,O.l,[r.Y,r.U],{ngIf:[0,"ngIf"]},null),(e()(),r.Db(56,0,null,null,10,"div",[["class","ion-padding"]],null,null,null,null,null)),(e()(),r.Db(57,0,null,null,4,"ion-button",[["expand","block"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.saveEndOfCare()&&i),i}),D.fb,D.d)),r.Cb(58,49152,null,0,c.l,[r.j,r.p,r.G],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(e()(),r.Db(59,0,null,0,1,"ion-icon",[["name","paper-plane"]],null,null,null,D.ub,D.s)),r.Cb(60,49152,null,0,c.D,[r.j,r.p,r.G],{name:[0,"name"]},null),(e()(),r.Wb(-1,0,[" Save"])),(e()(),r.Db(62,0,null,null,4,"ion-button",[["expand","block"],["type","button"]],[[8,"hidden",0]],[[null,"click"]],(function(e,n,t){var i=!0,r=e.component;return"click"===n&&(i=0!=(r.endCareAllowEdit=!r.endCareAllowEdit)&&i),i}),D.fb,D.d)),r.Cb(63,49152,null,0,c.l,[r.j,r.p,r.G],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(e()(),r.Db(64,0,null,0,1,"ion-icon",[["name","create"]],null,null,null,D.ub,D.s)),r.Cb(65,49152,null,0,c.D,[r.j,r.p,r.G],{name:[0,"name"]},null),(e()(),r.Wb(-1,0,[" Edit"]))],(function(e,n){var t,i=n.component;e(n,1,0,"End of Care"),e(n,5,0,"0.5","200","100"),e(n,9,0,i.loginService.inTestServer),e(n,13,0,i.form),e(n,18,0,""),e(n,22,0,"outcome_treatment"),e(n,25,0,"outcome-treatment",i.outcome_treatment),e(n,29,0,null!=(t=i.form.get("outcome_treatment"))&&t.valid?"dark":"danger"),e(n,32,0,i.endCaremodified.modified_by,i.endCaremodified.modified_dt),e(n,34,0,i.outcomeList);var r,l=null;e(n,36,0,null==(l=i.form.get("outcome_treatment"))?null:l.hasError("required")),e(n,38,0,5===i.outcome_treatment||"5"===i.outcome_treatment),e(n,41,0,null!=(r=i.form.get("doctors_advice"))&&r.valid?"dark":"danger"),e(n,44,0,""),e(n,48,0,"doctors_advice",!i.pEndOfCareSave||!i.endCareAllowEdit),e(n,51,0,!i.pEndOfCareSave||!i.endCareAllowEdit,"doctor-advice","Enter your advice here...","","10",i.doctors_advice);var o=null;e(n,53,0,null==(o=i.form.get("doctors_advice"))?null:o.hasError("required"));var a=null;e(n,55,0,null==(a=i.form.get("doctors_advice"))?null:a.hasError("maxlength")),e(n,58,0,i.form.invalid||!i.pEndOfCareSave||!i.endCareAllowEdit,"block"),e(n,60,0,"paper-plane"),e(n,63,0,!i.pEndOfCareSave,"block","button"),e(n,65,0,"create")}),(function(e,n){var t=n.component;e(n,11,0,r.Pb(n,15).ngClassUntouched,r.Pb(n,15).ngClassTouched,r.Pb(n,15).ngClassPristine,r.Pb(n,15).ngClassDirty,r.Pb(n,15).ngClassValid,r.Pb(n,15).ngClassInvalid,r.Pb(n,15).ngClassPending),e(n,17,0,r.Pb(n,18).required?"":null,r.Pb(n,24).ngClassUntouched,r.Pb(n,24).ngClassTouched,r.Pb(n,24).ngClassPristine,r.Pb(n,24).ngClassDirty,r.Pb(n,24).ngClassValid,r.Pb(n,24).ngClassInvalid,r.Pb(n,24).ngClassPending),e(n,43,0,r.Pb(n,44).required?"":null,r.Pb(n,50).ngClassUntouched,r.Pb(n,50).ngClassTouched,r.Pb(n,50).ngClassPristine,r.Pb(n,50).ngClassDirty,r.Pb(n,50).ngClassValid,r.Pb(n,50).ngClassInvalid,r.Pb(n,50).ngClassPending),e(n,57,0,!t.endCareAllowEdit),e(n,62,0,t.endCareAllowEdit)}))}var J=r.zb("app-end-of-care",E,(function(e){return r.Yb(0,[(e()(),r.Db(0,0,null,null,1,"app-end-of-care",[],null,null,null,z,j)),r.Cb(1,114688,null,0,E,[m,p.a,f.a,g.a,_.a,v.a,b.a,C.a,y.d,c.Ib],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]),W=t("gRf5"),Z=t("wMzM"),X=t("t8sF"),K=t("j1ZV");t.d(n,"EndOfCarePageModuleNgFactory",(function(){return Q}));var Q=r.Ab(k,[],(function(e){return r.Mb([r.Nb(512,r.m,r.lb,[[8,[P.a,w.a,J]],[3,r.m],r.E]),r.Nb(4608,O.n,O.m,[r.A,[2,O.C]]),r.Nb(4608,y.w,y.w,[]),r.Nb(4608,y.d,y.d,[]),r.Nb(4608,c.b,c.b,[r.G,r.g]),r.Nb(4608,c.Jb,c.Jb,[c.b,r.m,r.w]),r.Nb(4608,c.Ob,c.Ob,[c.b,r.m,r.w]),r.Nb(4608,d.j,d.p,[O.d,r.J,d.n]),r.Nb(4608,d.q,d.q,[d.j,d.o]),r.Nb(5120,d.a,(function(e){return[e]}),[d.q]),r.Nb(4608,d.m,d.m,[]),r.Nb(6144,d.k,null,[d.m]),r.Nb(4608,d.i,d.i,[d.k]),r.Nb(6144,d.b,null,[d.i]),r.Nb(4608,d.f,d.l,[d.b,r.w]),r.Nb(4608,d.c,d.c,[d.f]),r.Nb(4608,W.a,W.a,[]),r.Nb(4608,Z.a,Z.a,[]),r.Nb(4608,X.a,X.a,[]),r.Nb(4608,I.a,I.a,[Z.a,W.a,X.a,_.a]),r.Nb(1073742336,O.c,O.c,[]),r.Nb(1073742336,y.v,y.v,[]),r.Nb(1073742336,y.i,y.i,[]),r.Nb(1073742336,y.s,y.s,[]),r.Nb(1073742336,c.Fb,c.Fb,[]),r.Nb(1073742336,M.q,M.q,[[2,M.v],[2,M.m]]),r.Nb(1073742336,d.e,d.e,[]),r.Nb(1073742336,d.d,d.d,[]),r.Nb(1073742336,K.a,K.a,[]),r.Nb(1073742336,k,k,[]),r.Nb(256,d.n,"XSRF-TOKEN",[]),r.Nb(256,d.o,"X-XSRF-TOKEN",[]),r.Nb(1024,M.k,(function(){return[[{path:"",component:E}]]}),[])])}))}}]);