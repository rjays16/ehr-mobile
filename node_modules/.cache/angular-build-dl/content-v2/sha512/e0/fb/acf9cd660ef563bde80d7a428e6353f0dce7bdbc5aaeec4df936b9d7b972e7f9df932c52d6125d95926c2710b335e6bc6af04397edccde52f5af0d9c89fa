(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0AxX":function(e,t,n){"use strict";n.r(t);var i=n("8Y7J"),s=n("lJxs"),o=n("JIr8"),l=n("Cfvw"),r=n("z6cu"),a=n("IheW"),c=n("yp2w"),u=n("ZZ/e");let h=(()=>{class e{constructor(e,t,n){this.httpClient=e,this.http=t,this.platform=n,this.url="http://localhost:3000",this.getEncounterListPath="/api/doctor/patient/encounters"}setUrl(e){this.url=e}setToken(e){this.token=e}getEncounterList(e){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const t={pid:e},n={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.token};return Object(l.a)(this.http.get(this.url+this.getEncounterListPath,t,n)).pipe(Object(s.a)(e=>{const t=JSON.parse(e.data);return console.log("Encounter history: ",t),t}),Object(o.a)((e,t)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(n){}return console.log("Encounter history error: ",e,t),Object(r.a)(e)}))}{const t={params:(new a.h).set("pid",e),headers:new a.g({Accept:"application/json",Authorization:"Bearer "+this.token,"Access-Control-Allow-Origin":"*"})};return this.httpClient.get(this.url+this.getEncounterListPath,t).pipe(Object(s.a)(e=>(console.log("Entered getEncounterList API:",e),e)),Object(o.a)((e,t)=>(console.log(e,t),Object(r.a)(e))))}}}return e.ngInjectableDef=i.bc({factory:function(){return new e(i.cc(a.c),i.cc(c.a),i.cc(u.Nb))},token:e,providedIn:"root"}),e})();var d=n("7wfR"),p=n("LDXv"),_=n("Wc1Z"),m=n("H+bZ"),g=n("EFyh"),b=n("7ch9"),f=n("Pasx"),v=n("VM0z");class C{constructor(e,t,n,i,s,o,l,r,a,c,u,h){this.router=e,this.encounterApi=t,this.patientService=n,this.patientApiService=i,this.apiService=s,this.loginService=o,this.loadingService=l,this.stringUtilsService=r,this.alertServ=a,this.menuController=c,this.permissionValidatorService=u,this.events=h,this.encounterList=[],this.isNurse=!1,this.isDoctor=!0;const d=this.loginService.getConfigAndDefaults();this.defaultOptions=d.patientlist["m-patient-list"]["default-options"]["encounter-types"],console.log(this.defaultOptions),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.encounterApi.setUrl(this.apiService.getUrl()),this.encounterApi.setToken(this.loginService.getAuthentication().token);const p=this.loginService.getAuthentication();this.isNurse=-1!==p.user.role.role_name.toLocaleLowerCase().indexOf("nurse"),this.isDoctor=!this.isNurse}initEncounterHistory(){return new Promise((e,t)=>{this.loadingService.present();const n=this.patientService.getSelectedPatientBriefInformation();console.log(n.spin0.pid),this.encounterApi.getEncounterList(n.spin0.pid).subscribe(t=>{this.encounterList=t,this.loadingService.dismiss().then(n=>{e(t)})},e=>{console.log(e),this.loadingService.dismiss().then(n=>{const i=this.stringUtilsService.parseErrorMessage(e);this.alertServ.openAlertModal("fail","Failed",i,"Ok"),t(e)})})})}ionViewWillEnter(){console.log("ionViewWillEnter");const e=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==e&&(console.log("selected patient changed"),this.selectedEncounterNo=e,this.initEncounterHistory())}ngOnInit(){this.menuController.swipeGesture(!0,"mainMenu"),this.menuController.swipeGesture(!0,"accountMenu"),this.initEncounterHistory()}showDetails(e){const t=this.encounterList[e];console.log(t),this.patientService.setSelectedEncounterNo(t.encounter_no),this.patientService.setTempEncounterNo(t.encounter_no),this.isDoctor?(this.loadingService.present(),this.patientApiService.getPatientProfileById(t.encounter_no).subscribe(e=>{console.log(e),this.loadingService.dismiss().then(t=>{this.patientService.setSelectedPatientBriefInformation(e),this.patientService.setSelectedEncounterNo(e.encounter_no),this.permissionValidatorService.setSelectedPatient(e),this.events.publish("patient:selected",e,Date.now()),this.router.navigate(["/menu/patient-profile"],{skipLocationChange:!0,replaceUrl:!0})})},e=>{console.log("err ",e),this.loadingService.dismiss().then(t=>{const n=this.stringUtilsService.parseErrorMessage(e);this.alertServ.openAlertModal("fail","Failed",n,"Ok")})})):this.isNurse&&(this.loadingService.present(),this.patientApiService.getPatientProfileByIdForNurse(t.encounter_no).subscribe(e=>{console.log(e),this.loadingService.dismiss().then(t=>{this.patientService.setSelectedPatientBriefInformation(e),this.patientService.setSelectedEncounterNo(e.encounter_no),this.permissionValidatorService.setSelectedPatient(e),this.events.publish("patient:selected",e,Date.now()),this.router.navigate(["/menu/patient-profile-nurse"],{skipLocationChange:!0,replaceUrl:!0})})},e=>{console.log("err ",e),this.loadingService.dismiss().then(t=>{const n=this.stringUtilsService.parseErrorMessage(e);this.alertServ.openAlertModal("fail","Failed",n,"Ok")})}))}doRefreshEncounterHistory(e){this.initEncounterHistory().then(t=>{e.target.complete()}).catch(t=>{e.target.complete()})}}class P{}var w=n("pMnS"),D=n("Jt+7"),y=n("oBZk"),M=n("SVse"),E=n("ChBM"),O=n("RRim"),S=n("iInd"),I=n("gly3"),N=n("Fzct"),j=n("9B/o"),k=i.Bb({encapsulation:0,styles:[["ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]{background:#fff;--background:white;--ion-background-color:#ffffff;margin-bottom:1vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-left:1vw solid #0096c6}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:2vh 0}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:unset}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallestText[_ngcontent-%COMP%]{color:#999;font-size:small}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallTextBlack[_ngcontent-%COMP%]{color:#444}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-sliding[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .smallTextBlack[_ngcontent-%COMP%]   .blueBackground[_ngcontent-%COMP%]{background:#0096c6;border-radius:10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.5vh 2vw;color:#fff;font-size:x-small}"]],data:{}});function A(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"div",[["class","testServer"]],null,null,null,null,null)),(e()(),i.Wb(-1,null,[" TEST SERVER CONNECTED "]))],null,null)}function x(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"div",[["class","noresult"]],null,null,null,null,null)),(e()(),i.Wb(-1,null,[" No History "]))],null,null)}function z(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"div",[["class","blueBackground"]],null,null,null,null,null)),(e()(),i.Wb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.defaultOptions.ope)}))}function G(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"div",[["class","blueBackground"]],null,null,null,null,null)),(e()(),i.Wb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.defaultOptions.ipe)}))}function T(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"div",[["class","blueBackground"]],null,null,null,null,null)),(e()(),i.Wb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.defaultOptions.ere)}))}function H(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,54,"ion-item-sliding",[],null,null,null,y.Cb,y.B)),i.Cb(1,49152,null,0,u.N,[i.j,i.p,i.G],null,null),(e()(),i.Db(2,0,null,0,46,"ion-item",[],null,null,null,y.Db,y.w)),i.Cb(3,49152,null,0,u.I,[i.j,i.p,i.G],null,null),(e()(),i.Db(4,0,null,0,44,"ion-grid",[],null,null,null,y.sb,y.q)),i.Cb(5,49152,null,0,u.B,[i.j,i.p,i.G],null,null),(e()(),i.Db(6,0,null,0,10,"ion-row",[["class","smallestText"]],null,null,null,y.Ob,y.M)),i.Cb(7,49152,null,0,u.kb,[i.j,i.p,i.G],null,null),(e()(),i.Db(8,0,null,0,2,"ion-col",[["size","4"]],null,null,null,y.lb,y.j)),i.Cb(9,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(-1,0,["Encounter No."])),(e()(),i.Db(11,0,null,0,2,"ion-col",[["size","3"]],null,null,null,y.lb,y.j)),i.Cb(12,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(-1,0,["Patient Type"])),(e()(),i.Db(14,0,null,0,2,"ion-col",[["size","5"]],null,null,null,y.lb,y.j)),i.Cb(15,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(-1,0,["Clinic/Department"])),(e()(),i.Db(17,0,null,0,15,"ion-row",[["class","smallTextBlack"]],null,null,null,y.Ob,y.M)),i.Cb(18,49152,null,0,u.kb,[i.j,i.p,i.G],null,null),(e()(),i.Db(19,0,null,0,2,"ion-col",[["size","4"]],null,null,null,y.lb,y.j)),i.Cb(20,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(21,0,["",""])),(e()(),i.Db(22,0,null,0,7,"ion-col",[["size","3"]],null,null,null,y.lb,y.j)),i.Cb(23,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.sb(16777216,null,0,1,null,z)),i.Cb(25,16384,null,0,M.l,[i.Y,i.U],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(16777216,null,0,1,null,G)),i.Cb(27,16384,null,0,M.l,[i.Y,i.U],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(16777216,null,0,1,null,T)),i.Cb(29,16384,null,0,M.l,[i.Y,i.U],{ngIf:[0,"ngIf"]},null),(e()(),i.Db(30,0,null,0,2,"ion-col",[["size","5"]],null,null,null,y.lb,y.j)),i.Cb(31,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(32,0,["",""])),(e()(),i.Db(33,0,null,0,7,"ion-row",[["class","smallestText"]],null,null,null,y.Ob,y.M)),i.Cb(34,49152,null,0,u.kb,[i.j,i.p,i.G],null,null),(e()(),i.Db(35,0,null,0,2,"ion-col",[["size","6"]],null,null,null,y.lb,y.j)),i.Cb(36,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(-1,0,["Admission Date"])),(e()(),i.Db(38,0,null,0,2,"ion-col",[["size","6"]],null,null,null,y.lb,y.j)),i.Cb(39,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(-1,0,["Discharge Date"])),(e()(),i.Db(41,0,null,0,7,"ion-row",[["class","smallTextBlack"]],null,null,null,y.Ob,y.M)),i.Cb(42,49152,null,0,u.kb,[i.j,i.p,i.G],null,null),(e()(),i.Db(43,0,null,0,2,"ion-col",[["size","6"]],null,null,null,y.lb,y.j)),i.Cb(44,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(45,0,["",""])),(e()(),i.Db(46,0,null,0,2,"ion-col",[["size","6"]],null,null,null,y.lb,y.j)),i.Cb(47,49152,null,0,u.u,[i.j,i.p,i.G],{size:[0,"size"]},null),(e()(),i.Wb(48,0,["",""])),(e()(),i.Db(49,0,null,0,5,"ion-item-options",[["side","end"]],null,null,null,y.Bb,y.A)),i.Cb(50,49152,null,0,u.M,[i.j,i.p,i.G],{side:[0,"side"]},null),(e()(),i.Db(51,0,null,0,3,"ion-item-option",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showDetails(e.context.index)&&i),i}),y.Ab,y.z)),i.Cb(52,49152,null,0,u.L,[i.j,i.p,i.G],null,null),(e()(),i.Db(53,0,null,0,1,"ion-icon",[["ios","ios-eye"],["md","md-eye"]],null,null,null,y.ub,y.s)),i.Cb(54,49152,null,0,u.D,[i.j,i.p,i.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(e,t){e(t,9,0,"4"),e(t,12,0,"3"),e(t,15,0,"5"),e(t,20,0,"4"),e(t,23,0,"3"),e(t,25,0,"ope"==t.context.$implicit.deptenc_code),e(t,27,0,"ipe"==t.context.$implicit.deptenc_code),e(t,29,0,"ere"==t.context.$implicit.deptenc_code),e(t,31,0,"5"),e(t,36,0,"6"),e(t,39,0,"6"),e(t,44,0,"6"),e(t,47,0,"6"),e(t,50,0,"end"),e(t,54,0,"ios-eye","md-eye")}),(function(e,t){e(t,21,0,t.context.$implicit.encounter_no),e(t,32,0,t.context.$implicit.area_desc),e(t,45,0,t.context.$implicit.encounter_date),e(t,48,0,t.context.$implicit.discharge_dt)}))}function V(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"app-headerbar",[["title","Encounter History"]],null,null,null,E.b,E.a)),i.Cb(1,114688,null,0,O.a,[S.m,I.a,d.a,g.a,m.a,N.a,b.a,f.a,u.Nb,j.a,u.Jb,u.a],{titleToUse:[0,"titleToUse"]},null),(e()(),i.Db(2,0,null,null,14,"ion-content",[],null,null,null,y.mb,y.k)),i.Cb(3,49152,null,0,u.v,[i.j,i.p,i.G],null,null),(e()(),i.Db(4,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(e,t,n){var i=!0;return"ionRefresh"===t&&(i=!1!==e.component.doRefreshEncounterHistory(n)&&i),i}),y.Nb,y.K)),i.Cb(5,49152,null,0,u.eb,[i.j,i.p,i.G],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(e()(),i.Db(6,0,null,0,1,"ion-refresher-content",[],null,null,null,y.Mb,y.L)),i.Cb(7,49152,null,0,u.fb,[i.j,i.p,i.G],null,null),(e()(),i.Db(8,0,null,0,8,"div",[["class","wrapper"]],null,null,null,null,null)),(e()(),i.sb(16777216,null,null,1,null,A)),i.Cb(10,16384,null,0,M.l,[i.Y,i.U],{ngIf:[0,"ngIf"]},null),(e()(),i.Db(11,0,null,null,5,"ion-list",[],null,null,null,y.Gb,y.D)),i.Cb(12,49152,null,0,u.P,[i.j,i.p,i.G],null,null),(e()(),i.sb(16777216,null,0,1,null,x)),i.Cb(14,16384,null,0,M.l,[i.Y,i.U],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(16777216,null,0,1,null,H)),i.Cb(16,278528,null,0,M.k,[i.Y,i.U,i.y],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"Encounter History"),e(t,5,0,"0.5","200","100"),e(t,10,0,n.loginService.inTestServer),e(t,14,0,n.encounterList&&n.encounterList.length<1||!n.encounterList),e(t,16,0,n.encounterList)}),null)}function F(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,1,"app-encounter-history",[],null,null,null,V,k)),i.Cb(1,114688,null,0,C,[S.m,h,d.a,_.a,m.a,g.a,b.a,f.a,v.a,u.Ib,p.a,u.e],null,null)],(function(e,t){e(t,1,0)}),null)}var B=i.zb("app-encounter-history",C,F,{},{},[]),R=n("s7LF"),U=n("gRf5"),L=n("wMzM"),W=n("t8sF"),Y=n("/nUa"),J=n("j1ZV");n.d(t,"EncounterHistoryPageModuleNgFactory",(function(){return Z}));var Z=i.Ab(P,[],(function(e){return i.Mb([i.Nb(512,i.m,i.lb,[[8,[w.a,D.a,B]],[3,i.m],i.E]),i.Nb(4608,M.n,M.m,[i.A,[2,M.C]]),i.Nb(4608,R.w,R.w,[]),i.Nb(4608,u.b,u.b,[i.G,i.g]),i.Nb(4608,u.Jb,u.Jb,[u.b,i.m,i.w]),i.Nb(4608,u.Ob,u.Ob,[u.b,i.m,i.w]),i.Nb(4608,a.j,a.p,[M.d,i.J,a.n]),i.Nb(4608,a.q,a.q,[a.j,a.o]),i.Nb(5120,a.a,(function(e){return[e]}),[a.q]),i.Nb(4608,a.m,a.m,[]),i.Nb(6144,a.k,null,[a.m]),i.Nb(4608,a.i,a.i,[a.k]),i.Nb(6144,a.b,null,[a.i]),i.Nb(4608,a.f,a.l,[a.b,i.w]),i.Nb(4608,a.c,a.c,[a.f]),i.Nb(4608,U.a,U.a,[]),i.Nb(4608,L.a,L.a,[]),i.Nb(4608,W.a,W.a,[]),i.Nb(4608,N.a,N.a,[L.a,U.a,W.a,Y.a,b.a]),i.Nb(1073742336,M.c,M.c,[]),i.Nb(1073742336,R.v,R.v,[]),i.Nb(1073742336,R.i,R.i,[]),i.Nb(1073742336,u.Fb,u.Fb,[]),i.Nb(1073742336,S.q,S.q,[[2,S.v],[2,S.m]]),i.Nb(1073742336,a.e,a.e,[]),i.Nb(1073742336,a.d,a.d,[]),i.Nb(1073742336,J.a,J.a,[]),i.Nb(1073742336,P,P,[]),i.Nb(256,a.n,"XSRF-TOKEN",[]),i.Nb(256,a.o,"X-XSRF-TOKEN",[]),i.Nb(1024,S.k,(function(){return[[{path:"",component:C},{path:"",children:[{path:"encounter-details",loadChildren:"../encounter-details/encounter-details.module#EncounterDetailsPageModule"}]}]]}),[])])}))},"7wfR":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("8Y7J");let s=(()=>{class e{constructor(){}getSelectedEncounterNo(){return this.selectedEncounterNo}setSelectedEncounterNo(e){this.selectedEncounterNo=e}getTempEncounterNo(){return this.tempEncounterNo}setTempEncounterNo(e){this.tempEncounterNo=e}getSelectedPatientBriefInformation(){return this.selectedPatientInformation}setSelectedPatientBriefInformation(e){this.selectedPatientInformation=e}getPatientList(){return this.patients}setPatientList(e){this.patients=e}getMyPatientList(){return this.myPatients}setMyPatientList(e){this.myPatients=e}getNursePatientList(){return this.nursePatients}setNursePatientList(e){this.nursePatients=e}getType(){return this.type}setType(e){this.type=e}getWard(){return this.ward}setWard(e){this.ward=e}getSearchKeyword(){return this.searchKeyword}setSearchKeyword(e){this.searchKeyword=e}}return e.ngInjectableDef=i.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},ChBM:function(e,t,n){"use strict";var i=n("8Y7J"),s=n("oBZk"),o=n("ZZ/e");n("RRim"),n("iInd"),n("gly3"),n("7wfR"),n("EFyh"),n("H+bZ"),n("Fzct"),n("7ch9"),n("Pasx"),n("9B/o"),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}));var l=i.Bb({encapsulation:0,styles:[[".titleDiv[_ngcontent-%COMP%]{overflow-x:scroll;white-space:nowrap;text-align:center;margin:auto}.titleDiv[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:relative;color:#0096c6;font-size:1em;padding-left:4px;padding-right:4px;display:inline-block}.menuIcon[_ngcontent-%COMP%]{--padding-top:0px!important;--padding-end:0px!important;--padding-bottom:0px!important;--padding-start:0px!important;--border-radius:50%!important;width:36px!important;height:36px!important;margin:0!important}.subIcons[_ngcontent-%COMP%]{--padding-top:4px!important;--padding-end:4px!important;--padding-bottom:4px!important;--padding-start:4px!important;--border-radius:50%!important;width:30px!important;height:30px!important;margin:0 2px 0 0!important}"]],data:{}});function r(e){return i.Yb(0,[(e()(),i.Db(0,0,null,null,31,"ion-header",[],null,null,null,s.tb,s.r)),i.Cb(1,49152,null,0,o.C,[i.j,i.p,i.G],null,null),(e()(),i.Db(2,0,null,0,29,"ion-toolbar",[],null,null,null,s.cc,s.ab)),i.Cb(3,49152,null,0,o.Db,[i.j,i.p,i.G],null,null),(e()(),i.Db(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,s.gb,s.e)),i.Cb(5,49152,null,0,o.m,[i.j,i.p,i.G],null,null),(e()(),i.Db(6,0,null,0,1,"ion-menu-button",[["class","menuIcon"],["menu","mainMenu"]],null,null,null,s.Hb,s.G)),i.Cb(7,49152,null,0,o.S,[i.j,i.p,i.G],{menu:[0,"menu"]},null),(e()(),i.Db(8,0,null,0,3,"div",[["class","titleDiv"]],null,null,null,null,null)),(e()(),i.Db(9,0,null,null,2,"ion-title",[],null,null,null,s.ac,s.Y)),i.Cb(10,49152,null,0,o.Bb,[i.j,i.p,i.G],null,null),(e()(),i.Wb(11,0,["",""])),(e()(),i.Db(12,0,null,0,19,"ion-buttons",[["slot","end"]],null,null,null,s.gb,s.e)),i.Cb(13,49152,null,0,o.m,[i.j,i.p,i.G],null,null),(e()(),i.Db(14,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showNotifications()&&i),i}),s.fb,s.d)),i.Cb(15,49152,null,0,o.l,[i.j,i.p,i.G],null,null),(e()(),i.Db(16,0,null,0,1,"ion-icon",[["ios","ios-notifications"],["md","md-notifications"],["slot","icon-only"]],null,null,null,s.ub,s.s)),i.Cb(17,49152,null,0,o.D,[i.j,i.p,i.G],{ios:[0,"ios"],md:[1,"md"]},null),(e()(),i.Db(18,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.search()&&i),i}),s.fb,s.d)),i.Cb(19,49152,null,0,o.l,[i.j,i.p,i.G],null,null),(e()(),i.Db(20,0,null,0,1,"ion-icon",[["ios","ios-search"],["md","md-search"],["slot","icon-only"]],null,null,null,s.ub,s.s)),i.Cb(21,49152,null,0,o.D,[i.j,i.p,i.G],{ios:[0,"ios"],md:[1,"md"]},null),(e()(),i.Db(22,0,null,0,3,"ion-button",[["class","subIcons"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.print()&&i),i}),s.fb,s.d)),i.Cb(23,49152,null,0,o.l,[i.j,i.p,i.G],null,null),(e()(),i.Db(24,0,null,0,1,"ion-icon",[["ios","ios-print"],["md","md-print"],["slot","icon-only"]],null,null,null,s.ub,s.s)),i.Cb(25,49152,null,0,o.D,[i.j,i.p,i.G],{ios:[0,"ios"],md:[1,"md"]},null),(e()(),i.Db(26,0,null,0,5,"ion-menu-toggle",[["menu","accountMenu"]],null,null,null,s.Ib,s.H)),i.Cb(27,49152,null,0,o.T,[i.j,i.p,i.G],{menu:[0,"menu"]},null),(e()(),i.Db(28,0,null,0,3,"ion-button",[["class","subIcons"]],null,null,null,s.fb,s.d)),i.Cb(29,49152,null,0,o.l,[i.j,i.p,i.G],null,null),(e()(),i.Db(30,0,null,0,1,"ion-icon",[["ios","ios-contact"],["md","md-contact"],["slot","icon-only"]],null,null,null,s.ub,s.s)),i.Cb(31,49152,null,0,o.D,[i.j,i.p,i.G],{ios:[0,"ios"],md:[1,"md"]},null)],(function(e,t){e(t,7,0,"mainMenu"),e(t,17,0,"ios-notifications","md-notifications"),e(t,21,0,"ios-search","md-search"),e(t,25,0,"ios-print","md-print"),e(t,27,0,"accountMenu"),e(t,31,0,"ios-contact","md-contact")}),(function(e,t){e(t,11,0,t.component.titleToUse)}))}},EFyh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("8Y7J");let s=(()=>{class e{constructor(){this.inTestServer=!1}getCredentials(){return this.credentials}setTestServerIdent(e){this.inTestServer=1==e,console.log("this.inTestServer",this.inTestServer)}setCredentials(e){this.credentials=e}getAuthentication(){return this.authentication}setAuthentication(e){this.authentication=e}getConfigAndDefaults(){return this.configAndDefaults}setConfigAndDefaults(e){this.configAndDefaults=e}}return e.ngInjectableDef=i.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},"H+bZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("AytR"),s=n("8Y7J");let o=(()=>{class e{constructor(){this.url=i.a.url}getUrl(){return this.url}setUrl(e){this.url=e}}return e.ngInjectableDef=s.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},LDXv:function(e,t,n){"use strict";var i=n("8Y7J");let s=(()=>{class e{constructor(){}compare(e,t){const n={};return e.forEach(e=>t.forEach(t=>{e.id===t.id&&(n[e.id]=n[e.id]+1||1)})),Object.keys(n)}}return e.ngInjectableDef=i.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})();n.d(t,"a",(function(){return o}));let o=(()=>{class e{constructor(e){this.arrayComparatorService=e,this.throwsErrorCode=5011,this.perms={allPermission:"_a_0_all",manageEhr:"_a_1_ehr_sudomanage",viewAllDept:"_a_2_ehr_view_all_dept",viewOwnDept:"_a_3_ehr_view_own_dept",editAllDept:"_a_2_ehr_edit_all_dept",editOwnDept:"_a_3_ehr_edit_own_dept",overideInct:"_a_2_ehr_override_my_patient",overideInctSoap:"_a_3_ehr_soap",overideInctSoapDiag:"_a_2_ehr_override_final_dx",overideInctSoapDiag2:"_a_4_ehr_override_final_dx",overideInctPastMed:"_a_3_ehr_past_medical_history",overideInctPsigns:"_a_3_ehr_pertinent_signs_and_symptoms",overideInctHciRef:"_a_3_ehr_referred_hci",overideInctPhysExam:"_a_3_ehr_physical_examination",overideInctMedicat:"_a_3_ehr_medication",overideInctPlanMan:"_a_3_ehr_plan_management",overideInctEndCare:"_a_3_ehr_end_of_care"},this.portlets={soap:"soap",soapDiag:"soapDiag",pastMed:"pastMed",pSigns:"pSings",refHci:"refHci",physExam:"physExam",medict:"medict",planMan:"planMan",endCare:"endCare"}}setAuthentication(e){this.authentication=e}setSelectedPatient(e){this.selectedPatient=e}validateRole(e,t=!0,n=!1){this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log("user roleName: ",this.roleName);const i=e.role_name,s=e["other-permissions"];let o=!1;if(this.authentication.user.permissions.map(t=>{"all"===e[0]?o="_a_0_all"===t.permission_id:"sudomanage"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id:"view_all_dept"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_view_all_dept"===t.permission_id:"view_own_dept"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_view_all_dept"===t.permission_id||"_a_3_ehr_view_own_dept"===t.permission_id:"edit_all_dept"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_edit_all_dept"===t.permission_id:"edit_own_dept"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_edit_all_dept"===t.permission_id||"_a_3_ehr_edit_own_dept"===t.permission_id:"override_my_patient"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id:"soap"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_soap"===t.permission_id:"override_final_dx"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_4_ehr_override_final_dx"===t.permission_id||"_a_3_ehr_soap"===t.permission_id:"past_medical_history"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_past_medical_history"===t.permission_id:"pertinent_signs_and_symptoms"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_pertinent_signs_and_symptoms"===t.permission_id:"referred_hci"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_referred_hci"===t.permission_id:"physical_examination"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_physical_examination"===t.permission_id:"medication"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_medication"===t.permission_id:"plan_managem"===e[0]?o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_plan_management"===t.permission_id:"end_of_care"===e[0]&&(o="_a_0_all"===t.permission_id||"_a_1_ehr_sudomanage"===t.permission_id||"_a_2_ehr_override_my_patient"===t.permission_id||"_a_3_ehr_end_of_care"===t.permission_id)}),n)return o;console.log("roleNames: ",i);let l=!0;if(Array.isArray(i)&&i.length>0){const e=i.findIndex(e=>(console.log("element: ",e," this.roleName: ",this.roleName),-1!=this.roleName.toUpperCase().indexOf(e.toUpperCase())));console.log("index: ",e),l=e>=0}console.log("validRole: ",l);let r=!1;return Array.isArray(s)&&s.length>0&&(r=this.arrayComparatorService.compare(s,this.permissions).length>0),console.log("validOtherPermission: ",r),!t||(console.log("selectedPatient: ",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log("is_discharged"),r)}hasAllPermission(){return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.allPermission)}hasManageEhr(){return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.manageEhr)}hasEdit(){return!!this.authentication.user.permissions.some(e=>e.permission_id==this.perms.editAllDept)||this.authentication.user.permissions.some(e=>e.permission_id==this.perms.editOwnDept)&&this.selectedPatient.isInMyDept}hasView(){return!!this.authentication.user.permissions.some(e=>e.permission_id==this.perms.viewAllDept)||this.authentication.user.permissions.some(e=>e.permission_id==this.perms.viewOwnDept)&&this.selectedPatient.isInMyDept}hasHigherPermission(){return this.hasAllPermission()||this.hasManageEhr()}hasOverInct(){return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInct)}hasDischPerm(e){if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(e){case this.portlets.soap:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctSoap);case this.portlets.soapDiag:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctSoapDiag||e.permission_id==this.perms.overideInctSoapDiag2);case this.portlets.pastMed:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPastMed);case this.portlets.pSigns:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPsigns);case this.portlets.refHci:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctHciRef);case this.portlets.physExam:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPhysExam);case this.portlets.medict:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctMedicat);case this.portlets.planMan:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctPlanMan);case this.portlets.endCare:return this.authentication.user.permissions.some(e=>e.permission_id==this.perms.overideInctEndCare)}return!1}isDischarged(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}hasSoapEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}hasSoapDiagEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}hasSoapView(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}hasPastMedEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}hasPastView(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}hasPSignsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}hasPSingsView(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}hasVitalSignsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasRefHciEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}hasRefHciView(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}hasPhysExamEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}hasPhysExamView(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}hasResultView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasDrugsMedsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}hasDrugsMedsView(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}hasEncHistView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasReferalsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasEndCareEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}hasEndCareView(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}hasPlanManEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}hasPlanManView(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}return e.ngInjectableDef=i.bc({factory:function(){return new e(i.cc(s))},token:e,providedIn:"root"}),e})()},Pasx:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("8Y7J");let s=(()=>{class e{constructor(){}parseErrorMessage(e){let t="";return e.error?t=e.error.message?e.error.message:e.error:e.message&&(t=e.message),t}parseErrorArrayMessage(e){let t="";return e.error?t=e.error.mandatories?e.error.mandatories:e.error:e.mandatories&&(t=e.mandatories),t}}return e.ngInjectableDef=i.bc({factory:function(){return new e},token:e,providedIn:"root"}),e})()},RRim:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),s=(n("gly3"),n("7wfR"),n("EFyh"),n("H+bZ"),n("7ch9"),n("Pasx"),n("Fzct"),n("9B/o"),n("ZZ/e"),n("Hfim"));class o{constructor(e,t,n,i,s,o,l,r,a,c,u,h){this.router=e,this.cf4ApiService=t,this.patientService=n,this.loginService=i,this.apiService=s,this.pdfViewerService=o,this.loadingService=l,this.stringUtilsService=r,this.platform=a,this.inAppBrowser=c,this.modalController=u,this.alertCtrl=h,this.options={location:"yes",hidden:"no",clearcache:"yes",clearsessioncache:"yes",zoom:"yes",hardwareback:"yes",mediaPlaybackRequiresUserAction:"no",shouldPauseOnSuspend:"no",closebuttoncaption:"Close",disallowoverscroll:"no",toolbar:"yes",enableViewportScale:"no",allowInlineMediaPlayback:"no",presentationstyle:"pagesheet",fullscreen:"yes"},this.showPDF=!1,this.cf4ApiService.setUrl(this.apiService.getUrl()),this.cf4ApiService.setToken(this.loginService.getAuthentication().token),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo()}ngOnInit(){}showNotifications(){}search(){this.router.navigate(["/menu/quick-search"])}print(){this.loadingService.present(),this.cf4ApiService.getCf4(this.selectedEncounterNo).subscribe(e=>{console.log("result: ",e),this.loadingService.dismiss().then(t=>{e&&e.filepath&&(e.check.mandatories?this.openAlertModalValidation("fail","Missing Required Fields!",e.check.message,e.check.mandatories,e,"Ok",e.filepath):this.openWithInAppBrowser(e.filepath))})},e=>{console.log(e),this.loadingService.dismiss().then(t=>{const n=this.stringUtilsService.parseErrorMessage(e);this.openAlertModal("fail","Failed",n,"Ok")})})}openWithInAppBrowser(e){return i.b(this,void 0,void 0,(function*(){let t=yield this.alertCtrl.create({header:"View CF4?",message:"Would you like to view the CF4 printout?",buttons:[{text:"No",handler:()=>{console.log("Cancel clicked")}},{text:"Yes",handler:()=>{this.inAppBrowser.create(e,"_system",this.options)}}]});yield t.present()}))}openAlertModal(e,t,n,o="Done"){return i.b(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:s.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:t,message:n,ok:o}});return i.onDidDismiss().then(e=>{null!==e&&console.log("result.data: ",e.data)}),yield i.present()}))}openAlertModalValidation(e,t,n,o,l,r="Done",a){return i.b(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:s.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:e,title:t,message:n,messageArray:o,ok:r}});return i.onDidDismiss().then(e=>{null!==e&&(console.log("result.data: ",e.data),this.showPDF=!0),this.openWithInAppBrowser(a)}),yield i.present()}))}}},VM0z:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("mrSG"),s=n("ZZ/e"),o=n("Hfim"),l=n("8Y7J");let r=(()=>{class e{constructor(e,t,n){this.toastCtrl=e,this.modalController=t,this.alertController=n}alertToast(e){return i.b(this,void 0,void 0,(function*(){console.log("AlertToast Message:",e),(yield this.toastCtrl.create({message:e,duration:8e3})).present()}))}openAlertModalValidation(e,t,n,s,l="Done",r=(e=>{})){return i.b(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:o.a,cssClass:"my-custom-modal-array-css",componentProps:{alert:e,title:t,message:n,messageArray:s,ok:l}});return i.onDidDismiss().then(e=>{r(e)}),yield i.present()}))}openPromptModal(e,t,n="Save",s=(e=>{}),l="Cancel",r=(e=>{})){return i.b(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{prompt,title:e,message:t,cancel:l,ok:n}});return i.onDidDismiss().then(e=>{s(e),r(e)}),yield i.present()}))}openAlertModal(e,t,n,s="Done",l=(e=>{})){return i.b(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:o.a,cssClass:"my-custom-modal-css",componentProps:{alert:e,title:t,message:n,ok:s}});return i.onDidDismiss().then(e=>{l(e)}),yield i.present()}))}prompNAlert(e="",t="",n="",s=[],o=[],l=!0,r=!0){return i.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:e,subHeader:t,message:n,backdropDismiss:l,keyboardClose:r,inputs:s,buttons:o}).then(e=>{this.nativeAlert.present()})}))}prompInputNAlert(e="",t="",n="",s=!0,o=!0,l=[],r=[],a=(()=>{}),c=(()=>{})){return i.b(this,void 0,void 0,(function*(){0==r.length&&(r=[{text:"OK",handler:e=>{a()}},{text:"Cancel",handler:e=>{c()}}]),this.nativeAlert=this.alertController.create({header:"",subHeader:"",backdropDismiss:s,keyboardClose:o,message:"",inputs:l,buttons:r}).then(e=>{this.nativeAlert.present()})}))}}return e.ngInjectableDef=l.bc({factory:function(){return new e(l.cc(s.Tb),l.cc(s.Jb),l.cc(s.a))},token:e,providedIn:"root"}),e})()},gly3:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("tS1D"),s=n("lJxs"),o=n("JIr8"),l=n("Cfvw"),r=n("z6cu"),a=n("IheW"),c=n("ZZ/e"),u=n("yp2w"),h=n("8Y7J");let d=(()=>{class e{constructor(e,t,n){this.platform=e,this.httpClient=t,this.http=n,this.url="http://localhost:3000",this.getcf4Path="/api/cf4/file/path"}setUrl(e){this.url=e}setToken(e){this.token=e}getCf4(e){if(this.platform.is("ios")||this.platform.is("android")){console.log("native");const t={encounter_nr:e},n={Accept:"application/json",Authorization:"Bearer "+this.token};return Object(l.a)(this.http.get(this.url+this.getcf4Path,t,n)).pipe(Object(i.a)(3e4),Object(s.a)(e=>{const t=JSON.parse(e.data);return console.log("CF4: ",t),t}),Object(o.a)((e,t)=>{if("string"==typeof e.error)try{e.error=JSON.parse(e.error)}catch(n){}return console.log("CF4 error: ",e,t),Object(r.a)(e)}))}{console.log("browser");const t=(new a.h).set("encounter_nr",e);console.log("params: ",t);const n={params:t,headers:new a.g({Accept:"application/json",Authorization:"Bearer "+this.token})};return console.log("httpOptions",n),this.httpClient.get(this.url+this.getcf4Path,n).pipe(Object(i.a)(3e4),Object(s.a)(e=>(console.log("CF4: ",e),e)),Object(o.a)((e,t)=>(console.log("CF4 error: ",e,t),Object(r.a)(e))))}}}return e.ngInjectableDef=h.bc({factory:function(){return new e(h.cc(c.Nb),h.cc(a.c),h.cc(u.a))},token:e,providedIn:"root"}),e})()},tS1D:function(e,t,n){"use strict";var i=n("D0XW");const s=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var o=n("l7GE"),l=n("ZUHj");class r{constructor(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}call(e,t){return t.subscribe(new a(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class a extends o.a{constructor(e,t,n,i,s){super(e),this.absoluteTimeout=t,this.waitFor=n,this.withObservable=i,this.scheduler=s,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(Object(l.a)(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(a.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var c=n("z6cu");function u(e,t=i.a){return function(e,t,n=i.a){return i=>{let s=function(e){return e instanceof Date&&!isNaN(+e)}(e),o=s?+e-n.now():Math.abs(e);return i.lift(new r(o,s,t,n))}}(e,Object(c.a)(new s),t)}n.d(t,"a",(function(){return u}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC");function s(e,t){return new i.a(t?n=>t.schedule(o,0,{error:e,subscriber:n}):t=>t.error(e))}function o({error:e,subscriber:t}){t.error(e)}}}]);