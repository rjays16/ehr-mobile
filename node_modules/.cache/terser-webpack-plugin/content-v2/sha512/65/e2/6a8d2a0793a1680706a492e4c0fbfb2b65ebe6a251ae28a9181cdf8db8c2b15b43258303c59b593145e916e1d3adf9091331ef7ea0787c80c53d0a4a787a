{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{\"7wfR\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return PatientService}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"8Y7J\");let PatientService=(()=>{class PatientService{constructor(){}getSelectedEncounterNo(){return this.selectedEncounterNo}setSelectedEncounterNo(encounterNo){this.selectedEncounterNo=encounterNo}getTempEncounterNo(){return this.tempEncounterNo}setTempEncounterNo(encounterNo){this.tempEncounterNo=encounterNo}getSelectedPatientBriefInformation(){return this.selectedPatientInformation}setSelectedPatientBriefInformation(patientHis){this.selectedPatientInformation=patientHis}getPatientList(){return this.patients}setPatientList(patients){this.patients=patients}getMyPatientList(){return this.myPatients}setMyPatientList(patients){this.myPatients=patients}getNursePatientList(){return this.nursePatients}setNursePatientList(patients){this.nursePatients=patients}getType(){return this.type}setType(type){this.type=type}getWard(){return this.ward}setWard(ward){this.ward=ward}getSearchKeyword(){return this.searchKeyword}setSearchKeyword(searchKeyword){this.searchKeyword=searchKeyword}}return PatientService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_0__.bc({factory:function(){return new PatientService},token:PatientService,providedIn:\"root\"}),PatientService})()},EFyh:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return LoginService}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"8Y7J\");let LoginService=(()=>{class LoginService{constructor(){this.inTestServer=!1}getCredentials(){return this.credentials}setTestServerIdent(val){this.inTestServer=1==val,console.log(\"this.inTestServer\",this.inTestServer)}setCredentials(credentials){this.credentials=credentials}getAuthentication(){return this.authentication}setAuthentication(authentication){this.authentication=authentication}getConfigAndDefaults(){return this.configAndDefaults}setConfigAndDefaults(configAndDefaults){this.configAndDefaults=configAndDefaults}}return LoginService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_0__.bc({factory:function(){return new LoginService},token:LoginService,providedIn:\"root\"}),LoginService})()},\"H+bZ\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ApiService}));var src_environments_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"AytR\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"8Y7J\");let ApiService=(()=>{class ApiService{constructor(){this.url=src_environments_environment__WEBPACK_IMPORTED_MODULE_0__.a.url}getUrl(){return this.url}setUrl(url){this.url=url}}return ApiService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_1__.bc({factory:function(){return new ApiService},token:ApiService,providedIn:\"root\"}),ApiService})()},LDXv:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var core=__webpack_require__(\"8Y7J\");let array_comparator_service_ArrayComparatorService=(()=>{class ArrayComparatorService{constructor(){}compare(arr1,arr2){const objMap={};return arr1.forEach(e1=>arr2.forEach(e2=>{e1.id===e2.id&&(objMap[e1.id]=objMap[e1.id]+1||1)})),Object.keys(objMap)}}return ArrayComparatorService.ngInjectableDef=core.bc({factory:function(){return new ArrayComparatorService},token:ArrayComparatorService,providedIn:\"root\"}),ArrayComparatorService})();__webpack_require__.d(__webpack_exports__,\"a\",(function(){return permission_validator_service_PermissionValidatorService}));let permission_validator_service_PermissionValidatorService=(()=>{class PermissionValidatorService{constructor(arrayComparatorService){this.arrayComparatorService=arrayComparatorService,this.throwsErrorCode=5011,this.perms={allPermission:\"_a_0_all\",manageEhr:\"_a_1_ehr_sudomanage\",viewAllDept:\"_a_2_ehr_view_all_dept\",viewOwnDept:\"_a_3_ehr_view_own_dept\",editAllDept:\"_a_2_ehr_edit_all_dept\",editOwnDept:\"_a_3_ehr_edit_own_dept\",overideInct:\"_a_2_ehr_override_my_patient\",overideInctSoap:\"_a_3_ehr_soap\",overideInctSoapDiag:\"_a_2_ehr_override_final_dx\",overideInctSoapDiag2:\"_a_4_ehr_override_final_dx\",overideInctPastMed:\"_a_3_ehr_past_medical_history\",overideInctPsigns:\"_a_3_ehr_pertinent_signs_and_symptoms\",overideInctHciRef:\"_a_3_ehr_referred_hci\",overideInctPhysExam:\"_a_3_ehr_physical_examination\",overideInctMedicat:\"_a_3_ehr_medication\",overideInctPlanMan:\"_a_3_ehr_plan_management\",overideInctEndCare:\"_a_3_ehr_end_of_care\"},this.portlets={soap:\"soap\",soapDiag:\"soapDiag\",pastMed:\"pastMed\",pSigns:\"pSings\",refHci:\"refHci\",physExam:\"physExam\",medict:\"medict\",planMan:\"planMan\",endCare:\"endCare\"}}setAuthentication(authentication){this.authentication=authentication}setSelectedPatient(selectedPatient){this.selectedPatient=selectedPatient}validateRole(validate,withIsDischarge=!0,soapPerm=!1){this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log(\"user roleName: \",this.roleName);const roleNames=validate.role_name,otherPermissions=validate[\"other-permissions\"];let result_perm=!1;if(this.authentication.user.permissions.map(perm=>{\"all\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id:\"sudomanage\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id:\"view_all_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_view_all_dept\"===perm.permission_id:\"view_own_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_view_all_dept\"===perm.permission_id||\"_a_3_ehr_view_own_dept\"===perm.permission_id:\"edit_all_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_edit_all_dept\"===perm.permission_id:\"edit_own_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_edit_all_dept\"===perm.permission_id||\"_a_3_ehr_edit_own_dept\"===perm.permission_id:\"override_my_patient\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id:\"soap\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_soap\"===perm.permission_id:\"override_final_dx\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_4_ehr_override_final_dx\"===perm.permission_id||\"_a_3_ehr_soap\"===perm.permission_id:\"past_medical_history\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_past_medical_history\"===perm.permission_id:\"pertinent_signs_and_symptoms\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_pertinent_signs_and_symptoms\"===perm.permission_id:\"referred_hci\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_referred_hci\"===perm.permission_id:\"physical_examination\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_physical_examination\"===perm.permission_id:\"medication\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_medication\"===perm.permission_id:\"plan_managem\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_plan_management\"===perm.permission_id:\"end_of_care\"===validate[0]&&(result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_end_of_care\"===perm.permission_id)}),soapPerm)return result_perm;console.log(\"roleNames: \",roleNames);let validRole=!0;if(Array.isArray(roleNames)&&roleNames.length>0){const index=roleNames.findIndex(element=>(console.log(\"element: \",element,\" this.roleName: \",this.roleName),-1!=this.roleName.toUpperCase().indexOf(element.toUpperCase())));console.log(\"index: \",index),validRole=index>=0}console.log(\"validRole: \",validRole);let validOtherPermission=!1;return Array.isArray(otherPermissions)&&otherPermissions.length>0&&(validOtherPermission=this.arrayComparatorService.compare(otherPermissions,this.permissions).length>0),console.log(\"validOtherPermission: \",validOtherPermission),!withIsDischarge||(console.log(\"selectedPatient: \",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log(\"is_discharged\"),validOtherPermission)}hasAllPermission(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.allPermission)}hasManageEhr(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.manageEhr)}hasEdit(){return!!this.authentication.user.permissions.some(p=>p.permission_id==this.perms.editAllDept)||this.authentication.user.permissions.some(p=>p.permission_id==this.perms.editOwnDept)&&this.selectedPatient.isInMyDept}hasView(){return!!this.authentication.user.permissions.some(p=>p.permission_id==this.perms.viewAllDept)||this.authentication.user.permissions.some(p=>p.permission_id==this.perms.viewOwnDept)&&this.selectedPatient.isInMyDept}hasHigherPermission(){return this.hasAllPermission()||this.hasManageEhr()}hasOverInct(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInct)}hasDischPerm(type){if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(type){case this.portlets.soap:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctSoap);case this.portlets.soapDiag:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctSoapDiag||p.permission_id==this.perms.overideInctSoapDiag2);case this.portlets.pastMed:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPastMed);case this.portlets.pSigns:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPsigns);case this.portlets.refHci:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctHciRef);case this.portlets.physExam:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPhysExam);case this.portlets.medict:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctMedicat);case this.portlets.planMan:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPlanMan);case this.portlets.endCare:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctEndCare)}return!1}isDischarged(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}hasSoapEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}hasSoapDiagEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}hasSoapView(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}hasPastMedEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}hasPastView(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}hasPSignsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}hasPSingsView(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}hasVitalSignsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasRefHciEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}hasRefHciView(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}hasPhysExamEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}hasPhysExamView(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}hasResultView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasDrugsMedsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}hasDrugsMedsView(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}hasEncHistView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasReferalsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasEndCareEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}hasEndCareView(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}hasPlanManEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}hasPlanManView(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}return PermissionValidatorService.ngInjectableDef=core.bc({factory:function(){return new PermissionValidatorService(core.cc(array_comparator_service_ArrayComparatorService))},token:PermissionValidatorService,providedIn:\"root\"}),PermissionValidatorService})()},Pasx:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return StringUtilsService}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"8Y7J\");let StringUtilsService=(()=>{class StringUtilsService{constructor(){}parseErrorMessage(err){let message=\"\";return err.error?message=err.error.message?err.error.message:err.error:err.message&&(message=err.message),message}parseErrorArrayMessage(err){let message=\"\";return err.error?message=err.error.mandatories?err.error.mandatories:err.error:err.mandatories&&(message=err.mandatories),message}}return StringUtilsService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_0__.bc({factory:function(){return new StringUtilsService},token:StringUtilsService,providedIn:\"root\"}),StringUtilsService})()},VM0z:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AlertServiceService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"ZZ/e\"),src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"Hfim\"),src_app_pages_prompt_modal_c_prompt_modal_c_page__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"ucGT\"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"8Y7J\");let AlertServiceService=(()=>{class AlertServiceService{constructor(toastCtrl,modalController,alertController){this.toastCtrl=toastCtrl,this.modalController=modalController,this.alertController=alertController}alertToast(message){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){console.log(\"AlertToast Message:\",message);const toast=yield this.toastCtrl.create({message:message,duration:8e3});toast.onclick=ev=>{toast.dismiss()},toast.present()}))}openAlertModalValidation(alert,title,message,messageArray,ok=\"Done\",okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-array-css\",componentProps:{alert:alert,title:title,message:message,messageArray:messageArray,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}openSearchModal(options=[],value=\"\",placeholder=\"Enter here...\",maxLength=null,okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_c_prompt_modal_c_page__WEBPACK_IMPORTED_MODULE_3__.a,cssClass:\"my-custom-modal-css\",componentProps:{searchData:{isForSearch:!0,libs:options,searchQuery:value,maxLength:maxLength,placeholder:placeholder}}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}openPromptModal(title,message,ok=\"Save\",okCallBack=(result=>{}),cancel=\"Cancel\",cancelCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-css\",componentProps:{prompt:prompt,title:title,message:message,cancel:cancel,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result),cancelCallBack(result)}),yield modal.present()}))}openAlertModal(alert,title,message,ok=\"Done\",okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-css\",componentProps:{alert:alert,title:title,message:message,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}prompNAlert(header=\"\",subHeader=\"\",message=\"\",inputs=[],buttons=[],backdropDismiss=!0,keyboardClose=!0){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:header,subHeader:subHeader,message:message,backdropDismiss:backdropDismiss,keyboardClose:keyboardClose,inputs:inputs,buttons:buttons}).then(alert=>{this.nativeAlert.present()})}))}prompInputNAlert(header=\"\",subHeader=\"\",message=\"\",backdropDismiss=!0,keyboardClose=!0,inputs=[],buttons=[],callBackOk=(()=>{}),callBackNo=(()=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){0==buttons.length&&(buttons=[{text:\"OK\",handler:data=>{callBackOk()}},{text:\"Cancel\",handler:data=>{callBackNo()}}]),this.nativeAlert=this.alertController.create({header:\"\",subHeader:\"\",backdropDismiss:backdropDismiss,keyboardClose:keyboardClose,message:\"\",inputs:inputs,buttons:buttons}).then(alert=>{this.nativeAlert.present()})}))}}return AlertServiceService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_4__.bc({factory:function(){return new AlertServiceService(_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Tb),_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Jb),_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.a))},token:AlertServiceService,providedIn:\"root\"}),AlertServiceService})()},h36S:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),patient_api_service=__webpack_require__(\"Wc1Z\"),patient_service=__webpack_require__(\"7wfR\"),login_service=__webpack_require__(\"EFyh\"),api_service=__webpack_require__(\"H+bZ\"),permission_validator_service=__webpack_require__(\"LDXv\"),string_utils_service=__webpack_require__(\"Pasx\"),fesm5=__webpack_require__(\"ZZ/e\"),loading_service=__webpack_require__(\"7ch9\"),alert_service_service=__webpack_require__(\"VM0z\");class QuickSearchPage{constructor(patientApiService,patientService,loginService,apiService,loadingService,stringUtilsService,navController,alertServ,permissionValidatorService,events,modalController){this.patientApiService=patientApiService,this.patientService=patientService,this.loginService=loginService,this.apiService=apiService,this.loadingService=loadingService,this.stringUtilsService=stringUtilsService,this.navController=navController,this.alertServ=alertServ,this.permissionValidatorService=permissionValidatorService,this.events=events,this.modalController=modalController,this.filterSearchKeyword=\"\",this.filterType=\"ALL\",this.role=\"doctor\",this.showWardSearch=!1,this.filterWard=\"PATIENT\",this.showWardSuggestion=!1,this.filterWardSearchKeyword=\"\",this.isNurse=!1,this.isDoctor=!0,this.patientApiService.setUrl(this.apiService.getUrl()),this.patientApiService.setToken(this.loginService.getAuthentication().token),this.authentication=this.loginService.getAuthentication(),this.patientApiService.setUrl(this.apiService.getUrl()),this.patientApiService.setToken(this.authentication.token),this.role=this.authentication.user.role.role_name,this.isNurse=-1!==this.role.toLocaleLowerCase().indexOf(\"nurse\"),this.isDoctor=!0;const patientlistConfig=this.loginService.getConfigAndDefaults().patientlist;this.encounterTypes=patientlistConfig[\"m-patient-list\"][\"default-options\"][\"encounter-types\"],this.otherEncounterTypes=patientlistConfig[\"m-patient-list\"][\"default-options\"][\"other-encounter-types\"],this.encounterTypesColors=patientlistConfig[\"m-patient-list\"][\"default-options\"][\"encounter-types-color\"]}ngOnInit(){}ionViewWillEnter(){console.log(\"ionViewWillEnter\")}ionViewWillLeave(){console.log(\"ionViewWillLeave\")}onTypeChange(event){console.log(event),this.filterSearchKeyword&&this.getPatientList().then(_=>{},err=>{const message=this.stringUtilsService.parseErrorMessage(err);this.alertServ.openAlertModal(\"fail\",\"Failed\",message,\"Ok\")})}onSearchInputChange(event){console.log(event),this.getPatientList().then(_=>{},err=>{const message=this.stringUtilsService.parseErrorMessage(err);this.alertServ.openAlertModal(\"fail\",\"Failed\",message,\"Ok\")})}onNurseSearchModeChange(event){this.showWardSearch=\"WARD\"===this.filterWard}onSearchWardBlur(){this.filterWardSearchKeyword.length<=0&&(this.showWardSuggestion=!1)}onSearchWardFocus(){this.showWardSuggestion=!0}onSelectWard(i){console.log(this.filteredNurseWards[i]),this.filterWardSearchKeyword=this.filteredNurseWards[i].name,this.showWardSuggestion=!1}onSearchWardChange(event){this.filterWardSearchId=\"\",this.filterWardSearchKeyword?(this.showWardSuggestion=!0,this.filteredNurseWards=this.nurseWards.filter(ward=>-1!==ward.name.toLocaleLowerCase().indexOf(this.filterWardSearchKeyword.toLocaleLowerCase()))):this.showWardSuggestion=!1}onPatientSelect(selectedPatient){console.log(selectedPatient),this.loadingService.present(),this.patientApiService.getPatientProfileById(selectedPatient.encounter_no).subscribe(result=>{console.log(result),this.loadingService.dismiss().then(_=>{this.patientService.setSelectedPatientBriefInformation(result),this.patientService.setTempEncounterNo(result.encounter_no),this.patientService.setSelectedEncounterNo(result.encounter_no),this.permissionValidatorService.setSelectedPatient(result),this.events.publish(\"patient:selected\",result,Date.now()),this.navController.pop()})},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{const message=this.stringUtilsService.parseErrorMessage(err);this.alertServ.openAlertModal(\"fail\",\"Failed\",message,\"Ok\")})})}goBack(){console.log(\"back\"),this.navController.pop()}getPatientList(){return new Promise((resolve,reject)=>{\"\"!=this.filterSearchKeyword.trim()&&this.filterSearchKeyword?(this.loadingService.present(),this.patientApiService.getPatientList(this.filterType,this.filterSearchKeyword).subscribe(result=>{console.log(result),this.patientList=result,this.loadingService.dismiss().then(_=>{resolve(result)})},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{reject(err)})})):resolve([])})}getNursePatientList(){return new Promise((resolve,reject)=>{console.log(\"getNursePatientList: \",this.filterWardSearchId,this.filterSearchKeyword),this.loadingService.present(),this.patientApiService.getNursePatientList(this.filterWardSearchId,this.filterSearchKeyword).subscribe(result=>{console.log(result),this.loadingService.dismiss().then(_=>{this.nursePatientList=result,this.patientService.setNursePatientList(this.nursePatientList),resolve(result)})},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{reject(err)})})})}tapCoordinates(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log(\"offset: \",this.offsetY)}keyboardShowHandler(e){const kH=e.keyboardHeight;console.log(\"show: \",e.keyboardHeight);const bodyMoveStyle=document.querySelector(\"ion-app\").style;bodyMoveStyle.bottom=kH+\"px\",console.log(bodyMoveStyle.bottom)}keyboardHideHandler(){console.log(\"gone\"),document.querySelector(\"ion-app\").removeAttribute(\"style\")}removeIonAppStyles(){document.querySelector(\"ion-app\").removeAttribute(\"style\")}}class QuickSearchPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),core_ngfactory=__webpack_require__(\"oBZk\"),common=__webpack_require__(\"SVse\"),fesm2015_forms=__webpack_require__(\"s7LF\"),RenderType_QuickSearchPage=core.Bb({encapsulation:0,styles:[[\"ion-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{margin-left:2vw}ion-header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:1em;font-weight:700}ion-header[_ngcontent-%COMP%]   .topToolbar[_ngcontent-%COMP%]{box-shadow:none;border:none;--background:white}ion-header[_ngcontent-%COMP%]   .searchBar[_ngcontent-%COMP%]{background:#fff;display:-webkit-box;display:flex;width:100%}#items[_ngcontent-%COMP%]{color:#000;margin:0 0 0 10px;width:100px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}ion-content[_ngcontent-%COMP%]{overflow:hidden;background:#fff;height:100%;width:100%}ion-content[_ngcontent-%COMP%]   .wardSuggestion[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:100;overflow-y:scroll;overflow-x:hidden;max-height:30vh}ion-content[_ngcontent-%COMP%]   .patientInfoLabel[_ngcontent-%COMP%]{margin-top:.5vh;margin-bottom:.5vh}ion-content[_ngcontent-%COMP%]   .patientInfoLabel[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:#3c3f52;margin-top:0;margin-bottom:0}ion-content[_ngcontent-%COMP%]   .patientInfoLabel[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .patientInfoLabel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}#avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-left:10px!important;margin-right:10px;display:table}#avatar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:table-cell;text-align:center;vertical-align:middle;color:#fff;font-weight:700}#star[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}\"]],data:{}});function View_QuickSearchPage_2(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"ion-item\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.onSelectWard(_v.context.index)&&ad),ad}),core_ngfactory.Db,core_ngfactory.w)),core.Cb(1,49152,null,0,fesm5.I,[core.j,core.p,core.G],null,null),(_l()(),core.Db(2,0,null,0,2,\"ion-label\",[],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(3,49152,null,0,fesm5.O,[core.j,core.p,core.G],null,null),(_l()(),core.Wb(4,0,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,4,0,_v.context.$implicit.name)}))}function View_QuickSearchPage_1(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,3,\"ion-list\",[[\"class\",\"wardSuggestion\"]],null,null,null,core_ngfactory.Gb,core_ngfactory.D)),core.Cb(1,49152,null,0,fesm5.P,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_2)),core.Cb(3,278528,null,0,common.k,[core.Y,core.U,core.y],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,3,0,_v.component.filteredNurseWards)}),null)}function View_QuickSearchPage_4(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,5,\"div\",[[\"id\",\"avatar\"],[\"slot\",\"start\"]],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{\"background-color\":0}),(_l()(),core.Db(4,0,null,null,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Wb(5,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.ere);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){var currVal_1=_v.parent.context.$implicit.name_last.charAt(0).toUpperCase();_ck(_v,5,0,currVal_1)}))}function View_QuickSearchPage_5(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,5,\"div\",[[\"id\",\"avatar\"],[\"slot\",\"start\"]],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{\"background-color\":0}),(_l()(),core.Db(4,0,null,null,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Wb(5,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.discharged);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){var currVal_1=_v.parent.context.$implicit.name_last.charAt(0).toUpperCase();_ck(_v,5,0,currVal_1)}))}function View_QuickSearchPage_6(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,5,\"div\",[[\"id\",\"avatar\"],[\"slot\",\"start\"]],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{\"background-color\":0}),(_l()(),core.Db(4,0,null,null,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Wb(5,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.ope);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){var currVal_1=_v.parent.context.$implicit.name_last.charAt(0).toUpperCase();_ck(_v,5,0,currVal_1)}))}function View_QuickSearchPage_7(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,5,\"div\",[[\"id\",\"avatar\"],[\"slot\",\"start\"]],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{\"background-color\":0}),(_l()(),core.Db(4,0,null,null,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Wb(5,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.ipe);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){var currVal_1=_v.parent.context.$implicit.name_last.charAt(0).toUpperCase();_ck(_v,5,0,currVal_1)}))}function View_QuickSearchPage_8(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,5,\"div\",[[\"id\",\"avatar\"],[\"slot\",\"start\"]],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{\"background-color\":0}),(_l()(),core.Db(4,0,null,null,1,\"h1\",[],null,null,null,null,null)),(_l()(),core.Wb(5,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.phs);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){var currVal_1=_v.parent.context.$implicit.name_last.charAt(0).toUpperCase();_ck(_v,5,0,currVal_1)}))}function View_QuickSearchPage_9(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"h5\",[],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{color:0}),(_l()(),core.Wb(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.discharged);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){_ck(_v,4,0,_v.parent.context.$implicit.pid)}))}function View_QuickSearchPage_10(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"h5\",[],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{color:0}),(_l()(),core.Wb(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.ere);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){_ck(_v,4,0,_v.parent.context.$implicit.pid)}))}function View_QuickSearchPage_11(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"h5\",[],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{color:0}),(_l()(),core.Wb(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.ope);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){_ck(_v,4,0,_v.parent.context.$implicit.pid)}))}function View_QuickSearchPage_12(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"h5\",[],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{color:0}),(_l()(),core.Wb(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.ipe);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){_ck(_v,4,0,_v.parent.context.$implicit.pid)}))}function View_QuickSearchPage_13(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"h5\",[],null,null,null,null,null)),core.Tb(512,null,common.z,common.A,[core.p,core.z,core.M]),core.Cb(2,278528,null,0,common.o,[common.z],{ngStyle:[0,\"ngStyle\"]},null),core.Rb(3,{color:0}),(_l()(),core.Wb(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,_v.component.encounterTypesColors.phs);_ck(_v,2,0,currVal_0)}),(function(_ck,_v){_ck(_v,4,0,_v.parent.context.$implicit.pid)}))}function View_QuickSearchPage_14(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.encounterTypes.ere)}))}function View_QuickSearchPage_15(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.encounterTypes.ope)}))}function View_QuickSearchPage_16(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.encounterTypes.ipe)}))}function View_QuickSearchPage_17(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.otherEncounterTypes.phs)}))}function View_QuickSearchPage_18(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\" - \"]))],null,null)}function View_QuickSearchPage_19(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,2,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\"\"])),core.Sb(2,2)],null,(function(_ck,_v){var currVal_0=core.Xb(_v,1,0,_ck(_v,2,0,core.Pb(_v.parent.parent,0),_v.parent.context.$implicit.encounter_date,\"MMMM dd, yyyy\"));_ck(_v,1,0,currVal_0)}))}function View_QuickSearchPage_20(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,2,\"p\",[],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\" \",\"\"])),core.Sb(2,2)],null,(function(_ck,_v){var currVal_0=core.Xb(_v,1,0,_ck(_v,2,0,core.Pb(_v.parent.parent,0),_v.parent.context.$implicit.birth_date,\"yyyy.MM.dd\"));_ck(_v,1,0,currVal_0,_v.parent.context.$implicit.age)}))}function View_QuickSearchPage_21(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"ion-icon\",[[\"color\",\"warning\"],[\"name\",\"star-outline\"],[\"style\",\"zoom:4.0;\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(1,49152,null,0,fesm5.D,[core.j,core.p,core.G],{color:[0,\"color\"],name:[1,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"warning\",\"star-outline\")}),null)}function View_QuickSearchPage_22(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"ion-icon\",[[\"color\",\"light\"],[\"name\",\"star-outline\"],[\"style\",\"zoom:4.0;\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(1,49152,null,0,fesm5.D,[core.j,core.p,core.G],{color:[0,\"color\"],name:[1,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"light\",\"star-outline\")}),null)}function View_QuickSearchPage_3(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,48,\"ion-item\",[[\"class\",\"ion-no-padding\"],[\"id\",\"patientItem\"],[\"lines\",\"full\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.onPatientSelect(_v.context.$implicit)&&ad),ad}),core_ngfactory.Db,core_ngfactory.w)),core.Cb(1,49152,null,0,fesm5.I,[core.j,core.p,core.G],{lines:[0,\"lines\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_4)),core.Cb(3,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_5)),core.Cb(5,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_6)),core.Cb(7,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_7)),core.Cb(9,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_8)),core.Cb(11,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(12,0,null,0,30,\"ion-label\",[[\"class\",\"patientInfoLabel\"]],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(13,49152,null,0,fesm5.O,[core.j,core.p,core.G],null,null),(_l()(),core.Db(14,0,null,0,1,\"h2\",[[\"class\",\"name\"]],null,null,null,null,null)),(_l()(),core.Wb(15,null,[\"\",\", \",\" \",\" \",\"\"])),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_9)),core.Cb(17,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_10)),core.Cb(19,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_11)),core.Cb(21,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_12)),core.Cb(23,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_13)),core.Cb(25,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(26,0,null,0,12,\"div\",[[\"style\",\"display: flex;\"]],null,null,null,null,null)),(_l()(),core.sb(16777216,null,null,1,null,View_QuickSearchPage_14)),core.Cb(28,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_QuickSearchPage_15)),core.Cb(30,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_QuickSearchPage_16)),core.Cb(32,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_QuickSearchPage_17)),core.Cb(34,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_QuickSearchPage_18)),core.Cb(36,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(37,0,null,null,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Wb(38,null,[\"\",\"\"])),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_19)),core.Cb(40,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_20)),core.Cb(42,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(43,0,null,0,5,\"ion-avatar\",[[\"id\",\"star\"],[\"slot\",\"end\"]],null,null,null,core_ngfactory.db,core_ngfactory.b)),core.Cb(44,49152,null,0,fesm5.g,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_21)),core.Cb(46,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_22)),core.Cb(48,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"full\");var currVal_1=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ere\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,3,0,currVal_1);var currVal_2=1==_v.context.$implicit.is_discharged||!_v.context.$implicit.deptenc_code||_v.context.$implicit.deptenc_code&&!(_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ope\")>-1)&&!(_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ere\")>-1)&&!(_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ipe\")>-1)&&!(_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"phs\")>-1);_ck(_v,5,0,currVal_2);var currVal_3=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ope\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,7,0,currVal_3);var currVal_4=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ipe\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,9,0,currVal_4);var currVal_5=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"phs\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,11,0,currVal_5),_ck(_v,17,0,1==_v.context.$implicit.is_discharged);var currVal_11=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ere\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,19,0,currVal_11);var currVal_12=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ope\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,21,0,currVal_12);var currVal_13=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ipe\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,23,0,currVal_13);var currVal_14=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"phs\")>-1&&0==_v.context.$implicit.is_discharged;_ck(_v,25,0,currVal_14);var currVal_15=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ere\")>-1;_ck(_v,28,0,currVal_15);var currVal_16=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ope\")>-1;_ck(_v,30,0,currVal_16);var currVal_17=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"ipe\")>-1;_ck(_v,32,0,currVal_17);var currVal_18=_v.context.$implicit.deptenc_code&&_v.context.$implicit.deptenc_code.toLowerCase().indexOf(\"phs\")>-1;_ck(_v,34,0,currVal_18),_ck(_v,36,0,_v.context.$implicit.deptenc_code),_ck(_v,40,0,_v.context.$implicit.encounter_date),_ck(_v,42,0,_v.context.$implicit.birth_date),_ck(_v,46,0,_v.context.$implicit.is_favorite),_ck(_v,48,0,!_v.context.$implicit.is_favorite)}),(function(_ck,_v){_ck(_v,15,0,_v.context.$implicit.name_last,_v.context.$implicit.name_first,_v.context.$implicit.name_middle,_v.context.$implicit.suffix),_ck(_v,38,0,_v.context.$implicit.area_desc)}))}function View_QuickSearchPage_0(_l){return core.Yb(0,[core.Qb(0,common.e,[core.A]),(_l()(),core.Db(1,0,null,null,35,\"ion-header\",[],null,null,null,core_ngfactory.tb,core_ngfactory.r)),core.Cb(2,49152,null,0,fesm5.C,[core.j,core.p,core.G],null,null),(_l()(),core.Db(3,0,null,0,33,\"ion-toolbar\",[[\"class\",\"topToolbar\"]],null,null,null,core_ngfactory.cc,core_ngfactory.ab)),core.Cb(4,49152,null,0,fesm5.Db,[core.j,core.p,core.G],null,null),(_l()(),core.Db(5,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,core_ngfactory.gb,core_ngfactory.e)),core.Cb(6,49152,null,0,fesm5.m,[core.j,core.p,core.G],null,null),(_l()(),core.Db(7,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==core.Pb(_v,9).onClick($event)&&ad),ad}),core_ngfactory.eb,core_ngfactory.c)),core.Cb(8,49152,null,0,fesm5.h,[core.j,core.p,core.G],null,null),core.Cb(9,16384,null,0,fesm5.i,[[2,fesm5.jb],fesm5.Kb],null,null),(_l()(),core.Db(10,0,null,0,26,\"div\",[[\"class\",\"searchBar\"]],null,null,null,null,null)),(_l()(),core.Db(11,0,null,null,18,\"ion-select\",[[\"id\",\"items\"],[\"interface\",\"popover\"],[\"mode\",\"ios\"],[\"placeholder\",\"All\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,12)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,12)._handleChangeEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.filterType=$event)&&ad),\"ngModelChange\"===en&&(ad=!1!==_co.onTypeChange($event)&&ad),ad}),core_ngfactory.Tb,core_ngfactory.Q)),core.Cb(12,16384,null,0,fesm5.Rb,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Rb]),core.Cb(14,671744,null,0,fesm2015_forms.q,[[8,null],[8,null],[8,null],[6,fesm2015_forms.l]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.q]),core.Cb(16,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(17,49152,null,0,fesm5.ob,[core.j,core.p,core.G],{interface:[0,\"interface\"],mode:[1,\"mode\"],placeholder:[2,\"placeholder\"]},null),(_l()(),core.Db(18,0,null,0,2,\"ion-select-option\",[[\"value\",\"ALL\"]],null,null,null,core_ngfactory.Sb,core_ngfactory.R)),core.Cb(19,49152,null,0,fesm5.pb,[core.j,core.p,core.G],{value:[0,\"value\"]},null),(_l()(),core.Wb(-1,0,[\"All\"])),(_l()(),core.Db(21,0,null,0,2,\"ion-select-option\",[[\"value\",\"ERE\"]],null,null,null,core_ngfactory.Sb,core_ngfactory.R)),core.Cb(22,49152,null,0,fesm5.pb,[core.j,core.p,core.G],{value:[0,\"value\"]},null),(_l()(),core.Wb(-1,0,[\"ER\"])),(_l()(),core.Db(24,0,null,0,2,\"ion-select-option\",[[\"value\",\"IPE\"]],null,null,null,core_ngfactory.Sb,core_ngfactory.R)),core.Cb(25,49152,null,0,fesm5.pb,[core.j,core.p,core.G],{value:[0,\"value\"]},null),(_l()(),core.Wb(-1,0,[\"IPD\"])),(_l()(),core.Db(27,0,null,0,2,\"ion-select-option\",[[\"value\",\"OPE\"]],null,null,null,core_ngfactory.Sb,core_ngfactory.R)),core.Cb(28,49152,null,0,fesm5.pb,[core.j,core.p,core.G],{value:[0,\"value\"]},null),(_l()(),core.Wb(-1,0,[\"OPD\"])),(_l()(),core.Db(30,0,null,null,6,\"ion-searchbar\",[[\"cancelButtonText\",\"\"],[\"color\",\"dark\"],[\"mode\",\"ios\"],[\"showCancelButton\",\"focus\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"search\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,31)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,31)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.filterSearchKeyword=$event)&&ad),\"search\"===en&&(ad=!1!==_co.onSearchInputChange($event)&&ad),ad}),core_ngfactory.Pb,core_ngfactory.N)),core.Cb(31,16384,null,0,fesm5.Sb,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Sb]),core.Cb(33,671744,null,0,fesm2015_forms.q,[[8,null],[8,null],[8,null],[6,fesm2015_forms.l]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.q]),core.Cb(35,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(36,49152,null,0,fesm5.lb,[core.j,core.p,core.G],{cancelButtonText:[0,\"cancelButtonText\"],color:[1,\"color\"],mode:[2,\"mode\"],showCancelButton:[3,\"showCancelButton\"]},null),(_l()(),core.Db(37,0,null,null,7,\"ion-content\",[],null,null,null,core_ngfactory.mb,core_ngfactory.k)),core.Cb(38,49152,null,0,fesm5.v,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_1)),core.Cb(40,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(41,0,null,0,3,\"ion-list\",[[\"style\",\"text-align:center\"]],null,null,null,core_ngfactory.Gb,core_ngfactory.D)),core.Cb(42,49152,null,0,fesm5.P,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_QuickSearchPage_3)),core.Cb(44,278528,null,0,common.k,[core.Y,core.U,core.y],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,14,0,_co.filterType),_ck(_v,17,0,\"popover\",\"ios\",\"All\"),_ck(_v,19,0,\"ALL\"),_ck(_v,22,0,\"ERE\"),_ck(_v,25,0,\"IPE\"),_ck(_v,28,0,\"OPE\"),_ck(_v,33,0,_co.filterSearchKeyword),_ck(_v,36,0,\"\",\"dark\",\"ios\",\"focus\"),_ck(_v,40,0,_co.showWardSuggestion),_ck(_v,44,0,_co.patientList)}),(function(_ck,_v){_ck(_v,11,0,core.Pb(_v,16).ngClassUntouched,core.Pb(_v,16).ngClassTouched,core.Pb(_v,16).ngClassPristine,core.Pb(_v,16).ngClassDirty,core.Pb(_v,16).ngClassValid,core.Pb(_v,16).ngClassInvalid,core.Pb(_v,16).ngClassPending),_ck(_v,30,0,core.Pb(_v,35).ngClassUntouched,core.Pb(_v,35).ngClassTouched,core.Pb(_v,35).ngClassPristine,core.Pb(_v,35).ngClassDirty,core.Pb(_v,35).ngClassValid,core.Pb(_v,35).ngClassInvalid,core.Pb(_v,35).ngClassPending)}))}function View_QuickSearchPage_Host_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"app-quick-search\",[],null,null,null,View_QuickSearchPage_0,RenderType_QuickSearchPage)),core.Cb(1,114688,null,0,QuickSearchPage,[patient_api_service.a,patient_service.a,login_service.a,api_service.a,loading_service.a,string_utils_service.a,fesm5.Kb,alert_service_service.a,permission_validator_service.a,fesm5.e,fesm5.Jb],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var QuickSearchPageNgFactory=core.zb(\"app-quick-search\",QuickSearchPage,View_QuickSearchPage_Host_0,{},{},[]),router=__webpack_require__(\"iInd\");__webpack_require__.d(__webpack_exports__,\"QuickSearchPageModuleNgFactory\",(function(){return QuickSearchPageModuleNgFactory}));var QuickSearchPageModuleNgFactory=core.Ab(QuickSearchPageModule,[],(function(_l){return core.Mb([core.Nb(512,core.m,core.lb,[[8,[router_ngfactory.a,QuickSearchPageNgFactory]],[3,core.m],core.E]),core.Nb(4608,common.n,common.m,[core.A,[2,common.C]]),core.Nb(4608,fesm2015_forms.w,fesm2015_forms.w,[]),core.Nb(4608,fesm5.b,fesm5.b,[core.G,core.g]),core.Nb(4608,fesm5.Jb,fesm5.Jb,[fesm5.b,core.m,core.w]),core.Nb(4608,fesm5.Ob,fesm5.Ob,[fesm5.b,core.m,core.w]),core.Nb(1073742336,common.c,common.c,[]),core.Nb(1073742336,fesm2015_forms.v,fesm2015_forms.v,[]),core.Nb(1073742336,fesm2015_forms.i,fesm2015_forms.i,[]),core.Nb(1073742336,fesm5.Fb,fesm5.Fb,[]),core.Nb(1073742336,router.q,router.q,[[2,router.v],[2,router.m]]),core.Nb(1073742336,QuickSearchPageModule,QuickSearchPageModule,[]),core.Nb(1024,router.k,(function(){return[[{path:\"\",component:QuickSearchPage}]]}),[])])}))},tS1D:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var scheduler_async=__webpack_require__(\"D0XW\");const TimeoutError=(()=>{function TimeoutErrorImpl(){return Error.call(this),this.message=\"Timeout has occurred\",this.name=\"TimeoutError\",this}return TimeoutErrorImpl.prototype=Object.create(Error.prototype),TimeoutErrorImpl})();var OuterSubscriber=__webpack_require__(\"l7GE\"),subscribeToResult=__webpack_require__(\"ZUHj\");class TimeoutWithOperator{constructor(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.withObservable=withObservable,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new timeoutWith_TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class timeoutWith_TimeoutWithSubscriber extends OuterSubscriber.a{constructor(destination,absoluteTimeout,waitFor,withObservable,scheduler){super(destination),this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.withObservable=withObservable,this.scheduler=scheduler,this.action=null,this.scheduleTimeout()}static dispatchTimeout(subscriber){const{withObservable:withObservable}=subscriber;subscriber._unsubscribeAndRecycle(),subscriber.add(Object(subscribeToResult.a)(subscriber,withObservable))}scheduleTimeout(){const{action:action}=this;action?this.action=action.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(timeoutWith_TimeoutWithSubscriber.dispatchTimeout,this.waitFor,this))}_next(value){this.absoluteTimeout||this.scheduleTimeout(),super._next(value)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var throwError=__webpack_require__(\"z6cu\");function timeout(due,scheduler=scheduler_async.a){return function(due,withObservable,scheduler=scheduler_async.a){return source=>{let absoluteTimeout=function(value){return value instanceof Date&&!isNaN(+value)}(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return source.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}}(due,Object(throwError.a)(new TimeoutError),scheduler)}__webpack_require__.d(__webpack_exports__,\"a\",(function(){return timeout}))},z6cu:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return throwError}));var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"HDdC\");function throwError(error,scheduler){return new _Observable__WEBPACK_IMPORTED_MODULE_0__.a(scheduler?subscriber=>scheduler.schedule(dispatch,0,{error:error,subscriber:subscriber}):subscriber=>subscriber.error(error))}function dispatch({error:error,subscriber:subscriber}){subscriber.error(error)}}}]);","extractedComments":[]}