{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{LDXv:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var core=__webpack_require__(\"8Y7J\");let array_comparator_service_ArrayComparatorService=(()=>{class ArrayComparatorService{constructor(){}compare(arr1,arr2){const objMap={};return arr1.forEach(e1=>arr2.forEach(e2=>{e1.id===e2.id&&(objMap[e1.id]=objMap[e1.id]+1||1)})),Object.keys(objMap)}}return ArrayComparatorService.ngInjectableDef=core.bc({factory:function(){return new ArrayComparatorService},token:ArrayComparatorService,providedIn:\"root\"}),ArrayComparatorService})();__webpack_require__.d(__webpack_exports__,\"a\",(function(){return permission_validator_service_PermissionValidatorService}));let permission_validator_service_PermissionValidatorService=(()=>{class PermissionValidatorService{constructor(arrayComparatorService){this.arrayComparatorService=arrayComparatorService,this.throwsErrorCode=5011,this.perms={allPermission:\"_a_0_all\",manageEhr:\"_a_1_ehr_sudomanage\",viewAllDept:\"_a_2_ehr_view_all_dept\",viewOwnDept:\"_a_3_ehr_view_own_dept\",editAllDept:\"_a_2_ehr_edit_all_dept\",editOwnDept:\"_a_3_ehr_edit_own_dept\",overideInct:\"_a_2_ehr_override_my_patient\",overideInctSoap:\"_a_3_ehr_soap\",overideInctSoapDiag:\"_a_2_ehr_override_final_dx\",overideInctSoapDiag2:\"_a_4_ehr_override_final_dx\",overideInctPastMed:\"_a_3_ehr_past_medical_history\",overideInctPsigns:\"_a_3_ehr_pertinent_signs_and_symptoms\",overideInctHciRef:\"_a_3_ehr_referred_hci\",overideInctPhysExam:\"_a_3_ehr_physical_examination\",overideInctMedicat:\"_a_3_ehr_medication\",overideInctPlanMan:\"_a_3_ehr_plan_management\",overideInctEndCare:\"_a_3_ehr_end_of_care\"},this.portlets={soap:\"soap\",soapDiag:\"soapDiag\",pastMed:\"pastMed\",pSigns:\"pSings\",refHci:\"refHci\",physExam:\"physExam\",medict:\"medict\",planMan:\"planMan\",endCare:\"endCare\"}}setAuthentication(authentication){this.authentication=authentication}setSelectedPatient(selectedPatient){this.selectedPatient=selectedPatient}validateRole(validate,withIsDischarge=!0,soapPerm=!1){this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log(\"user roleName: \",this.roleName);const roleNames=validate.role_name,otherPermissions=validate[\"other-permissions\"];let result_perm=!1;if(this.authentication.user.permissions.map(perm=>{\"all\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id:\"sudomanage\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id:\"view_all_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_view_all_dept\"===perm.permission_id:\"view_own_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_view_all_dept\"===perm.permission_id||\"_a_3_ehr_view_own_dept\"===perm.permission_id:\"edit_all_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_edit_all_dept\"===perm.permission_id:\"edit_own_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_edit_all_dept\"===perm.permission_id||\"_a_3_ehr_edit_own_dept\"===perm.permission_id:\"override_my_patient\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id:\"soap\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_soap\"===perm.permission_id:\"override_final_dx\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_4_ehr_override_final_dx\"===perm.permission_id||\"_a_3_ehr_soap\"===perm.permission_id:\"past_medical_history\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_past_medical_history\"===perm.permission_id:\"pertinent_signs_and_symptoms\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_pertinent_signs_and_symptoms\"===perm.permission_id:\"referred_hci\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_referred_hci\"===perm.permission_id:\"physical_examination\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_physical_examination\"===perm.permission_id:\"medication\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_medication\"===perm.permission_id:\"plan_managem\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_plan_management\"===perm.permission_id:\"end_of_care\"===validate[0]&&(result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_end_of_care\"===perm.permission_id)}),soapPerm)return result_perm;console.log(\"roleNames: \",roleNames);let validRole=!0;if(Array.isArray(roleNames)&&roleNames.length>0){const index=roleNames.findIndex(element=>(console.log(\"element: \",element,\" this.roleName: \",this.roleName),-1!=this.roleName.toUpperCase().indexOf(element.toUpperCase())));console.log(\"index: \",index),validRole=index>=0}console.log(\"validRole: \",validRole);let validOtherPermission=!1;return Array.isArray(otherPermissions)&&otherPermissions.length>0&&(validOtherPermission=this.arrayComparatorService.compare(otherPermissions,this.permissions).length>0),console.log(\"validOtherPermission: \",validOtherPermission),!withIsDischarge||(console.log(\"selectedPatient: \",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log(\"is_discharged\"),validOtherPermission)}hasAllPermission(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.allPermission)}hasManageEhr(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.manageEhr)}hasEdit(){return!!this.authentication.user.permissions.some(p=>p.permission_id==this.perms.editAllDept)||this.authentication.user.permissions.some(p=>p.permission_id==this.perms.editOwnDept)&&this.selectedPatient.isInMyDept}hasView(){return!!this.authentication.user.permissions.some(p=>p.permission_id==this.perms.viewAllDept)||this.authentication.user.permissions.some(p=>p.permission_id==this.perms.viewOwnDept)&&this.selectedPatient.isInMyDept}hasHigherPermission(){return this.hasAllPermission()||this.hasManageEhr()}hasOverInct(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInct)}hasDischPerm(type){if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(type){case this.portlets.soap:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctSoap);case this.portlets.soapDiag:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctSoapDiag||p.permission_id==this.perms.overideInctSoapDiag2);case this.portlets.pastMed:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPastMed);case this.portlets.pSigns:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPsigns);case this.portlets.refHci:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctHciRef);case this.portlets.physExam:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPhysExam);case this.portlets.medict:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctMedicat);case this.portlets.planMan:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPlanMan);case this.portlets.endCare:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctEndCare)}return!1}isDischarged(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}hasSoapEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}hasSoapDiagEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}hasSoapView(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}hasPastMedEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}hasPastView(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}hasPSignsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}hasPSingsView(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}hasVitalSignsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasRefHciEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}hasRefHciView(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}hasPhysExamEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}hasPhysExamView(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}hasResultView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasDrugsMedsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}hasDrugsMedsView(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}hasEncHistView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasReferalsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasEndCareEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}hasEndCareView(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}hasPlanManEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}hasPlanManView(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}return PermissionValidatorService.ngInjectableDef=core.bc({factory:function(){return new PermissionValidatorService(core.cc(array_comparator_service_ArrayComparatorService))},token:PermissionValidatorService,providedIn:\"root\"}),PermissionValidatorService})()},T4AJ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),http=__webpack_require__(\"IheW\"),from=__webpack_require__(\"Cfvw\"),throwError=__webpack_require__(\"z6cu\"),timeout=__webpack_require__(\"tS1D\"),map=__webpack_require__(\"lJxs\"),catchError=__webpack_require__(\"JIr8\"),fesm5=__webpack_require__(\"ZZ/e\"),ngx=__webpack_require__(\"yp2w\");let physical_examinations_api_service_PhysicalExaminationsApiService=(()=>{class PhysicalExaminationsApiService{constructor(platform,httpClient,http){this.platform=platform,this.httpClient=httpClient,this.http=http,this.url=\"http://localhost:3000\",this.getPhysicalExaminationPath=\"/api/doctor/patient/physical/examination/data\",this.savePhysicalExaminationPath=\"/api/doctor/patient/physical/examination/data/save\"}setUrl(url){this.url=url}setToken(token){this.token=token}getPhysicalExamination(encounter_no){if(this.platform.is(\"ios\")||this.platform.is(\"android\")){console.log(\"native\");const headers={Accept:\"application/json\",Authorization:\"Bearer \"+this.token};return Object(from.a)(this.http.post(this.url+this.getPhysicalExaminationPath+\"?id=\"+encounter_no,{},headers)).pipe(Object(timeout.a)(3e4),Object(map.a)(response=>{const responseData=JSON.parse(response.data);return console.log(\"Physical Examination: \",responseData),responseData}),Object(catchError.a)((err,caught)=>{if(\"string\"==typeof err.error)try{err.error=JSON.parse(err.error)}catch(e){console.log(\"err.error parse failed: \",e)}return console.log(\"Physical Examination error: \",err,caught),Object(throwError.a)(err)}))}{console.log(\"browser\");const params=(new http.h).set(\"id\",encounter_no);console.log(\"params: \",params);const httpOptions={params:params,headers:new http.g({Accept:\"application/json\",Authorization:\"Bearer \"+this.token})};return console.log(\"httpOptions\",httpOptions),this.httpClient.post(this.url+this.getPhysicalExaminationPath,{},httpOptions).pipe(Object(timeout.a)(3e4),Object(map.a)(results=>(console.log(results),results)),Object(catchError.a)((err,caught)=>(console.log(caught),console.error(err),Object(throwError.a)(err))))}}savePhysicalExamination(examinations){if(this.platform.is(\"ios\")||this.platform.is(\"android\")){console.log(\"native\");const exam=this.getExaminationArray(examinations),body={};body.data=exam,console.log(\"body: \",body);const headers={Accept:\"application/json\",Authorization:\"Bearer \"+this.token};return this.http.setDataSerializer(\"json\"),Object(from.a)(this.http.post(this.url+this.savePhysicalExaminationPath+\"?id=\"+examinations.encounter_no,body,headers)).pipe(Object(timeout.a)(3e4),Object(map.a)(response=>{const responseData=JSON.parse(response.data);return console.log(\"Physical Examination: \",responseData),responseData}),Object(catchError.a)((err,caught)=>{if(\"string\"==typeof err.error)try{err.error=JSON.parse(err.error)}catch(e){console.log(\"err.error parse failed: \",e)}return console.log(\"Physical Examination error: \",err,caught),Object(throwError.a)(err)}))}{console.log(\"browser\");const body={data:this.getExaminationArray(examinations)};console.log(\"body: \",body);const params=(new http.h).set(\"id\",examinations.encounter_no);console.log(\"params: \",params);const httpOptions={params:params,headers:new http.g({Accept:\"application/json\",Authorization:\"Bearer \"+this.token})};return console.log(\"httpOptions\",httpOptions),this.httpClient.post(this.url+this.savePhysicalExaminationPath,body,httpOptions).pipe(Object(timeout.a)(3e4),Object(map.a)(results=>(console.log(results),results)),Object(catchError.a)((err,caught)=>(console.log(caught),console.error(err),Object(throwError.a)(err))))}}getExaminationArray(examination){const data={},findings=examination.findings;return Object.keys(findings).forEach(key=>{const finding=findings[key];data[key]={},finding.value.forEach(element=>{let v=null;2===element.id?v=finding.others:\"others\"===element.id&&(v=finding.others),data[key][element.id]=v})}),Object.keys(data).forEach(key=>{(2 in data[key]||\"2\"in data[key])&&delete data[key].others}),console.log(\"data: \",data),data}}return PhysicalExaminationsApiService.ngInjectableDef=core.bc({factory:function(){return new PhysicalExaminationsApiService(core.cc(fesm5.Nb),core.cc(http.c),core.cc(ngx.a))},token:PhysicalExaminationsApiService,providedIn:\"root\"}),PhysicalExaminationsApiService})();var patient_service=__webpack_require__(\"7wfR\"),loading_service=__webpack_require__(\"7ch9\"),permission_validator_service=__webpack_require__(\"LDXv\"),string_utils_service=__webpack_require__(\"Pasx\"),api_service=__webpack_require__(\"H+bZ\"),login_service=__webpack_require__(\"EFyh\");class PhysicalExaminationsConfig{constructor(values={}){Object.assign(this,values)}}var alert_service_service=__webpack_require__(\"VM0z\");class physical_examinations_page_PhysicalExaminationsPage{constructor(physicalExaminationsApiService,patientService,apiService,loginService,loadingService,stringUtilsService,permissionValidatorService,menuController,alertServ){this.physicalExaminationsApiService=physicalExaminationsApiService,this.patientService=patientService,this.apiService=apiService,this.loginService=loginService,this.loadingService=loadingService,this.stringUtilsService=stringUtilsService,this.permissionValidatorService=permissionValidatorService,this.menuController=menuController,this.alertServ=alertServ,this.selectedFindings=[],this.findings=[],this.examinationSave=!0,this.examinationView=!0,this.formErrorMessage=\"\",this.formHasError=!1,this.peAllowEdit=!0,this.pe_modified={modified_by:null,modified_dt:null},this.SAVE_PHYSICAL_EXAMINATION=1,this.selectedEncounterNo=patientService.getSelectedEncounterNo(),this.physicalExaminationsApiService.setUrl(this.apiService.getUrl()),this.physicalExaminationsApiService.setToken(this.loginService.getAuthentication().token),this.configAndDefaults=new PhysicalExaminationsConfig,this.configAndDefaults.m_patient_examination=loginService.getConfigAndDefaults().examination[\"m-patient-examination\"],console.log(\"physical examination\",this.configAndDefaults),this.initFindings()}initUserInterfaceByRole(){this.examinationSave=this.permissionValidatorService.hasPhysExamEdit()}initFindings(){this.selectedFindings=[],this.findings=[];const examination=JSON.parse(JSON.stringify(this.configAndDefaults.m_patient_examination[\"default-options\"].examination));Object.keys(examination).forEach(key=>{console.log(\"keys: \",key),console.log(\"examination[key]: \",examination[key]);const others=examination[key][0].find(item=>\"others\"===item.id),altered=examination[key][0].find(item=>2===item.id);this.findings.push({key:key,value:examination[key],tabOpen:!1,hasRemarks:others||altered,hasOthersLabel:others,others:\"\",isDisabled:!1})}),console.log(\"findings: \",this.findings)}onExpandFindings(j){this.findings.forEach((finding,index)=>{finding.tabOpen=index===j&&!1===finding.tabOpen})}ionViewWillEnter(){console.log(\"ionViewWillEnter\");const tempSelectedEncounterNo=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==tempSelectedEncounterNo&&(console.log(\"selected patient changed\"),this.selectedEncounterNo=tempSelectedEncounterNo,this.initFindings(),this.initUserInterfaceByRole(),this.getPhysicalExamination()),window.addEventListener(\"native.keyboardshow\",this.keyboardShowHandler),window.addEventListener(\"native.keyboardhide\",this.keyboardHideHandler)}ionViewWillLeave(){console.log(\"ionViewWillLeave\"),window.removeEventListener(\"native.keyboardshow\",this.keyboardShowHandler),window.removeEventListener(\"native.keyboardhide\",this.keyboardHideHandler),this.removeIonAppStyles()}ngOnInit(){this.menuController.swipeGesture(!0,\"mainMenu\"),this.menuController.swipeGesture(!0,\"accountMenu\"),this.initUserInterfaceByRole(),this.getPhysicalExamination()}getPhysicalExamination(){return new Promise((resolve,reject)=>{this.loadingService.present(),this.physicalExaminationsApiService.getPhysicalExamination(this.selectedEncounterNo).subscribe(result=>{console.log(result);let foundSelected=!1;this.peAllowEdit=!0,this.pe_modified={modified_by:null,modified_dt:null};try{Object.keys(result.examinationData).forEach(resultKey=>{const k=resultKey;let o=\"\";const v=[],examination=this.findings.find(item=>item.key===resultKey);if(examination){const savedFindings=result.examinationData[examination.key];Object.keys(savedFindings).forEach(key=>{this.findings.forEach(finding=>{const value=finding.value[0].find(item=>(item.id===Number(key)||item.id===key)&&examination.key===finding.key);value&&(value.checked=!0,foundSelected=!0,2===value.id||\"string\"==typeof value.id&&\"2\"===value.id?(finding.others=savedFindings[key],o=savedFindings[key]):\"string\"==typeof value.id&&\"others\"===value.id&&\"others\"===key&&(finding.others=savedFindings[key],o=savedFindings[key]),v.push(value))})})}this.selectedFindings.push({key:k,value:v,others:o})}),console.log(\"this.selectedFindings: \",this.selectedFindings),this.loadingService.dismiss().then(_=>{this.selectedFindings.forEach(selectedFinding=>{const essentiallyNormal=selectedFinding.value.find(value=>\"essentially normal\"===value.text.toLocaleLowerCase());if(essentiallyNormal){const val=[];val.push(essentiallyNormal),selectedFinding.value=val;const finding=this.findings.find(find=>find.key===selectedFinding.key);console.log(\"essentiallyNormal \",finding,essentiallyNormal),finding.value[0].forEach(value=>{\"essentially normal\"!==value.text.toLocaleLowerCase()&&(value.checked=!1,value.disabled=!0)}),finding.disabledOthers=!0,finding.others=\"\",selectedFinding.others=\"\"}const awakeAndAlert=selectedFinding.value.find(value=>1===value.id);if(awakeAndAlert){const val=[];val.push(awakeAndAlert),selectedFinding.value=val,console.log(\"awakeAndAlert \",awakeAndAlert);const finding=this.findings.find(find=>find.key===selectedFinding.key);finding.value[0].forEach(value=>{1!==value.id&&(value.checked=!1)}),finding.others=\"\",finding.disabledOthers=!0,selectedFinding.others=\"\"}}),console.log(\"this.selectedFindings after loading: \",this.selectedFindings),foundSelected&&(this.peAllowEdit=!1,this.pe_modified.modified_by=result.modified_by,this.pe_modified.modified_dt=result.modified_dt),resolve(result.examinationData)})}catch(err){this.alertServ.openAlertModal(\"fail\",\"Failed\",\"Cannot parse Physical Examination values!\",\"Ok\"),reject(err)}},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{const message=this.stringUtilsService.parseErrorMessage(err);this.alertServ.openAlertModal(\"fail\",\"Failed\",message,\"Ok\"),reject(err)})})})}onFindingCheckSelect(j,i){console.log(\"j: \",j,\"i:\",i);const finding=this.findings[j];console.log(\"finding: \",finding);const selectedFinding=this.selectedFindings.find(item=>item.key===finding.key);console.log(\"selectedFinding: \",selectedFinding);const index=selectedFinding.value.findIndex(item=>item.text===finding.value[0][i].text&&item.id===finding.value[0][i].id);console.log(\"index\",index),index<0?selectedFinding.value.push(finding.value[0][i]):(\"essentially normal\"===finding.value[0][i].text.toLocaleLowerCase()?(finding.disabledOthers=!1,finding.value[0].forEach(value=>{value.disabled=!1})):1===finding.value[0][i].id&&(finding.disabledOthers=!1),selectedFinding.value.splice(index,1));const essentiallyNormal=selectedFinding.value.find(item=>\"string\"==typeof item.text&&\"essentially normal\"===item.text.toLocaleLowerCase());if(essentiallyNormal){console.log(\"essentiallyNormal \",essentiallyNormal),finding.value[0].forEach(value=>{\"essentially normal\"!==value.text.toLocaleLowerCase()&&(value.checked=!1,value.disabled=!0)}),finding.disabledOthers=!0,finding.others=\"\",selectedFinding.others=\"\";const val=[];val.push(essentiallyNormal),selectedFinding.value=val}const awakeAndAlert=selectedFinding.value.find(item=>1===item.id&&item.text===finding.value[0][i].text);if(awakeAndAlert){console.log(\"awakeAndAlert \",awakeAndAlert),finding.value[0].forEach(value=>{1!==value.id&&(value.checked=!1)});const val=[];val.push(awakeAndAlert),finding.others=\"\",finding.disabledOthers=!0,selectedFinding.value=val,selectedFinding.others=\"\"}const alteredSensorium=selectedFinding.value.find(item=>2===item.id&&item.text===finding.value[0][i].text);if(alteredSensorium){console.log(\"alteredSensorium \",alteredSensorium),finding.value[0].forEach(value=>{2!==value.id&&(value.checked=!1)});const val=[];val.push(alteredSensorium),finding.disabledOthers=!1,selectedFinding.others=finding.others,selectedFinding.value=val}console.log(\"this.selectedFindings: \",this.selectedFindings)}onOthersChange(j){const finding=this.findings[j];console.log(\"finding: \",finding);const selectedFinding=this.selectedFindings.find(item=>item.key===finding.key),othersIndex=selectedFinding.value.findIndex(item=>\"others\"===item.id);console.log(\"othersIndex: \",othersIndex),othersIndex<0&&finding.others?selectedFinding.value.push({id:\"others\",text:\"Others\"}):othersIndex>=0&&!finding.others&&selectedFinding.value.splice(othersIndex,1),selectedFinding.others=finding.others,console.log(\"selectedFinding: \",selectedFinding),console.log(\"this.selectedFindings: \",this.selectedFindings)}onSaveFindings(examinationFinding){console.log(\"selectedFindings: \",this.selectedFindings);let errorMessage,hasError=!1;this.selectedFindings.forEach(element=>{if(console.log(\"value: \",element.value),\"General Survey\"===element.key){const alteredSensorium=element.value.find(item=>2===item.id);if(alteredSensorium&&\"\"===element.others)return hasError=!0,void(errorMessage=\"Altered Sensorium remarks is required!\");if(alteredSensorium&&element.others.length>2e3)return hasError=!0,void(errorMessage=\"Remarks on \"+element.key+\" reached its maximum character limit.\")}else element.others.length>200&&(hasError=!0,errorMessage=\"Remarks on \"+element.key+\" reached its maximum character limit.\");0===element.value.length&&(hasError=!0,errorMessage=\"Please select atleast 1 on \"+element.key)}),hasError?this.alertServ.openAlertModal(\"fail\",\"Failed\",errorMessage,\"Ok\"):(console.log(\"this.selectedFindings\",this.selectedFindings),this.openPromptModal(this.SAVE_PHYSICAL_EXAMINATION,{examinationFinding:examinationFinding},\"Physical Examination\",\"Would you like to save your changes?\"))}onSaveFindingsFunction(examinationFinding){console.log(\"findings: \",this.findings);const examination={encounter_no:this.selectedEncounterNo,findings:{}},findings={};this.selectedFindings.forEach(element=>{findings[element.key]={value:element.value,others:element.others}}),examination.findings=findings,console.log(\"examination: \",examination),this.physicalExaminationsApiService.getExaminationArray(examination),this.loadingService.present(),this.physicalExaminationsApiService.savePhysicalExamination(examination).subscribe(result=>{console.log(\"result\"),this.loadingService.dismiss().then(_=>{result&&200===result.code?(this.pe_modified.modified_by=result.modified_by,this.pe_modified.modified_dt=result.modified_dt,this.peAllowEdit=!1,this.alertServ.openAlertModal(\"success\",\"Success\",result.message)):(console.log(\"failed\"),this.alertServ.openAlertModal(\"fail\",\"Failed\",result.message,\"Ok\"))})},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{const message=this.stringUtilsService.parseErrorMessage(err);this.alertServ.openAlertModal(\"fail\",\"Failed\",message,\"Ok\")})})}doRefreshPhysicalExamination(event){this.initFindings(),this.getPhysicalExamination().then(_=>{event.target.complete()}).catch(_=>{event.target.complete()})}openPromptModal(option,data,title,message,ok=\"Save\",cancel=\"Cancel\"){this.alertServ.openPromptModal(title,message,ok,result=>{null!==result&&(console.log(\"result.data: \",result.data),result.data&&\"Save\"===result.data.button&&option===this.SAVE_PHYSICAL_EXAMINATION&&this.onSaveFindingsFunction(data.examinationFinding))})}tapCoordinates(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log(\"offset: \",this.offsetY)}keyboardShowHandler(e){const kH=e.keyboardHeight;console.log(\"show: \",e.keyboardHeight);const bodyMoveStyle=document.querySelector(\"ion-app\").style;bodyMoveStyle.bottom=kH+\"px\",console.log(bodyMoveStyle.bottom)}keyboardHideHandler(){console.log(\"gone\"),document.querySelector(\"ion-app\").removeAttribute(\"style\")}removeIonAppStyles(){document.querySelector(\"ion-app\").removeAttribute(\"style\")}}class PhysicalExaminationsPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),nurse_note_component_ngfactory=__webpack_require__(\"Jt+7\"),core_ngfactory=__webpack_require__(\"oBZk\"),fesm2015_forms=__webpack_require__(\"s7LF\"),common=__webpack_require__(\"SVse\"),headerbar_component_ngfactory=__webpack_require__(\"ChBM\"),headerbar_component=__webpack_require__(\"RRim\"),router=__webpack_require__(\"iInd\"),cf4_api_service=__webpack_require__(\"gly3\"),pdf_viewer_service=__webpack_require__(\"Fzct\"),in_app_browser_ngx=__webpack_require__(\"9B/o\"),modified_b_toast_component_ngfactory=__webpack_require__(\"h7h0\"),modified_b_toast_component=__webpack_require__(\"dz+s\"),RenderType_PhysicalExaminationsPage=core.Bb({encapsulation:0,styles:[[\"ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:10px;width:100%;height:100%;margin:20px auto}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]{margin-bottom:15px;margin-left:15px;margin-right:15px;--ion-background-color:white;background:#fff;padding-bottom:1px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .findingsCheckBoxGroup[_ngcontent-%COMP%]{display:-webkit-box;display:flex}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .findingsCheckBoxGroup[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{margin:0}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .findingsOthersGroup[_ngcontent-%COMP%]   .mediumTextArea[_ngcontent-%COMP%]{--background:rgb(235, 235, 235);width:calc(100% - 30px);border:none;margin:15px 15px 20px;padding:10px;background:#ebebeb;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .normalTextInput[_ngcontent-%COMP%]{height:48px;width:100%;border:none;margin-top:10px;padding-left:10px;padding-right:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .mediumTextArea[_ngcontent-%COMP%]{width:calc(100% - 30px);border:none;margin:15px 15px 20px;padding:10px;background:#ebebeb;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .mediumTextArea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c8c8c8;font-style:italic}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .mediumTextArea[_ngcontent-%COMP%]::-moz-placeholder{color:#c8c8c8;font-style:italic}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .mediumTextArea[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8c8c8;font-style:italic}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .mediumTextArea[_ngcontent-%COMP%]::placeholder{color:#c8c8c8;font-style:italic}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{margin-left:20px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .textSubLabel[_ngcontent-%COMP%]{color:#949494;font-size:x-small}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .physicalExamSection[_ngcontent-%COMP%]   .redLabel[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}\"]],data:{}});function View_PhysicalExaminationsPage_1(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"div\",[[\"class\",\"testServer\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\" TEST SERVER CONNECTED \"]))],null,null)}function View_PhysicalExaminationsPage_3(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"ion-icon\",[[\"name\",\"arrow-forward\"],[\"slot\",\"end\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(1,49152,null,0,fesm5.D,[core.j,core.p,core.G],{name:[0,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"arrow-forward\")}),null)}function View_PhysicalExaminationsPage_4(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"ion-icon\",[[\"name\",\"arrow-down\"],[\"slot\",\"end\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(1,49152,null,0,fesm5.D,[core.j,core.p,core.G],{name:[0,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"arrow-down\")}),null)}function View_PhysicalExaminationsPage_5(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,13,\"ion-item\",[[\"lines\",\"none\"]],[[8,\"hidden\",0]],null,null,core_ngfactory.Db,core_ngfactory.w)),core.Cb(1,49152,null,0,fesm5.I,[core.j,core.p,core.G],{lines:[0,\"lines\"]},null),(_l()(),core.Db(2,0,null,0,11,\"div\",[[\"class\",\"findingsCheckBoxGroup\"]],null,null,null,null,null)),(_l()(),core.Db(3,0,null,null,7,\"ion-checkbox\",[[\"color\",\"medium\"],[\"slot\",\"start\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"click\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,4)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,4)._handleIonChange($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_v.context.$implicit.checked=$event)&&ad),\"click\"===en&&(ad=!1!==_co.onFindingCheckSelect(_v.parent.context.index,_v.context.index)&&ad),ad}),core_ngfactory.jb,core_ngfactory.h)),core.Cb(4,16384,null,0,fesm5.c,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.c]),core.Cb(6,671744,null,0,fesm2015_forms.q,[[2,fesm2015_forms.b],[8,null],[8,null],[6,fesm2015_forms.l]],{isDisabled:[0,\"isDisabled\"],model:[1,\"model\"],options:[2,\"options\"]},{update:\"ngModelChange\"}),core.Rb(7,{standalone:0}),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.q]),core.Cb(9,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(10,49152,null,0,fesm5.s,[core.j,core.p,core.G],{color:[0,\"color\"],disabled:[1,\"disabled\"]},null),(_l()(),core.Db(11,0,null,null,2,\"ion-label\",[[\"class\",\"textLabel\"]],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(12,49152,null,0,fesm5.O,[core.j,core.p,core.G],{color:[0,\"color\"]},null),(_l()(),core.Wb(13,0,[\"\",\"\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,\"none\");var currVal_9=_v.context.$implicit.disabled||!_co.examinationSave||!_co.peAllowEdit,currVal_10=_v.context.$implicit.checked,currVal_11=_ck(_v,7,0,!0);_ck(_v,6,0,currVal_9,currVal_10,currVal_11),_ck(_v,10,0,\"medium\",_v.context.$implicit.disabled||!_co.examinationSave||!_co.peAllowEdit),_ck(_v,12,0,_co.selectedFindings[_v.parent.context.index]&&(_co.selectedFindings[_v.parent.context.index].value.length<=0||0==_v.parent.context.index&&_co.selectedFindings[_v.parent.context.index].value.length>0&&2==_co.selectedFindings[_v.parent.context.index].value[0].id&&_co.selectedFindings[_v.parent.context.index].others.length<=0)?\"danger\":\"dark\")}),(function(_ck,_v){_ck(_v,0,0,\"others\"===_v.context.$implicit.id),_ck(_v,3,0,core.Pb(_v,9).ngClassUntouched,core.Pb(_v,9).ngClassTouched,core.Pb(_v,9).ngClassPristine,core.Pb(_v,9).ngClassDirty,core.Pb(_v,9).ngClassValid,core.Pb(_v,9).ngClassInvalid,core.Pb(_v,9).ngClassPending),_ck(_v,13,0,_v.context.$implicit.text)}))}function View_PhysicalExaminationsPage_7(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,2,\"ion-label\",[[\"class\",\"textLabel\"]],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(1,49152,null,0,fesm5.O,[core.j,core.p,core.G],null,null),(_l()(),core.Wb(-1,0,[\"Others\"]))],null,null)}function View_PhysicalExaminationsPage_6(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,10,\"div\",[[\"class\",\"findingsOthersGroup\"]],null,null,null,null,null)),(_l()(),core.sb(16777216,null,null,1,null,View_PhysicalExaminationsPage_7)),core.Cb(2,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(3,0,null,null,7,\"ion-textarea\",[[\"class\",\"mediumTextArea\"],[\"debounce\",\"750\"],[\"placeholder\",\"Enter your text here . . .\"],[\"rows\",\"5\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionChange\"],[null,\"ngModelChange\"],[null,\"ionBlur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,4)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,4)._handleInputEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==_co.onOthersChange(_v.parent.context.index)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_v.parent.context.$implicit.others=$event)&&ad),ad}),core_ngfactory.Zb,core_ngfactory.X)),core.Cb(4,16384,null,0,fesm5.Sb,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Sb]),core.Cb(6,671744,null,0,fesm2015_forms.q,[[2,fesm2015_forms.b],[8,null],[8,null],[6,fesm2015_forms.l]],{isDisabled:[0,\"isDisabled\"],model:[1,\"model\"],options:[2,\"options\"]},{update:\"ngModelChange\"}),core.Rb(7,{standalone:0}),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.q]),core.Cb(9,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(10,49152,null,0,fesm5.zb,[core.j,core.p,core.G],{debounce:[0,\"debounce\"],disabled:[1,\"disabled\"],placeholder:[2,\"placeholder\"],rows:[3,\"rows\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_v.parent.context.$implicit.hasOthersLabel);var currVal_8=_v.parent.context.$implicit.disabledOthers||!_co.examinationSave||!_co.peAllowEdit,currVal_9=_v.parent.context.$implicit.others,currVal_10=_ck(_v,7,0,!0);_ck(_v,6,0,currVal_8,currVal_9,currVal_10),_ck(_v,10,0,\"750\",_v.parent.context.$implicit.disabledOthers||!_co.examinationSave||!_co.peAllowEdit,\"Enter your text here . . .\",\"5\")}),(function(_ck,_v){_ck(_v,3,0,core.Pb(_v,9).ngClassUntouched,core.Pb(_v,9).ngClassTouched,core.Pb(_v,9).ngClassPristine,core.Pb(_v,9).ngClassDirty,core.Pb(_v,9).ngClassValid,core.Pb(_v,9).ngClassInvalid,core.Pb(_v,9).ngClassPending)}))}function View_PhysicalExaminationsPage_2(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,16,\"div\",[[\"class\",\"physicalExamSection\"]],null,null,null,null,null)),(_l()(),core.Db(1,0,null,null,8,\"ion-item\",[[\"button\",\"\"],[\"detail\",\"false\"],[\"lines\",\"none\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.onExpandFindings(_v.context.index)&&ad),ad}),core_ngfactory.Db,core_ngfactory.w)),core.Cb(2,49152,null,0,fesm5.I,[core.j,core.p,core.G],{button:[0,\"button\"],detail:[1,\"detail\"],lines:[2,\"lines\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_PhysicalExaminationsPage_3)),core.Cb(4,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_PhysicalExaminationsPage_4)),core.Cb(6,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(7,0,null,0,2,\"ion-label\",[[\"class\",\"redLabel\"]],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(8,49152,null,0,fesm5.O,[core.j,core.p,core.G],{color:[0,\"color\"]},null),(_l()(),core.Wb(9,0,[\"\",\"\"])),(_l()(),core.Db(10,0,null,null,6,\"div\",[],[[8,\"hidden\",0]],null,null,null,null)),(_l()(),core.Db(11,0,null,null,3,\"ion-list\",[[\"style\",\"margin: 0px !important\"]],null,null,null,core_ngfactory.Gb,core_ngfactory.D)),core.Cb(12,49152,null,0,fesm5.P,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_PhysicalExaminationsPage_5)),core.Cb(14,278528,null,0,common.k,[core.Y,core.U,core.y],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_PhysicalExaminationsPage_6)),core.Cb(16,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,\"\",\"false\",\"none\"),_ck(_v,4,0,!_v.context.$implicit.tabOpen),_ck(_v,6,0,_v.context.$implicit.tabOpen),_ck(_v,8,0,_co.selectedFindings[_v.context.index]&&(_co.selectedFindings[_v.context.index].value.length<=0||0==_v.context.index&&_co.selectedFindings[_v.context.index].value.length>0&&2==_co.selectedFindings[_v.context.index].value[0].id&&_co.selectedFindings[_v.context.index].others.length<=0)?\"danger\":\"dark\"),_ck(_v,14,0,_v.context.$implicit.value[0]),_ck(_v,16,0,_v.context.$implicit.hasRemarks)}),(function(_ck,_v){_ck(_v,9,0,_v.context.$implicit.key),_ck(_v,10,0,!_v.context.$implicit.tabOpen)}))}function View_PhysicalExaminationsPage_8(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.formErrorMessage)}))}function View_PhysicalExaminationsPage_9(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\"Some data are missing.\"]))],null,null)}function View_PhysicalExaminationsPage_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"app-headerbar\",[[\"title\",\"Physical Examinations\"]],null,null,null,headerbar_component_ngfactory.b,headerbar_component_ngfactory.a)),core.Cb(1,114688,null,0,headerbar_component.a,[router.m,cf4_api_service.a,patient_service.a,login_service.a,api_service.a,pdf_viewer_service.a,loading_service.a,string_utils_service.a,fesm5.Nb,in_app_browser_ngx.a,fesm5.Jb,fesm5.a],{titleToUse:[0,\"titleToUse\"]},null),(_l()(),core.Db(2,0,null,null,39,\"ion-content\",[],null,null,null,core_ngfactory.mb,core_ngfactory.k)),core.Cb(3,49152,null,0,fesm5.v,[core.j,core.p,core.G],null,null),(_l()(),core.Db(4,0,null,0,3,\"ion-refresher\",[[\"pullFactor\",\"0.5\"],[\"pullMax\",\"200\"],[\"pullMin\",\"100\"],[\"slot\",\"fixed\"]],null,[[null,\"ionRefresh\"]],(function(_v,en,$event){var ad=!0;return\"ionRefresh\"===en&&(ad=!1!==_v.component.doRefreshPhysicalExamination($event)&&ad),ad}),core_ngfactory.Nb,core_ngfactory.K)),core.Cb(5,49152,null,0,fesm5.eb,[core.j,core.p,core.G],{pullFactor:[0,\"pullFactor\"],pullMax:[1,\"pullMax\"],pullMin:[2,\"pullMin\"]},null),(_l()(),core.Db(6,0,null,0,1,\"ion-refresher-content\",[],null,null,null,core_ngfactory.Mb,core_ngfactory.L)),core.Cb(7,49152,null,0,fesm5.fb,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_PhysicalExaminationsPage_1)),core.Cb(9,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(10,0,null,0,31,\"div\",[[\"class\",\"wrapper\"],[\"style\",\"margin-top:0px\"]],null,null,null,null,null)),(_l()(),core.Db(11,0,null,null,8,\"ion-list\",[],null,null,null,core_ngfactory.Gb,core_ngfactory.D)),core.Cb(12,49152,null,0,fesm5.P,[core.j,core.p,core.G],null,null),(_l()(),core.Db(13,0,null,0,6,\"ion-list-header\",[[\"class\",\"underlined-header\"]],null,null,null,core_ngfactory.Fb,core_ngfactory.E)),core.Cb(14,49152,null,0,fesm5.Q,[core.j,core.p,core.G],null,null),(_l()(),core.Db(15,0,null,0,4,\"ion-label\",[],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(16,49152,null,0,fesm5.O,[core.j,core.p,core.G],null,null),(_l()(),core.Wb(-1,0,[\"Physical Examination List: \"])),(_l()(),core.Db(18,0,null,0,1,\"app-modified-b-toast\",[],null,null,null,modified_b_toast_component_ngfactory.b,modified_b_toast_component_ngfactory.a)),core.Cb(19,114688,null,0,modified_b_toast_component.a,[fesm5.Tb],{modifiedBy:[0,\"modifiedBy\"],modifiedDate:[1,\"modifiedDate\"]},null),(_l()(),core.Db(20,0,null,null,21,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"submit\"===en&&(ad=!1!==core.Pb(_v,22).onSubmit($event)&&ad),\"reset\"===en&&(ad=!1!==core.Pb(_v,22).onReset()&&ad),\"ngSubmit\"===en&&(ad=!1!==_co.onSaveFindings(core.Pb(_v,22))&&ad),ad}),null,null)),core.Cb(21,16384,null,0,fesm2015_forms.y,[],null,null),core.Cb(22,4210688,[[\"examinationFinding\",4]],0,fesm2015_forms.p,[[8,null],[8,null]],null,{ngSubmit:\"ngSubmit\"}),core.Tb(2048,null,fesm2015_forms.b,null,[fesm2015_forms.p]),core.Cb(24,16384,null,0,fesm2015_forms.o,[[4,fesm2015_forms.b]],null,null),(_l()(),core.sb(16777216,null,null,1,null,View_PhysicalExaminationsPage_2)),core.Cb(26,278528,null,0,common.k,[core.Y,core.U,core.y],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.Db(27,0,null,null,14,\"div\",[[\"class\",\"ion-padding\"]],null,null,null,null,null)),(_l()(),core.sb(16777216,null,null,1,null,View_PhysicalExaminationsPage_8)),core.Cb(29,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_PhysicalExaminationsPage_9)),core.Cb(31,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(32,0,null,null,4,\"ion-button\",[[\"expand\",\"block\"],[\"type\",\"submit\"]],[[8,\"hidden\",0]],null,null,core_ngfactory.fb,core_ngfactory.d)),core.Cb(33,49152,null,0,fesm5.l,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],expand:[1,\"expand\"],type:[2,\"type\"]},null),(_l()(),core.Db(34,0,null,0,1,\"ion-icon\",[[\"name\",\"paper-plane\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(35,49152,null,0,fesm5.D,[core.j,core.p,core.G],{name:[0,\"name\"]},null),(_l()(),core.Wb(-1,0,[\" Save\"])),(_l()(),core.Db(37,0,null,null,4,\"ion-button\",[[\"expand\",\"block\"],[\"type\",\"button\"]],[[8,\"hidden\",0]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"click\"===en&&(ad=0!=(_co.peAllowEdit=!_co.peAllowEdit)&&ad),ad}),core_ngfactory.fb,core_ngfactory.d)),core.Cb(38,49152,null,0,fesm5.l,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],expand:[1,\"expand\"],type:[2,\"type\"]},null),(_l()(),core.Db(39,0,null,0,1,\"ion-icon\",[[\"name\",\"create\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(40,49152,null,0,fesm5.D,[core.j,core.p,core.G],{name:[0,\"name\"]},null),(_l()(),core.Wb(-1,0,[\" Edit\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,\"Physical Examinations\"),_ck(_v,5,0,\"0.5\",\"200\",\"100\"),_ck(_v,9,0,_co.loginService.inTestServer),_ck(_v,19,0,_co.pe_modified.modified_by,_co.pe_modified.modified_dt),_ck(_v,26,0,_co.findings),_ck(_v,29,0,_co.formHasError),_ck(_v,31,0,_co.formHasError||_co.selectedFindings[0]&&(_co.selectedFindings[0].value.length<=0||_co.selectedFindings[0].value.length>0&&2==_co.selectedFindings[0].value[0].id&&_co.selectedFindings[0].others.length<=0)||_co.selectedFindings[1]&&_co.selectedFindings[1].value.length<=0||_co.selectedFindings[2]&&_co.selectedFindings[2].value.length<=0||_co.selectedFindings[3]&&_co.selectedFindings[3].value.length<=0||_co.selectedFindings[4]&&_co.selectedFindings[4].value.length<=0||_co.selectedFindings[5]&&_co.selectedFindings[5].value.length<=0||_co.selectedFindings[6]&&_co.selectedFindings[6].value.length<=0||_co.selectedFindings[7]&&_co.selectedFindings[7].value.length<=0||_co.selectedFindings[8]&&_co.selectedFindings[8].value.length<=0),_ck(_v,33,0,!_co.examinationSave||!_co.peAllowEdit||_co.formHasError||_co.selectedFindings[0]&&(_co.selectedFindings[0].value.length<=0||_co.selectedFindings[0].value.length>0&&2==_co.selectedFindings[0].value[0].id&&_co.selectedFindings[0].others.length<=0)||_co.selectedFindings[1]&&_co.selectedFindings[1].value.length<=0||_co.selectedFindings[2]&&_co.selectedFindings[2].value.length<=0||_co.selectedFindings[3]&&_co.selectedFindings[3].value.length<=0||_co.selectedFindings[4]&&_co.selectedFindings[4].value.length<=0||_co.selectedFindings[5]&&_co.selectedFindings[5].value.length<=0||_co.selectedFindings[6]&&_co.selectedFindings[6].value.length<=0||_co.selectedFindings[7]&&_co.selectedFindings[7].value.length<=0||_co.selectedFindings[8]&&_co.selectedFindings[8].value.length<=0,\"block\",\"submit\"),_ck(_v,35,0,\"paper-plane\"),_ck(_v,38,0,!_co.examinationSave,\"block\",\"button\"),_ck(_v,40,0,\"create\")}),(function(_ck,_v){var _co=_v.component;_ck(_v,20,0,core.Pb(_v,24).ngClassUntouched,core.Pb(_v,24).ngClassTouched,core.Pb(_v,24).ngClassPristine,core.Pb(_v,24).ngClassDirty,core.Pb(_v,24).ngClassValid,core.Pb(_v,24).ngClassInvalid,core.Pb(_v,24).ngClassPending),_ck(_v,32,0,!_co.peAllowEdit),_ck(_v,37,0,_co.peAllowEdit)}))}function View_PhysicalExaminationsPage_Host_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"app-physical-examinations\",[],null,null,null,View_PhysicalExaminationsPage_0,RenderType_PhysicalExaminationsPage)),core.Cb(1,114688,null,0,physical_examinations_page_PhysicalExaminationsPage,[physical_examinations_api_service_PhysicalExaminationsApiService,patient_service.a,api_service.a,login_service.a,loading_service.a,string_utils_service.a,permission_validator_service.a,fesm5.Ib,alert_service_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var PhysicalExaminationsPageNgFactory=core.zb(\"app-physical-examinations\",physical_examinations_page_PhysicalExaminationsPage,View_PhysicalExaminationsPage_Host_0,{},{},[]),file_transfer_ngx=__webpack_require__(\"gRf5\"),file_opener_ngx=__webpack_require__(\"wMzM\"),file_ngx=__webpack_require__(\"t8sF\"),document_viewer_ngx=__webpack_require__(\"/nUa\"),components_module=__webpack_require__(\"j1ZV\");__webpack_require__.d(__webpack_exports__,\"PhysicalExaminationsPageModuleNgFactory\",(function(){return PhysicalExaminationsPageModuleNgFactory}));var PhysicalExaminationsPageModuleNgFactory=core.Ab(PhysicalExaminationsPageModule,[],(function(_l){return core.Mb([core.Nb(512,core.m,core.lb,[[8,[router_ngfactory.a,nurse_note_component_ngfactory.a,PhysicalExaminationsPageNgFactory]],[3,core.m],core.E]),core.Nb(4608,common.n,common.m,[core.A,[2,common.C]]),core.Nb(4608,fesm2015_forms.w,fesm2015_forms.w,[]),core.Nb(4608,fesm5.b,fesm5.b,[core.G,core.g]),core.Nb(4608,fesm5.Jb,fesm5.Jb,[fesm5.b,core.m,core.w]),core.Nb(4608,fesm5.Ob,fesm5.Ob,[fesm5.b,core.m,core.w]),core.Nb(4608,http.j,http.p,[common.d,core.J,http.n]),core.Nb(4608,http.q,http.q,[http.j,http.o]),core.Nb(5120,http.a,(function(p0_0){return[p0_0]}),[http.q]),core.Nb(4608,http.m,http.m,[]),core.Nb(6144,http.k,null,[http.m]),core.Nb(4608,http.i,http.i,[http.k]),core.Nb(6144,http.b,null,[http.i]),core.Nb(4608,http.f,http.l,[http.b,core.w]),core.Nb(4608,http.c,http.c,[http.f]),core.Nb(4608,file_transfer_ngx.a,file_transfer_ngx.a,[]),core.Nb(4608,file_opener_ngx.a,file_opener_ngx.a,[]),core.Nb(4608,file_ngx.a,file_ngx.a,[]),core.Nb(4608,pdf_viewer_service.a,pdf_viewer_service.a,[file_opener_ngx.a,file_transfer_ngx.a,file_ngx.a,document_viewer_ngx.a,loading_service.a]),core.Nb(4608,fesm2015_forms.d,fesm2015_forms.d,[]),core.Nb(1073742336,common.c,common.c,[]),core.Nb(1073742336,fesm2015_forms.v,fesm2015_forms.v,[]),core.Nb(1073742336,fesm2015_forms.i,fesm2015_forms.i,[]),core.Nb(1073742336,fesm5.Fb,fesm5.Fb,[]),core.Nb(1073742336,router.q,router.q,[[2,router.v],[2,router.m]]),core.Nb(1073742336,http.e,http.e,[]),core.Nb(1073742336,http.d,http.d,[]),core.Nb(1073742336,components_module.a,components_module.a,[]),core.Nb(1073742336,fesm2015_forms.s,fesm2015_forms.s,[]),core.Nb(1073742336,PhysicalExaminationsPageModule,PhysicalExaminationsPageModule,[]),core.Nb(256,http.n,\"XSRF-TOKEN\",[]),core.Nb(256,http.o,\"X-XSRF-TOKEN\",[]),core.Nb(1024,router.k,(function(){return[[{path:\"\",component:physical_examinations_page_PhysicalExaminationsPage}]]}),[])])}))},VM0z:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AlertServiceService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"ZZ/e\"),src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"Hfim\"),src_app_pages_prompt_modal_c_prompt_modal_c_page__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"ucGT\"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"8Y7J\");let AlertServiceService=(()=>{class AlertServiceService{constructor(toastCtrl,modalController,alertController){this.toastCtrl=toastCtrl,this.modalController=modalController,this.alertController=alertController}alertToast(message){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){console.log(\"AlertToast Message:\",message);const toast=yield this.toastCtrl.create({message:message,duration:8e3});toast.onclick=ev=>{toast.dismiss()},toast.present()}))}openAlertModalValidation(alert,title,message,messageArray,ok=\"Done\",okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-array-css\",componentProps:{alert:alert,title:title,message:message,messageArray:messageArray,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}openSearchModal(options=[],value=\"\",placeholder=\"Enter here...\",maxLength=null,okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_c_prompt_modal_c_page__WEBPACK_IMPORTED_MODULE_3__.a,cssClass:\"my-custom-modal-css\",componentProps:{searchData:{isForSearch:!0,libs:options,searchQuery:value,maxLength:maxLength,placeholder:placeholder}}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}openPromptModal(title,message,ok=\"Save\",okCallBack=(result=>{}),cancel=\"Cancel\",cancelCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-css\",componentProps:{prompt:prompt,title:title,message:message,cancel:cancel,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result),cancelCallBack(result)}),yield modal.present()}))}openAlertModal(alert,title,message,ok=\"Done\",okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-css\",componentProps:{alert:alert,title:title,message:message,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}prompNAlert(header=\"\",subHeader=\"\",message=\"\",inputs=[],buttons=[],backdropDismiss=!0,keyboardClose=!0){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:header,subHeader:subHeader,message:message,backdropDismiss:backdropDismiss,keyboardClose:keyboardClose,inputs:inputs,buttons:buttons}).then(alert=>{this.nativeAlert.present()})}))}prompInputNAlert(header=\"\",subHeader=\"\",message=\"\",backdropDismiss=!0,keyboardClose=!0,inputs=[],buttons=[],callBackOk=(()=>{}),callBackNo=(()=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){0==buttons.length&&(buttons=[{text:\"OK\",handler:data=>{callBackOk()}},{text:\"Cancel\",handler:data=>{callBackNo()}}]),this.nativeAlert=this.alertController.create({header:\"\",subHeader:\"\",backdropDismiss:backdropDismiss,keyboardClose:keyboardClose,message:\"\",inputs:inputs,buttons:buttons}).then(alert=>{this.nativeAlert.present()})}))}}return AlertServiceService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_4__.bc({factory:function(){return new AlertServiceService(_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Tb),_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Jb),_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.a))},token:AlertServiceService,providedIn:\"root\"}),AlertServiceService})()},\"dz+s\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ModifiedBToastComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\");__webpack_require__(\"ZZ/e\");class ModifiedBToastComponent{constructor(toastCtrl){this.toastCtrl=toastCtrl}ngOnInit(){}onClick(){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const toast=yield this.toastCtrl.create({message:this.modifiedBy,duration:5e3});toast.onclick=ev=>{toast.dismiss()},toast.present()}))}}},h7h0:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var core=__webpack_require__(\"8Y7J\"),core_ngfactory=__webpack_require__(\"oBZk\"),fesm5=__webpack_require__(\"ZZ/e\");__webpack_require__(\"dz+s\"),__webpack_require__.d(__webpack_exports__,\"a\",(function(){return RenderType_ModifiedBToastComponent})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return View_ModifiedBToastComponent_0}));var RenderType_ModifiedBToastComponent=core.Bb({encapsulation:0,styles:[[\"button[_ngcontent-%COMP%]{background:0 0;padding:0;margin:0}button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:25px;font-size:25px}\"]],data:{}});function View_ModifiedBToastComponent_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"ion-icon\",[[\"color\",\"primary\"],[\"name\",\"information-circle-outline\"]],[[8,\"hidden\",0]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.onClick()&&ad),ad}),core_ngfactory.ub,core_ngfactory.s)),core.Cb(1,49152,null,0,fesm5.D,[core.j,core.p,core.G],{color:[0,\"color\"],name:[1,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"primary\",\"information-circle-outline\")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,!(null!=_co.modifiedDate&&\"\"!=_co.modifiedDate||null!=_co.modifiedBy&&\"\"!=_co.modifiedBy))}))}}}]);","extractedComments":[]}