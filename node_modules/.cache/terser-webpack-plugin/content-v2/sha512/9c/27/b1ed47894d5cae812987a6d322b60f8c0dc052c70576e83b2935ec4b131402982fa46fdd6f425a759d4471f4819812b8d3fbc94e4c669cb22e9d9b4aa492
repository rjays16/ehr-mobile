{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{LDXv:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var core=__webpack_require__(\"8Y7J\");let array_comparator_service_ArrayComparatorService=(()=>{class ArrayComparatorService{constructor(){}compare(arr1,arr2){const objMap={};return arr1.forEach(e1=>arr2.forEach(e2=>{e1.id===e2.id&&(objMap[e1.id]=objMap[e1.id]+1||1)})),Object.keys(objMap)}}return ArrayComparatorService.ngInjectableDef=core.bc({factory:function(){return new ArrayComparatorService},token:ArrayComparatorService,providedIn:\"root\"}),ArrayComparatorService})();__webpack_require__.d(__webpack_exports__,\"a\",(function(){return permission_validator_service_PermissionValidatorService}));let permission_validator_service_PermissionValidatorService=(()=>{class PermissionValidatorService{constructor(arrayComparatorService){this.arrayComparatorService=arrayComparatorService,this.throwsErrorCode=5011,this.perms={allPermission:\"_a_0_all\",manageEhr:\"_a_1_ehr_sudomanage\",viewAllDept:\"_a_2_ehr_view_all_dept\",viewOwnDept:\"_a_3_ehr_view_own_dept\",editAllDept:\"_a_2_ehr_edit_all_dept\",editOwnDept:\"_a_3_ehr_edit_own_dept\",overideInct:\"_a_2_ehr_override_my_patient\",overideInctSoap:\"_a_3_ehr_soap\",overideInctSoapDiag:\"_a_2_ehr_override_final_dx\",overideInctSoapDiag2:\"_a_4_ehr_override_final_dx\",overideInctPastMed:\"_a_3_ehr_past_medical_history\",overideInctPsigns:\"_a_3_ehr_pertinent_signs_and_symptoms\",overideInctHciRef:\"_a_3_ehr_referred_hci\",overideInctPhysExam:\"_a_3_ehr_physical_examination\",overideInctMedicat:\"_a_3_ehr_medication\",overideInctPlanMan:\"_a_3_ehr_plan_management\",overideInctEndCare:\"_a_3_ehr_end_of_care\"},this.portlets={soap:\"soap\",soapDiag:\"soapDiag\",pastMed:\"pastMed\",pSigns:\"pSings\",refHci:\"refHci\",physExam:\"physExam\",medict:\"medict\",planMan:\"planMan\",endCare:\"endCare\"}}setAuthentication(authentication){this.authentication=authentication}setSelectedPatient(selectedPatient){this.selectedPatient=selectedPatient}validateRole(validate,withIsDischarge=!0,soapPerm=!1){this.permissions=this.authentication.user.permissions,this.roleName=this.authentication.user.role.role_name,console.log(\"user roleName: \",this.roleName);const roleNames=validate.role_name,otherPermissions=validate[\"other-permissions\"];let result_perm=!1;if(this.authentication.user.permissions.map(perm=>{\"all\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id:\"sudomanage\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id:\"view_all_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_view_all_dept\"===perm.permission_id:\"view_own_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_view_all_dept\"===perm.permission_id||\"_a_3_ehr_view_own_dept\"===perm.permission_id:\"edit_all_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_edit_all_dept\"===perm.permission_id:\"edit_own_dept\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_edit_all_dept\"===perm.permission_id||\"_a_3_ehr_edit_own_dept\"===perm.permission_id:\"override_my_patient\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id:\"soap\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_soap\"===perm.permission_id:\"override_final_dx\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_4_ehr_override_final_dx\"===perm.permission_id||\"_a_3_ehr_soap\"===perm.permission_id:\"past_medical_history\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_past_medical_history\"===perm.permission_id:\"pertinent_signs_and_symptoms\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_pertinent_signs_and_symptoms\"===perm.permission_id:\"referred_hci\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_referred_hci\"===perm.permission_id:\"physical_examination\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_physical_examination\"===perm.permission_id:\"medication\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_medication\"===perm.permission_id:\"plan_managem\"===validate[0]?result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_plan_management\"===perm.permission_id:\"end_of_care\"===validate[0]&&(result_perm=\"_a_0_all\"===perm.permission_id||\"_a_1_ehr_sudomanage\"===perm.permission_id||\"_a_2_ehr_override_my_patient\"===perm.permission_id||\"_a_3_ehr_end_of_care\"===perm.permission_id)}),soapPerm)return result_perm;console.log(\"roleNames: \",roleNames);let validRole=!0;if(Array.isArray(roleNames)&&roleNames.length>0){const index=roleNames.findIndex(element=>(console.log(\"element: \",element,\" this.roleName: \",this.roleName),-1!=this.roleName.toUpperCase().indexOf(element.toUpperCase())));console.log(\"index: \",index),validRole=index>=0}console.log(\"validRole: \",validRole);let validOtherPermission=!1;return Array.isArray(otherPermissions)&&otherPermissions.length>0&&(validOtherPermission=this.arrayComparatorService.compare(otherPermissions,this.permissions).length>0),console.log(\"validOtherPermission: \",validOtherPermission),!withIsDischarge||(console.log(\"selectedPatient: \",this.selectedPatient),!this.selectedPatient||1!=this.selectedPatient.is_discharged)||(console.log(\"is_discharged\"),validOtherPermission)}hasAllPermission(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.allPermission)}hasManageEhr(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.manageEhr)}hasEdit(){return!!this.authentication.user.permissions.some(p=>p.permission_id==this.perms.editAllDept)||this.authentication.user.permissions.some(p=>p.permission_id==this.perms.editOwnDept)&&this.selectedPatient.isInMyDept}hasView(){return!!this.authentication.user.permissions.some(p=>p.permission_id==this.perms.viewAllDept)||this.authentication.user.permissions.some(p=>p.permission_id==this.perms.viewOwnDept)&&this.selectedPatient.isInMyDept}hasHigherPermission(){return this.hasAllPermission()||this.hasManageEhr()}hasOverInct(){return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInct)}hasDischPerm(type){if(!this.hasView()&&!this.hasEdit())return!1;if(this.hasOverInct())return!0;switch(type){case this.portlets.soap:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctSoap);case this.portlets.soapDiag:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctSoapDiag||p.permission_id==this.perms.overideInctSoapDiag2);case this.portlets.pastMed:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPastMed);case this.portlets.pSigns:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPsigns);case this.portlets.refHci:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctHciRef);case this.portlets.physExam:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPhysExam);case this.portlets.medict:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctMedicat);case this.portlets.planMan:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctPlanMan);case this.portlets.endCare:return this.authentication.user.permissions.some(p=>p.permission_id==this.perms.overideInctEndCare)}return!1}isDischarged(){return!!this.selectedPatient&&1==this.selectedPatient.is_discharged}hasSoapEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soap):this.hasEdit())}hasSoapDiagEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.soapDiag):this.hasEdit())}hasSoapView(){return!!(this.hasSoapEdit()||this.hasView()||this.hasEdit())}hasPastMedEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pastMed):this.hasEdit())}hasPastView(){return!!(this.hasPastMedEdit()||this.hasView()||this.hasEdit())}hasPSignsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.pSigns):this.hasEdit())}hasPSingsView(){return!!(this.hasPSignsEdit()||this.hasView()||this.hasEdit())}hasVitalSignsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasRefHciEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.refHci):this.hasEdit())}hasRefHciView(){return!!(this.hasRefHciEdit()||this.hasView()||this.hasEdit())}hasPhysExamEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.physExam):this.hasEdit())}hasPhysExamView(){return!!(this.hasPhysExamEdit()||this.hasView()||this.hasEdit())}hasResultView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasDrugsMedsEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.medict):this.hasEdit())}hasDrugsMedsView(){return!!(this.hasDrugsMedsEdit()||this.hasView()||this.hasEdit())}hasEncHistView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasReferalsView(){return!!this.hasHigherPermission()||!!(this.hasView()||this.hasEdit()||this.hasEdit())}hasEndCareEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.endCare):this.hasEdit())}hasEndCareView(){return!!(this.hasEndCareEdit()||this.hasView()||this.hasEdit())}hasPlanManEdit(){return!!this.hasHigherPermission()||(this.isDischarged()?this.hasDischPerm(this.portlets.planMan):this.hasEdit())}hasPlanManView(){return!!(this.hasPlanManEdit()||this.hasView()||this.hasEdit())}}return PermissionValidatorService.ngInjectableDef=core.bc({factory:function(){return new PermissionValidatorService(core.cc(array_comparator_service_ArrayComparatorService))},token:PermissionValidatorService,providedIn:\"root\"}),PermissionValidatorService})()},VM0z:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AlertServiceService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"ZZ/e\"),src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"Hfim\"),src_app_pages_prompt_modal_c_prompt_modal_c_page__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"ucGT\"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"8Y7J\");let AlertServiceService=(()=>{class AlertServiceService{constructor(toastCtrl,modalController,alertController){this.toastCtrl=toastCtrl,this.modalController=modalController,this.alertController=alertController}alertToast(message){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){console.log(\"AlertToast Message:\",message);const toast=yield this.toastCtrl.create({message:message,duration:8e3});toast.onclick=ev=>{toast.dismiss()},toast.present()}))}openAlertModalValidation(alert,title,message,messageArray,ok=\"Done\",okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-array-css\",componentProps:{alert:alert,title:title,message:message,messageArray:messageArray,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}openSearchModal(options=[],value=\"\",placeholder=\"Enter here...\",maxLength=null,okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_c_prompt_modal_c_page__WEBPACK_IMPORTED_MODULE_3__.a,cssClass:\"my-custom-modal-css\",componentProps:{searchData:{isForSearch:!0,libs:options,searchQuery:value,maxLength:maxLength,placeholder:placeholder}}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}openPromptModal(title,message,ok=\"Save\",okCallBack=(result=>{}),cancel=\"Cancel\",cancelCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-css\",componentProps:{prompt:prompt,title:title,message:message,cancel:cancel,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result),cancelCallBack(result)}),yield modal.present()}))}openAlertModal(alert,title,message,ok=\"Done\",okCallBack=(result=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const modal=yield this.modalController.create({component:src_app_pages_prompt_modal_prompt_modal_page__WEBPACK_IMPORTED_MODULE_2__.a,cssClass:\"my-custom-modal-css\",componentProps:{alert:alert,title:title,message:message,ok:ok}});return modal.onDidDismiss().then(result=>{okCallBack(result)}),yield modal.present()}))}prompNAlert(header=\"\",subHeader=\"\",message=\"\",inputs=[],buttons=[],backdropDismiss=!0,keyboardClose=!0){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){this.nativeAlert=this.alertController.create({header:header,subHeader:subHeader,message:message,backdropDismiss:backdropDismiss,keyboardClose:keyboardClose,inputs:inputs,buttons:buttons}).then(alert=>{this.nativeAlert.present()})}))}prompInputNAlert(header=\"\",subHeader=\"\",message=\"\",backdropDismiss=!0,keyboardClose=!0,inputs=[],buttons=[],callBackOk=(()=>{}),callBackNo=(()=>{})){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){0==buttons.length&&(buttons=[{text:\"OK\",handler:data=>{callBackOk()}},{text:\"Cancel\",handler:data=>{callBackNo()}}]),this.nativeAlert=this.alertController.create({header:\"\",subHeader:\"\",backdropDismiss:backdropDismiss,keyboardClose:keyboardClose,message:\"\",inputs:inputs,buttons:buttons}).then(alert=>{this.nativeAlert.present()})}))}}return AlertServiceService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_4__.bc({factory:function(){return new AlertServiceService(_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Tb),_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Jb),_angular_core__WEBPACK_IMPORTED_MODULE_4__.cc(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.a))},token:AlertServiceService,providedIn:\"root\"}),AlertServiceService})()},\"dz+s\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ModifiedBToastComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\");__webpack_require__(\"ZZ/e\");class ModifiedBToastComponent{constructor(toastCtrl){this.toastCtrl=toastCtrl}ngOnInit(){}onClick(){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){const toast=yield this.toastCtrl.create({message:this.modifiedBy,duration:5e3});toast.onclick=ev=>{toast.dismiss()},toast.present()}))}}},h7h0:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var core=__webpack_require__(\"8Y7J\"),core_ngfactory=__webpack_require__(\"oBZk\"),fesm5=__webpack_require__(\"ZZ/e\");__webpack_require__(\"dz+s\"),__webpack_require__.d(__webpack_exports__,\"a\",(function(){return RenderType_ModifiedBToastComponent})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return View_ModifiedBToastComponent_0}));var RenderType_ModifiedBToastComponent=core.Bb({encapsulation:0,styles:[[\"button[_ngcontent-%COMP%]{background:0 0;padding:0;margin:0}button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:25px;font-size:25px}\"]],data:{}});function View_ModifiedBToastComponent_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"ion-icon\",[[\"color\",\"primary\"],[\"name\",\"information-circle-outline\"]],[[8,\"hidden\",0]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.onClick()&&ad),ad}),core_ngfactory.ub,core_ngfactory.s)),core.Cb(1,49152,null,0,fesm5.D,[core.j,core.p,core.G],{color:[0,\"color\"],name:[1,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"primary\",\"information-circle-outline\")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,!(null!=_co.modifiedDate&&\"\"!=_co.modifiedDate||null!=_co.modifiedBy&&\"\"!=_co.modifiedBy))}))}},vz1Q:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),timeout=__webpack_require__(\"tS1D\"),map=__webpack_require__(\"lJxs\"),catchError=__webpack_require__(\"JIr8\"),from=__webpack_require__(\"Cfvw\"),throwError=__webpack_require__(\"z6cu\"),http=__webpack_require__(\"IheW\"),fesm5=__webpack_require__(\"ZZ/e\"),ngx=__webpack_require__(\"yp2w\");let end_of_care_api_service_EndOfCareApiService=(()=>{class EndOfCareApiService{constructor(platform,httpClient,http){this.platform=platform,this.httpClient=httpClient,this.http=http,this.url=\"http://localhost:3000\",this.getEndOfCarelPath=\"/api/doctor/patient/endcare/getdata\",this.saveEndOfCarePath=\"/api/doctor/patient/endcare/action\"}setUrl(url){this.url=url}setToken(token){this.token=token}saveEndOfCare(endOfCare){const encounter_no=endOfCare.encounter_no;if(this.platform.is(\"ios\")||this.platform.is(\"android\")){console.log(\"native\");const body={treatment:endOfCare.treatment,reason:endOfCare.reason,doc_advice:endOfCare.doc_advice},headers={Accept:\"application/json\",Authorization:\"Bearer \"+this.token};return this.http.setDataSerializer(\"json\"),Object(from.a)(this.http.post(this.url+this.saveEndOfCarePath+\"?id=\"+encounter_no,body,headers)).pipe(Object(timeout.a)(3e4),Object(map.a)(response=>{const endOfCareResponse=JSON.parse(response.data);return console.log(\"End of Care: \",endOfCareResponse),endOfCareResponse}),Object(catchError.a)((err,caught)=>{if(\"string\"==typeof err.error)try{err.error=JSON.parse(err.error)}catch(e){}return console.log(\"End of Care error: \",err,caught),Object(throwError.a)(err)}))}{const body=new FormData;body.append(\"treatment\",endOfCare.treatment),body.append(\"reason\",endOfCare.reason),body.append(\"doc_advice\",endOfCare.doc_advice);const httpOptions={params:(new http.h).set(\"id\",encounter_no),headers:new http.g({Accept:\"application/json\",Authorization:\"Bearer \"+this.token})};return this.httpClient.post(this.url+this.saveEndOfCarePath,body,httpOptions).pipe(Object(timeout.a)(3e4),Object(map.a)(results=>(console.log(results),results)),Object(catchError.a)((err,caught)=>(console.log(caught),console.error(err),Object(throwError.a)(err))))}}getEndOfCare(encounter_no){if(this.platform.is(\"ios\")||this.platform.is(\"android\")){console.log(\"native\");const params={id:encounter_no},headers={Accept:\"application/json\",Authorization:\"Bearer \"+this.token};return Object(from.a)(this.http.get(this.url+this.getEndOfCarelPath,params,headers)).pipe(Object(timeout.a)(3e4),Object(map.a)(response=>{const endOfCareResponse=JSON.parse(response.data);return console.log(\"End of Care: \",endOfCareResponse),endOfCareResponse}),Object(catchError.a)((err,caught)=>{if(\"string\"==typeof err.error)try{err.error=JSON.parse(err.error)}catch(e){}return console.log(\"End of Care error: \",err,caught),Object(throwError.a)(err)}))}{console.log(\"browser\");const httpOptions={params:(new http.h).set(\"id\",encounter_no),headers:new http.g({Accept:\"application/json\",Authorization:\"Bearer \"+this.token})};return console.log(\"httpOptions\",httpOptions),this.httpClient.get(this.url+this.getEndOfCarelPath,httpOptions).pipe(Object(timeout.a)(3e4),Object(map.a)(results=>(console.log(results),results)),Object(catchError.a)((err,caught)=>(console.log(caught),console.error(err),Object(throwError.a)(err))))}}}return EndOfCareApiService.ngInjectableDef=core.bc({factory:function(){return new EndOfCareApiService(core.cc(fesm5.Nb),core.cc(http.c),core.cc(ngx.a))},token:EndOfCareApiService,providedIn:\"root\"}),EndOfCareApiService})();var patient_service=__webpack_require__(\"7wfR\"),loading_service=__webpack_require__(\"7ch9\"),api_service=__webpack_require__(\"H+bZ\"),login_service=__webpack_require__(\"EFyh\"),string_utils_service=__webpack_require__(\"Pasx\"),permission_validator_service=__webpack_require__(\"LDXv\"),alert_service_service=__webpack_require__(\"VM0z\"),fesm2015_forms=__webpack_require__(\"s7LF\");class end_of_care_page_EndOfCarePage{constructor(endOfCareApiService,patientService,apiService,loginService,loadingService,stringUtilsService,permissionValidatorService,alertServ,formBuilder,menuController){this.endOfCareApiService=endOfCareApiService,this.patientService=patientService,this.apiService=apiService,this.loginService=loginService,this.loadingService=loadingService,this.stringUtilsService=stringUtilsService,this.permissionValidatorService=permissionValidatorService,this.alertServ=alertServ,this.formBuilder=formBuilder,this.menuController=menuController,this.reason=\"\",this.doctors_advice=\"\",this.pEndOfCareSave=!0,this.outcomeList=[],this.endCareAllowEdit=!0,this.endCaremodified={modified_by:null,modified_dt:null},this.SAVE_END_OF_CARE=1,this.currentUser=this.loginService.getAuthentication().user,this.endOfCareApiService.setToken(this.loginService.getAuthentication().token),this.endOfCareApiService.setUrl(this.apiService.getUrl()),this.patientService.getSelectedPatientBriefInformation(),this.selectedEncounterNo=this.patientService.getSelectedEncounterNo(),this.endCareConfig=this.loginService.getConfigAndDefaults().endcare;const outcome=this.endCareConfig[\"m-patient-endofcare\"][\"default-options\"].outcome;Object.keys(outcome).forEach(key=>{this.outcomeList.push({id:key,name:outcome[key]})}),console.log(\"this.outcomeList: \",this.outcomeList)}initUserInterfaceByRole(){this.pEndOfCareSave=this.permissionValidatorService.hasEndCareEdit()}resetForm(){this.endCareAllowEdit=!0,this.endCaremodified={modified_by:null,modified_dt:null}}initEndOfCare(){return new Promise((resolve,reject)=>{this.loadingService.present(),this.endOfCareApiService.getEndOfCare(this.selectedEncounterNo).subscribe(result=>{console.log(\"result: \",result),this.loadingService.dismiss().then(_=>{if(this.resetForm(),result.model&&result.model.id){this.doctors_advice=result.model.doc_advice?result.model.doc_advice:\"\";const treatment=this.outcomeList.find(item=>item.id===result.model.treatment||\"string\"==typeof result.model.treatment&&item.id===Number(result.model.treatment)||item.name===result.model.treatment.toLocaleLowerCase()||item.name===result.model.treatment.toLocaleUpperCase());treatment&&(this.outcome_treatment=treatment.id),this.reason=result.model.reason?result.model.reason:\"\",this.endCaremodified.modified_by=result.data.encoded,this.endCaremodified.modified_dt=result.data.encoded_dt,this.endCareAllowEdit=!this.reason}this.initFormRules(),resolve(result)})},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{const message=this.stringUtilsService.parseErrorMessage(err);this.alertServ.openAlertModal(\"fail\",\"Failed\",message,\"Ok\"),reject(err)})})})}getFormRules(){var rules={doctors_advice:[\"\",fesm2015_forms.u.compose([fesm2015_forms.u.required,fesm2015_forms.u.maxLength(2e3)])],outcome_treatment:[\"\",fesm2015_forms.u.compose([fesm2015_forms.u.required])]};return 5==this.outcome_treatment&&(rules.reason=[\"\",fesm2015_forms.u.compose([fesm2015_forms.u.required,fesm2015_forms.u.maxLength(2e3)])]),console.error(\"form rules\",rules),rules}initFormRules(){this.form=this.formBuilder.group(this.getFormRules()),this.form.get(\"outcome_treatment\").valueChanges.subscribe(ok=>{console.error(\"outcome_treatment changes\",ok),this.outcome_treatment=this.form.get(\"outcome_treatment\").value,\"5\"==ok||5==ok?this.form.addControl(\"reason\",new fesm2015_forms.e(\"\",fesm2015_forms.u.compose([fesm2015_forms.u.required,fesm2015_forms.u.maxLength(2e3)]))):this.form.removeControl(\"reason\")}),this.form.get(\"doctors_advice\").setValue(this.doctors_advice),this.form.get(\"outcome_treatment\").setValue(this.outcome_treatment),this.form.get(\"reason\")&&this.form.get(\"reason\").setValue(this.reason),console.error(\"this.form\",this.form)}ngOnInit(){this.menuController.swipeGesture(!0,\"mainMenu\"),this.menuController.swipeGesture(!0,\"accountMenu\"),this.initUserInterfaceByRole(),this.initEndOfCare(),this.initFormRules()}ionViewWillEnter(){console.log(\"ionViewWillEnter\");const tempSelectedEncounterNo=this.patientService.getSelectedEncounterNo();this.selectedEncounterNo!==tempSelectedEncounterNo&&(console.log(\"selected patient changed\"),this.selectedEncounterNo=tempSelectedEncounterNo,this.initUserInterfaceByRole(),this.initEndOfCare()),window.addEventListener(\"native.keyboardshow\",this.keyboardShowHandler),window.addEventListener(\"native.keyboardhide\",this.keyboardHideHandler)}ionViewWillLeave(){console.log(\"ionViewWillLeave\"),window.removeEventListener(\"native.keyboardshow\",this.keyboardShowHandler),window.removeEventListener(\"native.keyboardhide\",this.keyboardHideHandler),this.removeIonAppStyles()}saveEndOfCare(){this.openPromptModal(this.SAVE_END_OF_CARE,{},\"End of Care\",\"Would you like to save your changes?\")}saveEndOfCareFunction(){console.log(this.reason),console.log(this.doctors_advice);const endOfCare={encounter_no:this.selectedEncounterNo,reason:this.form.get(\"reason\")?this.form.get(\"reason\").value:\"\",doc_advice:this.form.get(\"doctors_advice\").value,treatment:this.form.get(\"outcome_treatment\").value};console.log(\"endOfCare: \",endOfCare),this.loadingService.present(),this.endOfCareApiService.saveEndOfCare(endOfCare).subscribe(result=>{console.log(\"result: \",result),this.loadingService.dismiss().then(_=>{result&&result.code&&200===result.code?(this.endCaremodified.modified_by=result.data.encoded,this.endCaremodified.modified_dt=result.data.encoded_dt,this.endCareAllowEdit=!1,this.alertServ.openAlertModal(\"success\",\"Success\",result.message)):303===result.code?(console.log(result),this.openAlertModalValidation(\"fail\",\"Missing Required Fields!\",result.message,result.mandatories,\"Ok\")):this.alertServ.openAlertModal(\"fail\",\"Failed\",result.message,\"Ok\")})},err=>{console.log(\"err \",err),this.loadingService.dismiss().then(_=>{const message=this.stringUtilsService.parseErrorMessage(err),messageArray=this.stringUtilsService.parseErrorArrayMessage(err);this.openAlertModalValidation(\"fail\",\"Missing Required Fields!\",message,messageArray,\"Ok\")})})}outcomeTreatmentChange(event){}doRefreshEndOfCare(event){this.initEndOfCare().then(_=>{event.target.complete()}).catch(_=>{event.target.complete()})}openPromptModal(option,data,title,message,ok=\"Save\",cancel=\"Cancel\"){this.alertServ.openPromptModal(title,message,ok,result=>{null!==result&&(console.log(\"result.data: \",result.data),result.data&&\"Save\"===result.data.button&&option===this.SAVE_END_OF_CARE&&this.saveEndOfCareFunction())})}openAlertModalValidation(alert,title,message,messageArray,ok=\"Done\"){this.alertServ.openAlertModalValidation(alert,title,message,messageArray,ok,result=>{null!==result&&console.log(\"result.data: \",result.data)})}tapCoordinates(e){this.y=e.touches[0].clientY,this.h=window.innerHeight,this.offsetY=this.h-this.y,console.log(\"offset: \",this.offsetY)}keyboardShowHandler(e){const kH=e.keyboardHeight;console.log(\"show: \",e.keyboardHeight);const bodyMoveStyle=document.querySelector(\"ion-app\").style;bodyMoveStyle.bottom=kH+\"px\",console.log(bodyMoveStyle.bottom)}keyboardHideHandler(){console.log(\"gone\"),document.querySelector(\"ion-app\").removeAttribute(\"style\")}removeIonAppStyles(){document.querySelector(\"ion-app\").removeAttribute(\"style\")}}class EndOfCarePageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),nurse_note_component_ngfactory=__webpack_require__(\"Jt+7\"),core_ngfactory=__webpack_require__(\"oBZk\"),common=__webpack_require__(\"SVse\"),headerbar_component_ngfactory=__webpack_require__(\"ChBM\"),headerbar_component=__webpack_require__(\"RRim\"),router=__webpack_require__(\"iInd\"),cf4_api_service=__webpack_require__(\"gly3\"),pdf_viewer_service=__webpack_require__(\"Fzct\"),in_app_browser_ngx=__webpack_require__(\"9B/o\"),modified_b_toast_component_ngfactory=__webpack_require__(\"h7h0\"),modified_b_toast_component=__webpack_require__(\"dz+s\"),RenderType_EndOfCarePage=core.Bb({encapsulation:0,styles:[[\"ion-refresher[_ngcontent-%COMP%]{z-index:1}ion-refresher-content[_ngcontent-%COMP%]{background-color:transparent}ion-content[_ngcontent-%COMP%]{background:#f9f9f9;--ion-background-color:#f9f9f9}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:20px;width:100%;margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]{margin-bottom:2vh}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{background:#fff;width:100%;border:none;margin-top:10px;padding:10px;border-radius:10px}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]   .textLabel[_ngcontent-%COMP%]{padding-left:0!important;font-size:medium}ion-content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:48px}ion-radio[_ngcontent-%COMP%]{--color-checked:#9f9f9f;margin-right:10px!important;margin-left:0!important}\"]],data:{}});function View_EndOfCarePage_1(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"div\",[[\"class\",\"testServer\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\" TEST SERVER CONNECTED \"]))],null,null)}function View_EndOfCarePage_2(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,8,\"ion-item\",[[\"class\",\"ion-no-padding\"],[\"lines\",\"none\"]],null,null,null,core_ngfactory.Db,core_ngfactory.w)),core.Cb(1,49152,null,0,fesm5.I,[core.j,core.p,core.G],{lines:[0,\"lines\"]},null),(_l()(),core.Db(2,0,null,0,2,\"ion-label\",[],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(3,49152,null,0,fesm5.O,[core.j,core.p,core.G],null,null),(_l()(),core.Wb(4,0,[\"\",\"\"])),(_l()(),core.Db(5,0,null,0,3,\"ion-radio\",[[\"slot\",\"start\"]],null,[[null,\"ionBlur\"],[null,\"ionSelect\"]],(function(_v,en,$event){var ad=!0;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,8)._handleBlurEvent($event.target)&&ad),\"ionSelect\"===en&&(ad=!1!==core.Pb(_v,8)._handleIonSelect($event.target)&&ad),ad}),core_ngfactory.Lb,core_ngfactory.I)),core.Tb(5120,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Pb]),core.Cb(7,49152,null,0,fesm5.bb,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],value:[1,\"value\"]},null),core.Cb(8,16384,null,0,fesm5.Pb,[core.p],null,null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,\"none\"),_ck(_v,7,0,!_co.pEndOfCareSave||!_co.endCareAllowEdit,core.Hb(1,\"\",_v.context.$implicit.id,\"\"))}),(function(_ck,_v){_ck(_v,4,0,_v.context.$implicit.name)}))}function View_EndOfCarePage_3(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\"Outcome is required.\"]))],null,null)}function View_EndOfCarePage_6(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\"You have reach the maximum character limit.\"]))],null,null)}function View_EndOfCarePage_7(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\"Reason is required.\"]))],null,null)}function View_EndOfCarePage_5(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,4,\"div\",[],null,null,null,null,null)),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_6)),core.Cb(2,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_7)),core.Cb(4,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var _co=_v.component,tmp_0_0=null;_ck(_v,2,0,null==(tmp_0_0=_co.form.get(\"reason\"))?null:tmp_0_0.hasError(\"maxlength\"));var tmp_1_0=null;_ck(_v,4,0,null==(tmp_1_0=_co.form.get(\"reason\"))?null:tmp_1_0.hasError(\"required\"))}),null)}function View_EndOfCarePage_4(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,12,\"div\",[[\"class\",\"textSection\"]],null,null,null,null,null)),(_l()(),core.Db(1,0,null,null,2,\"ion-label\",[[\"class\",\"textLabel\"]],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(2,49152,null,0,fesm5.O,[core.j,core.p,core.G],{color:[0,\"color\"]},null),(_l()(),core.Wb(-1,0,[\"Reason *\"])),(_l()(),core.Db(4,0,null,null,6,\"ion-textarea\",[[\"class\",\"textarea\"],[\"formControlName\",\"reason\"],[\"name\",\"transferred-reason\"],[\"placeholder\",\"Enter your reason here...\"],[\"rows\",\"10\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,5)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,5)._handleInputEvent($event.target)&&ad),ad}),core_ngfactory.Zb,core_ngfactory.X)),core.Cb(5,16384,null,0,fesm5.Sb,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Sb]),core.Cb(7,671744,null,0,fesm2015_forms.f,[[3,fesm2015_forms.b],[8,null],[8,null],[6,fesm2015_forms.l],[2,fesm2015_forms.x]],{name:[0,\"name\"],isDisabled:[1,\"isDisabled\"]},null),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.f]),core.Cb(9,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(10,49152,null,0,fesm5.zb,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],name:[1,\"name\"],placeholder:[2,\"placeholder\"],rows:[3,\"rows\"],value:[4,\"value\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_5)),core.Cb(12,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var tmp_0_0,_co=_v.component;_ck(_v,2,0,null!=(tmp_0_0=_co.form.get(\"reason\"))&&tmp_0_0.valid?\"dark\":\"danger\"),_ck(_v,7,0,\"reason\",!_co.pEndOfCareSave||!_co.endCareAllowEdit),_ck(_v,10,0,!_co.pEndOfCareSave||!_co.endCareAllowEdit,\"transferred-reason\",\"Enter your reason here...\",\"10\",_co.reason),_ck(_v,12,0,5===_co.outcome_treatment||\"5\"===_co.outcome_treatment)}),(function(_ck,_v){_ck(_v,4,0,core.Pb(_v,9).ngClassUntouched,core.Pb(_v,9).ngClassTouched,core.Pb(_v,9).ngClassPristine,core.Pb(_v,9).ngClassDirty,core.Pb(_v,9).ngClassValid,core.Pb(_v,9).ngClassInvalid,core.Pb(_v,9).ngClassPending)}))}function View_EndOfCarePage_8(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\"Doctors Advice is required.\"]))],null,null)}function View_EndOfCarePage_9(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"p\",[[\"class\",\"warning-message\"]],null,null,null,null,null)),(_l()(),core.Wb(-1,null,[\"You have reach the maximum character limit.\"]))],null,null)}function View_EndOfCarePage_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"app-headerbar\",[[\"title\",\"End of Care\"]],null,null,null,headerbar_component_ngfactory.b,headerbar_component_ngfactory.a)),core.Cb(1,114688,null,0,headerbar_component.a,[router.m,cf4_api_service.a,patient_service.a,login_service.a,api_service.a,pdf_viewer_service.a,loading_service.a,string_utils_service.a,fesm5.Nb,in_app_browser_ngx.a,fesm5.Jb,fesm5.a],{titleToUse:[0,\"titleToUse\"]},null),(_l()(),core.Db(2,0,null,null,64,\"ion-content\",[],null,null,null,core_ngfactory.mb,core_ngfactory.k)),core.Cb(3,49152,null,0,fesm5.v,[core.j,core.p,core.G],null,null),(_l()(),core.Db(4,0,null,0,3,\"ion-refresher\",[[\"pullFactor\",\"0.5\"],[\"pullMax\",\"200\"],[\"pullMin\",\"100\"],[\"slot\",\"fixed\"]],null,[[null,\"ionRefresh\"]],(function(_v,en,$event){var ad=!0;return\"ionRefresh\"===en&&(ad=!1!==_v.component.doRefreshEndOfCare($event)&&ad),ad}),core_ngfactory.Nb,core_ngfactory.K)),core.Cb(5,49152,null,0,fesm5.eb,[core.j,core.p,core.G],{pullFactor:[0,\"pullFactor\"],pullMax:[1,\"pullMax\"],pullMin:[2,\"pullMin\"]},null),(_l()(),core.Db(6,0,null,0,1,\"ion-refresher-content\",[],null,null,null,core_ngfactory.Mb,core_ngfactory.L)),core.Cb(7,49152,null,0,fesm5.fb,[core.j,core.p,core.G],null,null),(_l()(),core.sb(16777216,null,0,1,null,View_EndOfCarePage_1)),core.Cb(9,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(10,0,null,0,56,\"div\",[[\"class\",\"wrapper\"]],null,null,null,null,null)),(_l()(),core.Db(11,0,null,null,55,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],(function(_v,en,$event){var ad=!0;return\"submit\"===en&&(ad=!1!==core.Pb(_v,13).onSubmit($event)&&ad),\"reset\"===en&&(ad=!1!==core.Pb(_v,13).onReset()&&ad),ad}),null,null)),core.Cb(12,16384,null,0,fesm2015_forms.y,[],null,null),core.Cb(13,540672,null,0,fesm2015_forms.h,[[8,null],[8,null]],{form:[0,\"form\"]},null),core.Tb(2048,null,fesm2015_forms.b,null,[fesm2015_forms.h]),core.Cb(15,16384,null,0,fesm2015_forms.o,[[4,fesm2015_forms.b]],null,null),(_l()(),core.Db(16,0,null,null,20,\"div\",[[\"class\",\"textSection\"]],null,null,null,null,null)),(_l()(),core.Db(17,0,null,null,17,\"ion-radio-group\",[[\"formControlName\",\"outcome_treatment\"],[\"name\",\"outcome-treatment\"],[\"required\",\"\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionChange\"],[null,\"ionBlur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,20)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,20)._handleChangeEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==_co.outcomeTreatmentChange($event)&&ad),ad}),core_ngfactory.Kb,core_ngfactory.J)),core.Cb(18,16384,null,0,fesm2015_forms.t,[],{required:[0,\"required\"]},null),core.Tb(1024,null,fesm2015_forms.k,(function(p0_0){return[p0_0]}),[fesm2015_forms.t]),core.Cb(20,16384,null,0,fesm5.Rb,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Rb]),core.Cb(22,671744,null,0,fesm2015_forms.f,[[3,fesm2015_forms.b],[6,fesm2015_forms.k],[8,null],[6,fesm2015_forms.l],[2,fesm2015_forms.x]],{name:[0,\"name\"]},null),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.f]),core.Cb(24,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(25,49152,null,0,fesm5.cb,[core.j,core.p,core.G],{name:[0,\"name\"],value:[1,\"value\"]},null),(_l()(),core.Db(26,0,null,0,6,\"ion-list-header\",[[\"class\",\"textLabel\"]],null,null,null,core_ngfactory.Fb,core_ngfactory.E)),core.Cb(27,49152,null,0,fesm5.Q,[core.j,core.p,core.G],null,null),(_l()(),core.Db(28,0,null,0,2,\"ion-label\",[],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(29,49152,null,0,fesm5.O,[core.j,core.p,core.G],{color:[0,\"color\"]},null),(_l()(),core.Wb(-1,0,[\"Outcome Treatment *\"])),(_l()(),core.Db(31,0,null,0,1,\"app-modified-b-toast\",[],null,null,null,modified_b_toast_component_ngfactory.b,modified_b_toast_component_ngfactory.a)),core.Cb(32,114688,null,0,modified_b_toast_component.a,[fesm5.Tb],{modifiedBy:[0,\"modifiedBy\"],modifiedDate:[1,\"modifiedDate\"]},null),(_l()(),core.sb(16777216,null,0,1,null,View_EndOfCarePage_2)),core.Cb(34,278528,null,0,common.k,[core.Y,core.U,core.y],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_3)),core.Cb(36,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_4)),core.Cb(38,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(39,0,null,null,16,\"div\",[[\"class\",\"textSection\"]],null,null,null,null,null)),(_l()(),core.Db(40,0,null,null,2,\"ion-label\",[[\"class\",\"textLabel\"]],null,null,null,core_ngfactory.Eb,core_ngfactory.C)),core.Cb(41,49152,null,0,fesm5.O,[core.j,core.p,core.G],{color:[0,\"color\"]},null),(_l()(),core.Wb(-1,0,[\"Doctors Advice *\"])),(_l()(),core.Db(43,0,null,null,8,\"ion-textarea\",[[\"class\",\"textarea\"],[\"formControlName\",\"doctors_advice\"],[\"name\",\"doctor-advice\"],[\"placeholder\",\"Enter your advice here...\"],[\"required\",\"\"],[\"rows\",\"10\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0;return\"ionBlur\"===en&&(ad=!1!==core.Pb(_v,46)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Pb(_v,46)._handleInputEvent($event.target)&&ad),ad}),core_ngfactory.Zb,core_ngfactory.X)),core.Cb(44,16384,null,0,fesm2015_forms.t,[],{required:[0,\"required\"]},null),core.Tb(1024,null,fesm2015_forms.k,(function(p0_0){return[p0_0]}),[fesm2015_forms.t]),core.Cb(46,16384,null,0,fesm5.Sb,[core.p],null,null),core.Tb(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm5.Sb]),core.Cb(48,671744,null,0,fesm2015_forms.f,[[3,fesm2015_forms.b],[6,fesm2015_forms.k],[8,null],[6,fesm2015_forms.l],[2,fesm2015_forms.x]],{name:[0,\"name\"],isDisabled:[1,\"isDisabled\"]},null),core.Tb(2048,null,fesm2015_forms.m,null,[fesm2015_forms.f]),core.Cb(50,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.Cb(51,49152,null,0,fesm5.zb,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],name:[1,\"name\"],placeholder:[2,\"placeholder\"],required:[3,\"required\"],rows:[4,\"rows\"],value:[5,\"value\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_8)),core.Cb(53,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.sb(16777216,null,null,1,null,View_EndOfCarePage_9)),core.Cb(55,16384,null,0,common.l,[core.Y,core.U],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Db(56,0,null,null,10,\"div\",[[\"class\",\"ion-padding\"]],null,null,null,null,null)),(_l()(),core.Db(57,0,null,null,4,\"ion-button\",[[\"expand\",\"block\"]],[[8,\"hidden\",0]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.saveEndOfCare()&&ad),ad}),core_ngfactory.fb,core_ngfactory.d)),core.Cb(58,49152,null,0,fesm5.l,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],expand:[1,\"expand\"]},null),(_l()(),core.Db(59,0,null,0,1,\"ion-icon\",[[\"name\",\"paper-plane\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(60,49152,null,0,fesm5.D,[core.j,core.p,core.G],{name:[0,\"name\"]},null),(_l()(),core.Wb(-1,0,[\" Save\"])),(_l()(),core.Db(62,0,null,null,4,\"ion-button\",[[\"expand\",\"block\"],[\"type\",\"button\"]],[[8,\"hidden\",0]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"click\"===en&&(ad=0!=(_co.endCareAllowEdit=!_co.endCareAllowEdit)&&ad),ad}),core_ngfactory.fb,core_ngfactory.d)),core.Cb(63,49152,null,0,fesm5.l,[core.j,core.p,core.G],{disabled:[0,\"disabled\"],expand:[1,\"expand\"],type:[2,\"type\"]},null),(_l()(),core.Db(64,0,null,0,1,\"ion-icon\",[[\"name\",\"create\"]],null,null,null,core_ngfactory.ub,core_ngfactory.s)),core.Cb(65,49152,null,0,fesm5.D,[core.j,core.p,core.G],{name:[0,\"name\"]},null),(_l()(),core.Wb(-1,0,[\" Edit\"]))],(function(_ck,_v){var tmp_25_0,_co=_v.component;_ck(_v,1,0,\"End of Care\"),_ck(_v,5,0,\"0.5\",\"200\",\"100\"),_ck(_v,9,0,_co.loginService.inTestServer),_ck(_v,13,0,_co.form),_ck(_v,18,0,\"\"),_ck(_v,22,0,\"outcome_treatment\"),_ck(_v,25,0,\"outcome-treatment\",_co.outcome_treatment),_ck(_v,29,0,null!=(tmp_25_0=_co.form.get(\"outcome_treatment\"))&&tmp_25_0.valid?\"dark\":\"danger\"),_ck(_v,32,0,_co.endCaremodified.modified_by,_co.endCaremodified.modified_dt),_ck(_v,34,0,_co.outcomeList);var tmp_31_0,tmp_29_0=null;_ck(_v,36,0,null==(tmp_29_0=_co.form.get(\"outcome_treatment\"))?null:tmp_29_0.hasError(\"required\")),_ck(_v,38,0,5===_co.outcome_treatment||\"5\"===_co.outcome_treatment),_ck(_v,41,0,null!=(tmp_31_0=_co.form.get(\"doctors_advice\"))&&tmp_31_0.valid?\"dark\":\"danger\"),_ck(_v,44,0,\"\"),_ck(_v,48,0,\"doctors_advice\",!_co.pEndOfCareSave||!_co.endCareAllowEdit),_ck(_v,51,0,!_co.pEndOfCareSave||!_co.endCareAllowEdit,\"doctor-advice\",\"Enter your advice here...\",\"\",\"10\",_co.doctors_advice);var tmp_49_0=null;_ck(_v,53,0,null==(tmp_49_0=_co.form.get(\"doctors_advice\"))?null:tmp_49_0.hasError(\"required\"));var tmp_50_0=null;_ck(_v,55,0,null==(tmp_50_0=_co.form.get(\"doctors_advice\"))?null:tmp_50_0.hasError(\"maxlength\")),_ck(_v,58,0,_co.form.invalid||!_co.pEndOfCareSave||!_co.endCareAllowEdit,\"block\"),_ck(_v,60,0,\"paper-plane\"),_ck(_v,63,0,!_co.pEndOfCareSave,\"block\",\"button\"),_ck(_v,65,0,\"create\")}),(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,core.Pb(_v,15).ngClassUntouched,core.Pb(_v,15).ngClassTouched,core.Pb(_v,15).ngClassPristine,core.Pb(_v,15).ngClassDirty,core.Pb(_v,15).ngClassValid,core.Pb(_v,15).ngClassInvalid,core.Pb(_v,15).ngClassPending),_ck(_v,17,0,core.Pb(_v,18).required?\"\":null,core.Pb(_v,24).ngClassUntouched,core.Pb(_v,24).ngClassTouched,core.Pb(_v,24).ngClassPristine,core.Pb(_v,24).ngClassDirty,core.Pb(_v,24).ngClassValid,core.Pb(_v,24).ngClassInvalid,core.Pb(_v,24).ngClassPending),_ck(_v,43,0,core.Pb(_v,44).required?\"\":null,core.Pb(_v,50).ngClassUntouched,core.Pb(_v,50).ngClassTouched,core.Pb(_v,50).ngClassPristine,core.Pb(_v,50).ngClassDirty,core.Pb(_v,50).ngClassValid,core.Pb(_v,50).ngClassInvalid,core.Pb(_v,50).ngClassPending),_ck(_v,57,0,!_co.endCareAllowEdit),_ck(_v,62,0,_co.endCareAllowEdit)}))}function View_EndOfCarePage_Host_0(_l){return core.Yb(0,[(_l()(),core.Db(0,0,null,null,1,\"app-end-of-care\",[],null,null,null,View_EndOfCarePage_0,RenderType_EndOfCarePage)),core.Cb(1,114688,null,0,end_of_care_page_EndOfCarePage,[end_of_care_api_service_EndOfCareApiService,patient_service.a,api_service.a,login_service.a,loading_service.a,string_utils_service.a,permission_validator_service.a,alert_service_service.a,fesm2015_forms.d,fesm5.Ib],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var EndOfCarePageNgFactory=core.zb(\"app-end-of-care\",end_of_care_page_EndOfCarePage,View_EndOfCarePage_Host_0,{},{},[]),file_transfer_ngx=__webpack_require__(\"gRf5\"),file_opener_ngx=__webpack_require__(\"wMzM\"),file_ngx=__webpack_require__(\"t8sF\"),components_module=__webpack_require__(\"j1ZV\");__webpack_require__.d(__webpack_exports__,\"EndOfCarePageModuleNgFactory\",(function(){return EndOfCarePageModuleNgFactory}));var EndOfCarePageModuleNgFactory=core.Ab(EndOfCarePageModule,[],(function(_l){return core.Mb([core.Nb(512,core.m,core.lb,[[8,[router_ngfactory.a,nurse_note_component_ngfactory.a,EndOfCarePageNgFactory]],[3,core.m],core.E]),core.Nb(4608,common.n,common.m,[core.A,[2,common.C]]),core.Nb(4608,fesm2015_forms.w,fesm2015_forms.w,[]),core.Nb(4608,fesm2015_forms.d,fesm2015_forms.d,[]),core.Nb(4608,fesm5.b,fesm5.b,[core.G,core.g]),core.Nb(4608,fesm5.Jb,fesm5.Jb,[fesm5.b,core.m,core.w]),core.Nb(4608,fesm5.Ob,fesm5.Ob,[fesm5.b,core.m,core.w]),core.Nb(4608,http.j,http.p,[common.d,core.J,http.n]),core.Nb(4608,http.q,http.q,[http.j,http.o]),core.Nb(5120,http.a,(function(p0_0){return[p0_0]}),[http.q]),core.Nb(4608,http.m,http.m,[]),core.Nb(6144,http.k,null,[http.m]),core.Nb(4608,http.i,http.i,[http.k]),core.Nb(6144,http.b,null,[http.i]),core.Nb(4608,http.f,http.l,[http.b,core.w]),core.Nb(4608,http.c,http.c,[http.f]),core.Nb(4608,file_transfer_ngx.a,file_transfer_ngx.a,[]),core.Nb(4608,file_opener_ngx.a,file_opener_ngx.a,[]),core.Nb(4608,file_ngx.a,file_ngx.a,[]),core.Nb(4608,pdf_viewer_service.a,pdf_viewer_service.a,[file_opener_ngx.a,file_transfer_ngx.a,file_ngx.a,loading_service.a]),core.Nb(1073742336,common.c,common.c,[]),core.Nb(1073742336,fesm2015_forms.v,fesm2015_forms.v,[]),core.Nb(1073742336,fesm2015_forms.i,fesm2015_forms.i,[]),core.Nb(1073742336,fesm2015_forms.s,fesm2015_forms.s,[]),core.Nb(1073742336,fesm5.Fb,fesm5.Fb,[]),core.Nb(1073742336,router.q,router.q,[[2,router.v],[2,router.m]]),core.Nb(1073742336,http.e,http.e,[]),core.Nb(1073742336,http.d,http.d,[]),core.Nb(1073742336,components_module.a,components_module.a,[]),core.Nb(1073742336,EndOfCarePageModule,EndOfCarePageModule,[]),core.Nb(256,http.n,\"XSRF-TOKEN\",[]),core.Nb(256,http.o,\"X-XSRF-TOKEN\",[]),core.Nb(1024,router.k,(function(){return[[{path:\"\",component:end_of_care_page_EndOfCarePage}]]}),[])])}))}}]);","extractedComments":[]}